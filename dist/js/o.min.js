/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./o.js":
/*!**************!*\
  !*** ./o.js ***!
  \**************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nlet resortsSearchList = [], hotelsSearchList = [], swiperSimple;\nconst e2rt = {\n  F: \"\\u0410\",\n  \"<\": \"\\u0411\",\n  D: \"\\u0412\",\n  U: \"\\u0413\",\n  L: \"\\u0414\",\n  T: \"\\u0415\",\n  \"~\": \"\\u0401\",\n  \":\": \"\\u0416\",\n  P: \"\\u0417\",\n  B: \"\\u0418\",\n  Q: \"\\u0419\",\n  R: \"\\u041A\",\n  K: \"\\u041B\",\n  V: \"\\u041C\",\n  Y: \"\\u041D\",\n  J: \"\\u041E\",\n  G: \"\\u041F\",\n  H: \"\\u0420\",\n  C: \"\\u0421\",\n  N: \"\\u0422\",\n  E: \"\\u0423\",\n  A: \"\\u0424\",\n  \"{\": \"\\u0425\",\n  W: \"\\u0426\",\n  X: \"\\u0427\",\n  I: \"\\u0428\",\n  O: \"\\u0429\",\n  \"}\": \"\\u042A\",\n  S: \"\\u042B\",\n  M: \"\\u042C\",\n  '\"': \"\\u042D\",\n  \">\": \"\\u042E\",\n  Z: \"\\u042F\",\n  f: \"\\u0430\",\n  \",\": \"\\u0431\",\n  d: \"\\u0432\",\n  u: \"\\u0433\",\n  l: \"\\u0434\",\n  t: \"\\u0435\",\n  \"`\": \"\\u0451\",\n  \";\": \"\\u0436\",\n  p: \"\\u0437\",\n  b: \"\\u0438\",\n  q: \"\\u0439\",\n  r: \"\\u043A\",\n  k: \"\\u043B\",\n  v: \"\\u043C\",\n  y: \"\\u043D\",\n  j: \"\\u043E\",\n  g: \"\\u043F\",\n  h: \"\\u0440\",\n  c: \"\\u0441\",\n  n: \"\\u0442\",\n  e: \"\\u0443\",\n  a: \"\\u0444\",\n  \"[\": \"\\u0445\",\n  w: \"\\u0446\",\n  x: \"\\u0447\",\n  i: \"\\u0448\",\n  o: \"\\u0449\",\n  \"]\": \"\\u044A\",\n  s: \"\\u044B\",\n  m: \"\\u044C\",\n  \"'\": \"\\u044D\",\n  \".\": \"\\u044E\",\n  z: \"\\u044F\"\n};\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  var _a;\n  const TABLET_WIDTH = 740;\n  const DESKTOP_WIDTH = 1e3;\n  const DESKTOP_WIDTH_MD = 1240;\n  const DESKTOP_WIDTH_LG = 1400;\n  const PAGE_CLASS = \"page\";\n  const HIDDEN_CLASS = \"visually-hidden\";\n  const hiddenClass = \"visually-hidden\";\n  const menuBtnClassActive = \"active\";\n  const pageHeaderClass = \"page__header\";\n  const headerMenuBtnClass = \"header__menu-btn\";\n  const headerMainClassActive = \"active\";\n  const headerMainClass = \"header__main\";\n  const siteNoticeClass = \"site-notice\";\n  let WINDOW_WIDTH;\n  let WINDOW_WIDTH_INNER;\n  let windowHeight;\n  let pageHeaderHeight;\n  let pageHeaderFormHeight;\n  let headerMain = document.querySelector(`.${headerMainClass}`);\n  let headerMenuBtn = document.querySelector(`.${headerMenuBtnClass}`);\n  let siteNotice = document.querySelector(`.${siteNoticeClass}`);\n  let siteNoticeIsHidden = siteNotice ? siteNotice.classList.contains(hiddenClass) : false;\n  function setPageMinHeight() {\n    document.documentElement.style.setProperty(\"--re-page-min-height\", `${window.innerHeight}px`);\n  }\n  let x;\n  let big;\n  function widthDevice() {\n    x = document.documentElement.clientWidth;\n    WINDOW_WIDTH = document.documentElement.clientWidth;\n    WINDOW_WIDTH_INNER = window.innerWidth;\n    setPageMinHeight();\n    windowHeight = window.innerHeight;\n    if (x >= 980) big = true;\n    if (x < 980 && big) {\n      delSideItemsCLass(\".drop-country__item\");\n      big = false;\n    }\n  }\n  widthDevice();\n  function delSideItemsCLass(itemName) {\n    const items = document.querySelectorAll(itemName);\n    if (items.length > 0) {\n      for (const item of items) {\n        item.removeAttribute(\"style\");\n      }\n    }\n  }\n  let close720 = x >= 720 ? true : false;\n  let close980 = x >= 980 ? true : false;\n  window.addEventListener(\"resize\", () => {\n    widthDevice();\n    if (x < 720 && close720) {\n      close720 = false;\n      closePopups();\n    }\n    if (x >= 720 && !close720) {\n      close720 = true;\n      closePopups();\n    }\n    if (x < 980 && close980) {\n      close980 = false;\n      closePopups();\n    }\n    if (x >= 980 && !close980) {\n      close980 = true;\n      closePopups();\n    }\n  });\n  (_a = document.querySelector(\".notice-promo\")) == null ? void 0 : _a.addEventListener(\"click\", (e) => {\n    const block = e.target.closest(\".notice-promo\");\n    const link = block.querySelector(\".notice-promo__text-box\");\n    const close = block.querySelector(\".notice-promo__btn\");\n    const transitionEnd = throttle((e2) => {\n      block.classList.remove(\"_in-transition\");\n      block.removeEventListener(\"transitionend\", transitionEnd);\n    });\n    closePopups();\n    if (link && link.contains(e.target)) {\n      block.classList.add(\"_in-transition\");\n      block.classList.toggle(\"active\");\n    }\n    if (close && close.contains(e.target)) {\n      block.classList.add(\"_in-transition\");\n      block.classList.remove(\"active\");\n    }\n    block.addEventListener(\"transitionend\", transitionEnd);\n    e.preventDefault();\n  });\n  const noticePromoScroll = (e) => {\n    const block = document.querySelector(\".notice-promo\");\n    if (!block) return window.removeEventListener(\"scroll\", noticePromoScroll);\n    if (!block.classList.contains(\"active\") || block.classList.contains(\"_in-transition\")) return;\n    block.classList.remove(\"active\");\n    closePopups();\n  };\n  window.addEventListener(\"scroll\", noticePromoScroll);\n  const notice_marquee0 = $(\".notice-promo__bg-wrap\").each(function(i, el) {\n    if (window.innerWidth < TABLET_WIDTH) return;\n    $(el).marquee({\n      delayBeforeStart: 0,\n      pauseOnHover: false,\n      speed: window.innerWidth < TABLET_WIDTH ? 2 : 10 * windowHeight * 5e-4,\n      direction: i % 2 === 0 ? \"down\" : \"up\",\n      startVisible: true,\n      duplicated: true,\n      gap: 20\n    });\n  });\n  const marquee = $(\".ticker__text-wrap\").marquee({\n    delayBeforeStart: 2e3,\n    pauseOnHover: true,\n    speed: 150,\n    startVisible: true\n  });\n  if (siteNotice && !siteNoticeIsHidden) {\n    let siteNoticeBtn = siteNotice.querySelector(`.${siteNoticeClass}__btn`);\n    siteNoticeBtn.addEventListener(\"click\", () => {\n      siteNotice.classList.add(hiddenClass);\n      checkPageHeaderHeight();\n      let expires = /* @__PURE__ */ new Date();\n      expires.setTime(expires.getTime() + parseInt(siteNotice.getAttribute(\"data-timeout\")) * 24 * 60 * 60 * 1e3);\n      document.cookie = \"informer_\" + (siteNotice.getAttribute(\"data-id\") || \"\") + \"=1; expires=\" + expires.toUTCString() + \"; path=/\";\n    });\n  }\n  function checkPageHeaderHeight() {\n    const header = document.querySelector(`.${pageHeaderClass}`);\n    if (!header) return;\n    const newHeight = parseFloat(window.getComputedStyle(header).height);\n    if (pageHeaderHeight === newHeight) return;\n    pageHeaderHeight = newHeight;\n    document.documentElement.style.setProperty(\"--re-page-header-height\", `${pageHeaderHeight}px`);\n  }\n  function checkPageHeaderFormHeight() {\n    const headerForm = document.querySelector(`.page__header-form`);\n    if (!headerForm) return;\n    const newFormHeight = parseFloat(window.getComputedStyle(headerForm).height);\n    if (pageHeaderFormHeight === newFormHeight) return;\n    pageHeaderFormHeight = newFormHeight;\n    document.documentElement.style.setProperty(\"--re-page-header-form-height\", `${pageHeaderFormHeight}px`);\n  }\n  checkPageHeaderHeight();\n  checkPageHeaderFormHeight();\n  const newHeaderHandlers = (() => {\n    const BODY = document.querySelector(\"body\");\n    const header = BODY.querySelector(\".header\");\n    if (!header) return;\n    const CLASS_ACTIVE = \"_active\";\n    const WIDTH_TABLET = 740;\n    const WIDTH_DESKTOP_SM = 1e3;\n    const WIDTH_DESKTOP_MD = 1240;\n    const WIDTH_DESKTOP_LG = 1400;\n    const WIDTH_DESKTOP_XL = 1600;\n    const headerMain2 = header.querySelector(\".header__main\");\n    const headerForm = document.querySelector(\".page__header-form\");\n    const hasForm = headerForm !== null;\n    const formcloseBtn = document.querySelector(\".header-form__formclose-btn\");\n    let WINDOW_WIDTH2 = window.innerWidth;\n    let WINDOW_WIDTH_CURRENT = WINDOW_WIDTH2;\n    let lastScrollTop = 0;\n    const recalcHeaderHeight = () => {\n      const headerHeight = header.offsetHeight;\n      headerMain2.style.top = `${headerHeight}px`;\n      headerMain2.style.maxHeight = `calc(100dvh - ${headerHeight}px`;\n      return headerHeight;\n    };\n    const headerReplaceItemsHandler = () => {\n      const config = [\n        {\n          e: \".header__defs\",\n          c1: \".header__main-part--info\",\n          c2: \".header__row1 .header__right\",\n          c: WINDOW_WIDTH2 >= WIDTH_TABLET,\n          c1_p: \"append\",\n          c2_p: \"prepend\",\n          c1_hide: false\n        },\n        {\n          e: \".header__lk\",\n          c1: \".header__main-part--lk\",\n          c2: \".header__row1 .header__btns\",\n          c: WINDOW_WIDTH2 >= WIDTH_DESKTOP_SM,\n          c1_p: \"append\",\n          c2_p: \"prepend\",\n          c1_hide: true\n        },\n        {\n          e: \".header__currency-wrap\",\n          c1: \".header__main-part--info\",\n          c2: \".header__row1 .header__left\",\n          c: WINDOW_WIDTH2 >= WIDTH_DESKTOP_MD,\n          c1_p: \"prepend\",\n          c2_p: \"append\",\n          c1_hide: true\n        },\n        {\n          e: \".header__nav-wrap\",\n          c1: \".header__main-part--nav\",\n          c2: \".header__row2 .header__inner\",\n          c: WINDOW_WIDTH2 >= WIDTH_DESKTOP_LG,\n          c1_p: \"append\",\n          c2_p: \"append\",\n          c1_hide: true\n        }\n      ];\n      const hideBtn = (condition = false) => {\n        header.querySelector(\".header__menubtn-wrap\").classList.toggle(\"hidden\", condition);\n      };\n      const replace = (elem, container1, container2, condition, container1_place = \"append\", container2_place = \"append\", container1_hide = false) => {\n        const el = header.querySelector(elem);\n        const cont1 = header.querySelector(container1);\n        const cont2 = header.querySelector(container2);\n        const cond = condition;\n        if (!el || !cont1 || !cont2 || cond === void 0) return;\n        if (cond && !cont2.contains(el)) {\n          moveElement(el, cont2, container2_place);\n          if (container1_hide) cont1.classList.add(\"hidden\");\n        } else if (!cond && !cont1.contains(el)) {\n          moveElement(el, cont1, container1_place);\n          if (container1_hide) cont1.classList.remove(\"hidden\");\n        }\n      };\n      const run = () => {\n        let allInC2 = true;\n        config.forEach(({ e, c1, c2, c, c1_p, c2_p, c1_hide }, i) => {\n          replace(e, c1, c2, c, c1_p, c2_p, c1_hide);\n          const el = header.querySelector(e);\n          const cont2 = header.querySelector(c2);\n          if (el && !(cont2 == null ? void 0 : cont2.contains(el))) {\n            allInC2 = false;\n          }\n        });\n        hideBtn(allInC2);\n      };\n      run();\n    };\n    const headerMobileMenuHandler = () => {\n      function layoutToggle(btn, layout, cb, layoutClickClose = false) {\n        const menuBtn = document.querySelector(btn);\n        const menuLayout = document.querySelector(layout);\n        if (!menuBtn || !menuLayout) return;\n        menuBtn.addEventListener(\"click\", toggleMenuBtn);\n        if (layoutClickClose) menuLayout.addEventListener(\"click\", toggleMenuBtn, false);\n        function toggleMenuBtn(e) {\n          if (e.target !== menuLayout && !menuBtn.contains(e.target)) return;\n          const isActive = menuLayout.classList.contains(CLASS_ACTIVE);\n          const scrollWidth = window.innerWidth - BODY.offsetWidth;\n          if (isActive) {\n            menuBtn.classList.remove(CLASS_ACTIVE);\n            menuLayout.classList.remove(CLASS_ACTIVE);\n            setTimeout(() => {\n              if (!menuLayout.classList.contains(CLASS_ACTIVE)) {\n                BODY.style.width = \"\";\n                BODY.style.marginRight = \"\";\n                BODY.style.overflow = \"unset\";\n              }\n            }, 300);\n          } else {\n            closePopups();\n            BODY.style.width = getComputedStyle(BODY).width;\n            BODY.style.marginRight = `${scrollWidth}px`;\n            BODY.style.overflow = \"hidden\";\n            menuBtn.classList.add(CLASS_ACTIVE);\n            menuLayout.classList.add(CLASS_ACTIVE);\n          }\n          if (cb && typeof cb === \"function\") cb();\n        }\n      }\n      layoutToggle(`.${headerMenuBtnClass}`, `.${headerMainClass}`, recalcHeaderHeight, false);\n    };\n    const changeScrollClasses = () => {\n      var currentScrollTop = window.scrollY;\n      var isMinScroll = currentScrollTop > 30;\n      var isAfterHeader = currentScrollTop >= pageHeaderHeight;\n      var isScrollingDown = lastScrollTop < currentScrollTop && currentScrollTop >= 700;\n      var isScrollingUp = lastScrollTop >= currentScrollTop && currentScrollTop >= 700;\n      header.classList.toggle(\"_scroll\", isMinScroll);\n      header.classList.toggle(\"_scroll-up\", isScrollingUp);\n      header.classList.toggle(\"_scroll-down\", isScrollingDown);\n      if (hasForm) {\n        headerForm.classList.toggle(\"_scroll\", isAfterHeader);\n        headerForm.classList.toggle(\"_scroll-down\", isScrollingDown);\n        headerForm.classList.toggle(\"_scroll-up\", isScrollingUp);\n      }\n      lastScrollTop = currentScrollTop;\n    };\n    headerReplaceItemsHandler();\n    headerMobileMenuHandler();\n    const ON_LOAD_EVENTS = () => {\n    };\n    const ON_RESIZE_EVENTS = () => {\n      if (window.innerWidth !== WINDOW_WIDTH2) {\n        WINDOW_WIDTH2 = window.innerWidth;\n      }\n    };\n    const ON_RESIZE_EVENTS_DELAYED = throttle(() => {\n      if (WINDOW_WIDTH_CURRENT !== WINDOW_WIDTH2) {\n        BODY.style.width = \"\";\n        BODY.style.marginRight = \"\";\n        BODY.style.overflow = \"unset\";\n        header.querySelectorAll(\"._active\").forEach((e) => e.classList.remove(\"_active\"));\n        headerMain2.style.widht = \"\";\n        headerMain2.style.marginRight = \"\";\n        headerReplaceItemsHandler();\n        changeScrollClasses();\n        checkPageHeaderHeight();\n        if (formcloseBtn == null ? void 0 : formcloseBtn.classList.contains(\"active\")) {\n          formcloseBtn.click();\n          setTimeout(() => {\n            checkPageHeaderFormHeight();\n          }, 400);\n        } else {\n          checkPageHeaderFormHeight();\n        }\n        WINDOW_WIDTH_CURRENT = WINDOW_WIDTH2;\n      }\n    }, 300);\n    const ON_SCROLL_EVENTS = () => {\n      changeScrollClasses();\n    };\n    const ON_SCROLL_EVENTS_DELAYED = throttle(() => {\n    }, 300);\n    window.addEventListener(\"load\", ON_LOAD_EVENTS);\n    window.addEventListener(\"resize\", () => {\n      ON_RESIZE_EVENTS();\n      ON_RESIZE_EVENTS_DELAYED();\n    });\n    window.addEventListener(\"scroll\", () => {\n      ON_SCROLL_EVENTS();\n      ON_SCROLL_EVENTS_DELAYED();\n    });\n    return {\n      recalcHeaderHeight\n    };\n  })();\n  const navItemClass = \"nav-item\";\n  const navItemClassActive = `active`;\n  const navItemBtnClass = `${navItemClass}__btn`;\n  const navItemBodyClass = `${navItemClass}__body`;\n  const navItemBodyInnerClass = `${navItemClass}__body-inner`;\n  const navItems = document.querySelectorAll(`.${navItemClass}`);\n  const navItemBtns = document.querySelectorAll(`.${navItemBtnClass}`);\n  const navItemBodys = document.querySelectorAll(`.${navItemBodyClass}`);\n  if (navItemBtns.length > 0) {\n    let navItemBodyHidden = function(item, elem, height = 0) {\n      elem.style.height = height;\n      setTimeout(() => {\n        elem.style.height = \"0\";\n        item.classList.remove(navItemClassActive);\n      }, 0);\n    }, navItemBodyVisible = function(item, elem, height) {\n      elem.style.height = height;\n      item.classList.add(navItemClassActive);\n      setTimeout(() => {\n        item.classList.contains(navItemClassActive) ? elem.style.height = \"auto\" : elem.style.height = \"0\";\n      }, dur);\n    }, changeNavItemActive = function() {\n      let item = this.closest(`.${navItemClass}`);\n      let itemBody = item.querySelector(`.${navItemBodyClass}`);\n      let isItemActive = item.classList.contains(navItemClassActive);\n      let itemBodyInner = item.querySelector(`.${navItemBodyInnerClass}`);\n      let itemBodyNeedyHeight = window.getComputedStyle(itemBodyInner).height;\n      if (!isItemActive) {\n        navItems.forEach((item2) => {\n          if (!item2.classList.contains(navItemClassActive)) return;\n          item2.querySelector(`.${navItemBtnClass}`).click();\n        });\n        navItemBodyVisible(item, itemBody, itemBodyNeedyHeight);\n      } else {\n        navItemBodyHidden(item, itemBody, itemBodyNeedyHeight);\n      }\n    }, checkLayersPosition = function() {\n      const layers = navItemBodys;\n      const bodyW = WINDOW_WIDTH_INNER;\n      if (!layers[0].closest(\".header__row2\")) return;\n      const padding = 15;\n      layers.forEach((layer) => {\n        layer.style.right = \"\";\n        layer.style.left = \"\";\n        layer.style.maxWidth = \"\";\n        layer.style.transform = \"\";\n        const { right, left } = layer.getBoundingClientRect();\n        const layerW = bodyW - padding * 2;\n        const excessR = right - bodyW + padding;\n        const overlapW = layerW + left - right;\n        if (overlapW < 0) {\n          layer.style.right = \"auto\";\n          layer.style.left = `0`;\n          layer.style.maxWidth = `${layerW}px`;\n        } else if (right >= bodyW - padding) {\n          layer.style.left = `-${excessR}px`;\n        }\n      });\n    };\n    const dur = 300;\n    navItemBodys.forEach((body) => {\n      const item = body.closest(`.${navItemClass}`);\n      const btn = item.querySelector(`.${navItemBtnClass}`);\n      navItemBodyHidden(item, body);\n      btn.addEventListener(\"click\", changeNavItemActive);\n    });\n    setTimeout(() => checkLayersPosition(), 600);\n    window.addEventListener(\"resize\", throttle(checkLayersPosition, 600));\n  }\n  const swiperHero = new Swiper(\".hero__swiper\", {\n    wrapperClass: \"hero__swiper-wrapper\",\n    slideClass: \"hero__slide\",\n    speed: 400,\n    spaceBetween: 0,\n    loop: true,\n    autoplay: {\n      delay: 5e3,\n      disableOnInteraction: false\n    },\n    pagination: {\n      el: \".slider-pagination\",\n      type: \"bullets\"\n    },\n    navigation: {\n      nextEl: \".hero .slider-btn--next\",\n      prevEl: \".hero .slider-btn--prev\"\n    }\n  });\n  if (document.querySelectorAll(\".hero2__slide\").length > 1) {\n    const swiperHero2 = new Swiper(\".hero2__swiper\", {\n      wrapperClass: \"hero2__swiper-wrapper\",\n      slideClass: \"hero2__slide\",\n      speed: 400,\n      spaceBetween: 0,\n      loop: true,\n      autoplay: {\n        delay: 5e3,\n        disableOnInteraction: false\n      },\n      pagination: {\n        el: \".hero2 .slider-pagination\",\n        type: \"bullets\",\n        clickable: true\n      },\n      navigation: {\n        nextEl: \".hero2 .slider-btn2--next\",\n        prevEl: \".hero2 .slider-btn2--prev\"\n      }\n    });\n  }\n  initSwiperSimple();\n  document.querySelectorAll(\".sale__swiper\").forEach((block, i) => {\n    const slidesLength = block.querySelectorAll(\".sale__slide\").length;\n    if (slidesLength < 2) return;\n    const initMod = `_${i + 1}`;\n    block.classList.add(initMod);\n    const swiperSale = new Swiper(`.sale__swiper.${initMod}`, {\n      wrapperClass: \"sale__wrapper\",\n      slideClass: \"sale__slide\",\n      speed: 400,\n      spaceBetween: 15,\n      loop: true,\n      autoplay: {\n        delay: 5e3,\n        disableOnInteraction: false\n      },\n      navigation: {\n        nextEl: \".sale .slider-btn--next\",\n        prevEl: \".sale .slider-btn--prev\"\n      },\n      pagination: {\n        el: \".slider-pagination\",\n        type: \"bullets\"\n      }\n    });\n  });\n  const sliderToursTop = (() => {\n    const mainBlock = document.querySelector(\".tours-top\");\n    if (!mainBlock) return;\n    const slides = mainBlock.querySelectorAll(\".tours-top__slide\");\n    if (slides.length < 2) return;\n    return new Swiper(\".tours-top__slider\", {\n      wrapperClass: \"tours-top__slider-list\",\n      slideClass: \"tours-top__slide\",\n      speed: 400,\n      spaceBetween: 0,\n      loop: true,\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      watchOverflow: true,\n      autoplay: {\n        delay: 5e3,\n        disableOnInteraction: false,\n        pauseOnMouseEnter: true\n      },\n      navigation: {\n        nextEl: \".tours-top__slider .slider-btn2--next\",\n        prevEl: \".tours-top__slider .slider-btn2--prev\"\n      },\n      on: {\n        init: (slider) => {\n          mainBlock.classList.add(\"tours-top_slider\");\n        }\n      }\n    });\n  })();\n  const sliderVolForm = (() => {\n    const mainBlock = document.querySelector(\".vol-form\");\n    if (!mainBlock) return;\n    const slides = mainBlock.querySelectorAll(\".vol-form__slide\");\n    if (slides.length < 2) return;\n    return new Swiper(\".vol-form__slider\", {\n      wrapperClass: \"vol-form__slider-list\",\n      slideClass: \"vol-form__slide\",\n      speed: 400,\n      spaceBetween: 0,\n      loop: true,\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      watchOverflow: true,\n      autoplay: {\n        delay: 5e3,\n        disableOnInteraction: false,\n        pauseOnMouseEnter: true\n      },\n      navigation: {\n        nextEl: \".vol-form__slider .slider-btn2--next\",\n        prevEl: \".vol-form__slider .slider-btn2--prev\"\n      },\n      pagination: {\n        el: \".vol-form .slider-pagination\",\n        type: \"bullets\",\n        clickable: true,\n        dynamicBullets: slides.length > 5 ? true : false\n      }\n      // on: {\n      //     init: (slider) => {\n      //         mainBlock.classList.add('vol-form_slider');\n      //     }\n      // }\n    });\n  })();\n  const dropCountry2 = (() => {\n    const classes = {\n      block: \"drop-country2\",\n      mods: {\n        alpha: \"drop-country2_alpha\",\n        region: \"drop-country2_region\",\n        switches: \"drop-country2_switches\"\n      },\n      items: \"drop-country2__item\",\n      bodys: \"drop-country2__groups\",\n      bodyHidden: \"hidden\",\n      mainList: \"drop-country2__group\",\n      searchForm: \"search-input\",\n      searchInput: \"search-input__search\",\n      mainEmpty: \"drop-country2__main-empty\",\n      mainEmptyHidden: \"hidden\",\n      switcher: {\n        zone: \"drop-country2__btns\",\n        btn: \"btn\",\n        btnActive: \"active\",\n        groups: {\n          alpha: \"by-alpha\",\n          region: \"by-region\"\n        }\n      },\n      filter: {\n        btns: \"drop-country2__btns-filters\",\n        btn: \"btn\",\n        btnActive: \"active\"\n      }\n    };\n    const searchInputs = document.querySelectorAll(`.${classes.block} .${classes.searchInput}`);\n    const searchForms = document.querySelectorAll(`.${classes.block} .${classes.searchForm}`);\n    const modGroupMap = {\n      alpha: {\n        btnSort: classes.switcher.groups.alpha,\n        blockMod: classes.mods.alpha\n      },\n      region: {\n        btnSort: classes.switcher.groups.region,\n        blockMod: classes.mods.region\n      }\n    };\n    let currentVisaFilter = \"visa-all\";\n    const switchGroups = (target, block) => {\n      var _a2;\n      const bodysHidden = block.querySelectorAll(`.${classes.bodys}:not(.${classes.bodyHidden})`);\n      const targetData = target.dataset.sort;\n      bodysHidden.forEach((body) => {\n        body.classList.add(classes.bodyHidden);\n      });\n      (_a2 = block.querySelector(`.${classes.bodys}[data-sort=\"${targetData}\"]`)) == null ? void 0 : _a2.classList.remove(classes.bodyHidden);\n    };\n    const switchBtns = (target, block) => {\n      const zone = block.querySelector(`.${classes.switcher.zone}`);\n      if (!zone) return;\n      const activeBtn = zone.querySelector(`.${classes.switcher.btn}.${classes.switcher.btnActive}`);\n      if (activeBtn && activeBtn !== target) {\n        activeBtn.disabled = false;\n        activeBtn.classList.remove(classes.switcher.btnActive);\n      }\n      target.disabled = true;\n      target.classList.add(classes.switcher.btnActive);\n    };\n    const switchBlockMod = (target, block) => {\n      if (target.classList.contains(classes.switcher.btnActive)) return;\n      const sort = target.dataset.sort;\n      if (!sort) return;\n      const modEntry = Object.entries(modGroupMap).find(([, val]) => val.btnSort === sort);\n      if (!modEntry) return;\n      const [, modObj] = modEntry;\n      Object.values(modGroupMap).forEach(({ blockMod }) => {\n        if (block.classList.contains(blockMod)) {\n          block.classList.remove(blockMod);\n        }\n      });\n      block.classList.add(modObj.blockMod);\n    };\n    const switchList = (e) => {\n      const target = e.target.closest(`.${classes.switcher.btn}`);\n      if (!target) return;\n      if (target.closest(`.${classes.filter.btns}`)) return;\n      const block = target.closest(`.${classes.block}`);\n      if (!block) return;\n      if (!block.classList.contains(classes.mods.switches)) return;\n      switchBlockMod(target, block);\n      switchGroups(target, block);\n      switchBtns(target, block);\n    };\n    document.addEventListener(\"click\", switchList);\n    const filterItems = (block, query, visaFilter) => {\n      const groups = block.querySelectorAll(`.${classes.mainList}`);\n      const emptyBlock = block.querySelector(`.${classes.mainEmpty}`);\n      const bodies = block.querySelectorAll(`.${classes.bodys}`);\n      groups.forEach((group) => {\n        const items = group.querySelectorAll(`.${classes.items}`);\n        if (query[0].length < 2 && visaFilter === \"visa-all\") {\n          items.forEach((item) => {\n            item.style.display = \"\";\n          });\n          group.style.display = \"\";\n          return;\n        }\n        items.forEach((item) => {\n          const text = item.textContent.toLowerCase();\n          const visa = item.dataset.visa || \"no\";\n          const textMatch = text.includes(query[0]) || query[1] && text.includes(query[1]);\n          const visaMatch = visaFilter === \"visa-all\" || visa === visaFilter.replace(\"visa-\", \"\");\n          item.style.display = textMatch && visaMatch ? \"\" : \"none\";\n        });\n        const allHidden = Array.from(items).every((item) => item.style.display === \"none\");\n        group.style.display = allHidden ? \"none\" : \"\";\n      });\n      const allGroupsHidden = Array.from(groups).every((group) => group.style.display === \"none\");\n      if (allGroupsHidden) {\n        emptyBlock == null ? void 0 : emptyBlock.classList.remove(classes.mainEmptyHidden);\n        bodies.forEach((body) => body.style.display = \"none\");\n      } else {\n        emptyBlock == null ? void 0 : emptyBlock.classList.add(classes.mainEmptyHidden);\n        bodies.forEach((body) => body.style.display = \"\");\n      }\n    };\n    const onVisaFilterClick = (e) => {\n      const target = e.target.closest(`.${classes.filter.btn}`);\n      if (!target) return;\n      const block = target.closest(`.${classes.block}`);\n      if (!block) return;\n      const btnsContainer = block.querySelector(`.${classes.filter.btns}`);\n      if (!btnsContainer) return;\n      const activeBtn = btnsContainer.querySelector(`.${classes.filter.btn}.${classes.filter.btnActive}`);\n      if (activeBtn && activeBtn !== target) {\n        activeBtn.disabled = false;\n        activeBtn.classList.remove(classes.filter.btnActive);\n      }\n      target.disabled = true;\n      target.classList.add(classes.filter.btnActive);\n      currentVisaFilter = target.dataset.filter || \"visa-all\";\n      const input = block.querySelector(`.${classes.searchInput}`);\n      const query = input ? multiStr(input.value.toLowerCase().trim()) : [\"\"];\n      filterItems(block, query, currentVisaFilter);\n    };\n    document.addEventListener(\"click\", (e) => {\n      if (e.target.closest(`.${classes.filter.btns}`)) {\n        onVisaFilterClick(e);\n      }\n    });\n    searchInputs.forEach((input) => {\n      const block = input.closest(`.${classes.block}`);\n      if (!block) return;\n      input.value = \"\";\n      const groups = block.querySelectorAll(`.${classes.mainList}`);\n      const emptyBlock = block.querySelector(`.${classes.mainEmpty}`);\n      const bodies = block.querySelectorAll(`.${classes.bodys}`);\n      input.addEventListener(\"input\", () => {\n        const query = multiStr(input.value.toLowerCase().trim());\n        const visaFilterContainer = block.querySelector(`.${classes.filter.btns}`);\n        if (visaFilterContainer) {\n          filterItems(block, query, currentVisaFilter);\n        } else {\n          groups.forEach((group) => {\n            const items = group.querySelectorAll(`.${classes.items}`);\n            if (query[0].length < 2) {\n              items.forEach((item) => {\n                item.style.display = \"\";\n              });\n              group.style.display = \"\";\n              return;\n            }\n            items.forEach((item) => {\n              const text = item.textContent.toLowerCase();\n              item.style.display = text.includes(query[0]) || query[1] && text.includes(query[1]) ? \"\" : \"none\";\n            });\n            const allHidden = Array.from(items).every((item) => item.style.display === \"none\");\n            group.style.display = allHidden ? \"none\" : \"\";\n          });\n          const allGroupsHidden = Array.from(groups).every((group) => group.style.display === \"none\");\n          if (allGroupsHidden) {\n            emptyBlock == null ? void 0 : emptyBlock.classList.remove(classes.mainEmptyHidden);\n            bodies.forEach((body) => body.style.display = \"none\");\n          } else {\n            emptyBlock == null ? void 0 : emptyBlock.classList.add(classes.mainEmptyHidden);\n            bodies.forEach((body) => body.style.display = \"\");\n          }\n        }\n      });\n      input.addEventListener(\"blur\", () => {\n        const allGroupsHidden = Array.from(groups).every((group) => group.style.display === \"none\");\n        if (!allGroupsHidden) return;\n        emptyBlock == null ? void 0 : emptyBlock.classList.add(classes.mainEmptyHidden);\n        bodies.forEach((body) => body.style.display = \"\");\n        input.value = \"\";\n        input.dispatchEvent(new Event(\"input\"));\n      });\n    });\n    searchForms.forEach((form) => {\n      form.setAttribute(\"novalidate\", true);\n      form.querySelector(\"[type=submit]\").setAttribute(\"tabindex\", \"-1\");\n      form.addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n      });\n    });\n  })();\n  if ($(\".slider__swiper\").length > 0) {\n    let swiperInstances = [];\n    $(\".slider__swiper\").each(function(index, element) {\n      const $this = $(this);\n      $this.addClass(\"instance-\" + index);\n      $this.parent().find(\".slider-btn--prev\").addClass(\"prev-\" + index);\n      $this.parent().find(\".slider-btn--next\").addClass(\"next-\" + index);\n      swiperInstances[index] = new Swiper(\".instance-\" + index, {\n        //instance need to be unique (ex: some-slider)\n        wrapperClass: \"slider__list\",\n        slideClass: \"slider__item\",\n        speed: 400,\n        spaceBetween: 10,\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: \"auto\",\n        spaceBetween: 10,\n        watchOverflow: true,\n        loop: false,\n        navigation: {\n          prevEl: \".prev-\" + index,\n          //prev must be unique (ex: some-slider-prev)\n          nextEl: \".next-\" + index\n          //next must be unique (ex: some-slider-next)\n        },\n        breakpoints: {\n          720: {\n            slidesPerView: 3,\n            spaceBetween: 20\n          }\n        }\n      });\n    });\n  }\n  if ($(\".slider2__swiper\").length > 0) {\n    let swiperInstances = [];\n    $(\".slider2__swiper\").each(function(index, element) {\n      const $this = $(this);\n      $this.addClass(\"instance2-\" + index);\n      $this.parent().find(\".slider-btn--prev\").addClass(\"prev-\" + index);\n      $this.parent().find(\".slider-btn--next\").addClass(\"next-\" + index);\n      swiperInstances[index] = new Swiper(\".instance2-\" + index, {\n        //instance need to be unique (ex: some-slider)\n        wrapperClass: \"slider2__list\",\n        slideClass: \"slider2__item\",\n        speed: 400,\n        spaceBetween: 10,\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: \"auto\",\n        spaceBetween: 10,\n        watchOverflow: true,\n        navigation: {\n          prevEl: \".prev-\" + index,\n          //prev must be unique (ex: some-slider-prev)\n          nextEl: \".next-\" + index\n          //next must be unique (ex: some-slider-next)\n        },\n        breakpoints: {\n          1200: {\n            slidesPerView: \"auto\",\n            spaceBetween: 20\n          },\n          1400: {\n            slidesPerView: 4,\n            spaceBetween: 20\n          }\n        }\n      });\n    });\n  }\n  if ($(\".slider3__swiper\").length > 0) {\n    let swiperInstances = [];\n    $(\".slider3__swiper\").each(function(index, element) {\n      const $this = $(this);\n      $this.addClass(\"instance3-\" + index);\n      $this.parent().find(\".slider-btn2--prev\").addClass(\"prev-\" + index);\n      $this.parent().find(\".slider-btn2--next\").addClass(\"next-\" + index);\n      swiperInstances[index] = new Swiper(\".instance3-\" + index, {\n        //instance need to be unique (ex: some-slider)\n        wrapperClass: \"slider3__list\",\n        slideClass: \"slider3__item\",\n        speed: 400,\n        spaceBetween: 20,\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: \"auto\",\n        watchOverflow: true,\n        navigation: {\n          prevEl: \".prev-\" + index,\n          //prev must be unique (ex: some-slider-prev)\n          nextEl: \".next-\" + index\n          //next must be unique (ex: some-slider-next)\n        }\n      });\n    });\n  }\n  if ($(\".section-slider__list-wrap\").length > 0) {\n    let replaceBtns = function($this) {\n      const $prev = $this.closest(\".section-slider\").prev();\n      if (!$prev.hasClass(\"section-slider-header\")) return;\n      const $buttons = $prev.parent().find(\".slider-btns2\");\n      if (!$buttons.length) return;\n      if (WINDOW_WIDTH_INNER < TABLET_WIDTH && $prev.has($buttons).length) $buttons.appendTo($this);\n      else if (WINDOW_WIDTH_INNER >= TABLET_WIDTH && $this.has($buttons).length) $buttons.appendTo($prev);\n    };\n    let swiperInstances = [];\n    $(\".section-slider__list-wrap\").each(function(index, element) {\n      const $this = $(this);\n      $this.addClass(\"section-slider___\" + index);\n      $this.parent().find(\".slider-btn2--prev\").addClass(\"prev-\" + index);\n      $this.parent().find(\".slider-btn2--next\").addClass(\"next-\" + index);\n      swiperInstances[index] = new Swiper(\".section-slider___\" + index, {\n        wrapperClass: \"section-slider__list\",\n        slideClass: \"section-slider__item\",\n        speed: 400,\n        spaceBetween: 20,\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: 1,\n        watchOverflow: true,\n        loop: true,\n        navigation: {\n          prevEl: \".prev-\" + index,\n          nextEl: \".next-\" + index\n        },\n        on: {\n          init: () => {\n            replaceBtns($this);\n            window.addEventListener(\n              \"resize\",\n              throttle(() => replaceBtns($this))\n            );\n          }\n        }\n      });\n    });\n  }\n  if (document.querySelectorAll(\".maestro__slide\").length > 1) {\n    const swiperHero2 = new Swiper(\".maestro__slider\", {\n      wrapperClass: \"maestro__slider-list\",\n      slideClass: \"maestro__slide\",\n      speed: 400,\n      spaceBetween: 0,\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      watchOverflow: true,\n      slidesPerView: \"auto\",\n      navigation: {\n        nextEl: \".maestro .slider-btn2--next\",\n        prevEl: \".maestro .slider-btn2--prev\"\n      },\n      breakpoints: {\n        740: {\n          spaceBetween: 20\n        }\n      }\n    });\n  }\n  if (document.querySelectorAll(\".projects-merch__slide\").length > 1) {\n    const swiperHero2 = new Swiper(\".projects-merch__swiper\", {\n      wrapperClass: \"projects-merch__swiper-wrapper\",\n      slideClass: \"projects-merch__slide\",\n      speed: 400,\n      spaceBetween: 0,\n      loop: true,\n      autoplay: {\n        delay: 5e3,\n        disableOnInteraction: false\n      },\n      navigation: {\n        nextEl: \".projects-merch .slider-btn2--next\",\n        prevEl: \".projects-merch .slider-btn2--prev\"\n      }\n    });\n  }\n  if ($(\".tour-calendar__list-wrap\").length > 0) {\n    let replaceBtns = function($this) {\n      const $prev = $this.closest(\".tour-calendar\").prev();\n      if (!$prev.hasClass(\"tour-calendar-header\")) return;\n      const $buttons = $prev.parent().find(\".slider-btns2\");\n      if (!$buttons.length) return;\n      $buttons.appendTo($prev);\n      $buttons.removeClass(\"hidden\");\n    };\n    let swiperInstances = [];\n    $(\".tour-calendar__list-wrap\").each(function(index, element) {\n      const $this = $(this);\n      $this.addClass(\"tour-calendar___\" + index);\n      $this.parent().find(\".slider-btn2--prev\").addClass(\"prev-\" + index);\n      $this.parent().find(\".slider-btn2--next\").addClass(\"next-\" + index);\n      swiperInstances[index] = new Swiper(\".tour-calendar___\" + index, {\n        wrapperClass: \"tour-calendar__months\",\n        slideClass: \"tour-calendar__month\",\n        speed: 300,\n        spaceBetween: 1,\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: \"auto\",\n        watchOverflow: true,\n        freeMode: true,\n        navigation: {\n          prevEl: \".prev-\" + index,\n          nextEl: \".next-\" + index\n        },\n        on: {\n          init: () => {\n            replaceBtns($this);\n            window.addEventListener(\n              \"resize\",\n              throttle(() => replaceBtns($this))\n            );\n          }\n        }\n      });\n    });\n  }\n  let initSliderPostsSwiper = function() {\n    if ($(\".slider-posts__swiper\").length === 0) return;\n    let swiperInstances = [];\n    $(\".slider-posts__swiper\").each(function(index, element) {\n      const $this = $(this);\n      $this.addClass(\"posts-slider-\" + index);\n      $this.parent().find(\".slider-btn--prev\").addClass(\"prev-\" + index);\n      $this.parent().find(\".slider-btn--next\").addClass(\"next-\" + index);\n      swiperInstances[index] = new Swiper(\".posts-slider-\" + index, {\n        //instance need to be unique (ex: some-slider)\n        wrapperClass: \"slider-posts__list\",\n        slideClass: \"slider-posts__item\",\n        speed: 400,\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: \"auto\",\n        spaceBetween: 20,\n        watchOverflow: true,\n        // loop: true,\n        navigation: {\n          prevEl: \".prev-\" + index,\n          //prev must be unique (ex: some-slider-prev)\n          nextEl: \".next-\" + index\n          //next must be unique (ex: some-slider-next)\n        },\n        breakpoints: {\n          720: {\n            slidesPerView: 2\n          },\n          980: {\n            slidesPerView: 3\n          }\n        }\n      });\n    });\n  };\n  initSliderPostsSwiper();\n  const sliderTourGallery = (() => {\n    const classes = {\n      block: \"tour-gallery\",\n      mods: {\n        slider: \"tour-gallery_slider\",\n        _3: \"tour-gallery_grid\",\n        _5: \"tour-gallery_grid_5\"\n      },\n      slider: \"tour-gallery__slider\",\n      list: \"tour-gallery__slider-list\",\n      item: \"tour-gallery__slide\"\n    }, btns = {\n      btnNext: \".tour-gallery__slider .slider-btn2--next\",\n      btnPrev: \".tour-gallery__slider .slider-btn2--prev\"\n    }, mainBlock = document.querySelector(`.${classes.block}`);\n    if (!mainBlock) return;\n    const slides = mainBlock.querySelectorAll(`.${classes.item}`);\n    const count = slides.length;\n    if (count < 2) return removeLoader();\n    if (count > 2) mainBlock.classList.add(classes.mods._3);\n    if (count > 3) slides[2].dataset.count = count - 3;\n    if (count > 4) mainBlock.classList.add(classes.mods._5);\n    if (count > 5) slides[4].dataset.count = count - 5;\n    const list = mainBlock.querySelector(`.${classes.list}`), items = mainBlock.querySelectorAll(`.${classes.item}`), sliderSettings = {\n      wrapperClass: classes.list,\n      slideClass: classes.item,\n      speed: 400,\n      spaceBetween: 0,\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      watchOverflow: true,\n      followFinger: false,\n      navigation: {\n        nextEl: btns.btnNext,\n        prevEl: btns.btnPrev\n      },\n      on: {\n        init: (slider) => {\n          mainBlock.classList.add(classes.mods.slider);\n        }\n      }\n    };\n    let gridGallery = void 0;\n    listUpdate();\n    removeLoader();\n    window.addEventListener(\"resize\", throttle(listUpdate, 500));\n    function removeLoader() {\n      const loader = mainBlock.querySelector(\"._sceleton\");\n      if (loader) loader.classList.add(\"_loaded\");\n    }\n    function listUpdate() {\n      let screenWidth = window.innerWidth;\n      let offClass = mainBlock.classList.contains(classes.mods._3);\n      if ((screenWidth < TABLET_WIDTH || !offClass) && gridGallery == void 0) {\n        gridGallery = new Swiper(\".\" + classes.slider, sliderSettings);\n      } else if (screenWidth >= TABLET_WIDTH && offClass && gridGallery !== void 0) {\n        gridGallery.destroy();\n        gridGallery = void 0;\n        list.removeAttribute(\"style\");\n        items.forEach((item) => item.removeAttribute(\"style\"));\n      }\n    }\n  })();\n  const cardTour2Init = (() => {\n    const classes = {\n      block: \"card-tour2\",\n      mods: {\n        slider: \"card-tour2_slider\",\n        _3: \"card-tour2_img-grid\",\n        wideCard: \"card-tour2_wide-card\"\n      },\n      slider: \"card-tour2__img-part\",\n      list: \"card-tour2__imgs\",\n      item: \"card-tour2__imgs-item\"\n    }, pagination = {\n      selector: \".card-tour2__gallery-pagination\"\n    };\n    const section = document.querySelector(\".tours-in2\");\n    const btnCard = section == null ? void 0 : section.querySelector(\".tours-in2__switch_card\");\n    const btnRow = section == null ? void 0 : section.querySelector(\".tours-in2__switch_row\");\n    const allCards = document.querySelectorAll(`.${classes.block}`);\n    let swiperInstances = [];\n    sectionInit();\n    allCards.forEach((c, i) => c.classList.add(`_card_${i}`));\n    allCardsUpdate();\n    window.addEventListener(\"resize\", throttle(allCardsUpdate, 500));\n    function allCardsUpdate() {\n      allCards.forEach((block, i) => {\n        const instanceClass = `_card_${i}`;\n        const mainBlock = document.querySelector(`.${classes.block}.${instanceClass}`);\n        const offClass = mainBlock.classList.contains(classes.mods.wideCard);\n        const slides = mainBlock.querySelectorAll(`.${classes.item}`);\n        const count = slides.length;\n        mainBlock.classList.remove(classes.mods.slider, classes.mods._3);\n        if (count < 2) return;\n        if (WINDOW_WIDTH_INNER >= DESKTOP_WIDTH_MD && offClass && count > 2) mainBlock.classList.add(classes.mods._3);\n        if (WINDOW_WIDTH_INNER >= DESKTOP_WIDTH_MD && offClass && count > 3) slides[2].dataset.count = count - 3;\n        const list = mainBlock.querySelector(`.${classes.list}`), items = mainBlock.querySelectorAll(`.${classes.item}`), sliderSettings = {\n          wrapperClass: classes.list,\n          slideClass: classes.item,\n          speed: 400,\n          spaceBetween: 0,\n          observer: true,\n          observeSlideChildren: true,\n          observeParents: true,\n          watchOverflow: true,\n          followFinger: false,\n          nested: () => {\n            return mainBlock.closest(\".swiper-initialized\");\n          },\n          pagination: {\n            el: pagination.selector,\n            type: \"bullets\",\n            clickable: true\n          },\n          on: {\n            init: (slider) => {\n              mainBlock.classList.add(classes.mods.slider);\n            }\n          }\n        };\n        listUpdate(mainBlock, i, list, items, sliderSettings, instanceClass);\n      });\n    }\n    function listUpdate(mainBlock, i, list, items, sliderSettings, instanceClass) {\n      let offClass = mainBlock.classList.contains(classes.mods._3);\n      if (!offClass && swiperInstances[i] == void 0) {\n        swiperInstances[i] = new Swiper(`.${instanceClass} .${classes.slider}`, sliderSettings);\n      } else if (offClass && swiperInstances[i] !== void 0) {\n        swiperInstances[i].destroy();\n        swiperInstances[i] = void 0;\n        list.removeAttribute(\"style\");\n        items.forEach((item) => item.removeAttribute(\"style\"));\n      }\n    }\n    function sectionInit() {\n      if (!section || !btnCard || !btnRow) return;\n      section.addEventListener(\"click\", sectionSwithing);\n    }\n    function switchToCards() {\n      btnCard.disabled = true;\n      btnRow.disabled = false;\n      section.classList.add(\"tours-in2_cards\");\n      section.querySelectorAll(\".card-tour2\").forEach((c) => c.classList.replace(\"card-tour2_wide\", \"card-tour2_wide-card\"));\n    }\n    function switchToRows() {\n      btnCard.disabled = false;\n      btnRow.disabled = true;\n      section.classList.remove(\"tours-in2_cards\");\n      section.querySelectorAll(\".card-tour2\").forEach((c) => c.classList.replace(\"card-tour2_wide-card\", \"card-tour2_wide\"));\n    }\n    function sectionSwithing(e) {\n      if (e.target.closest(\".tours-in2__switch_card\")) {\n        switchToCards();\n        allCardsUpdate();\n      } else if (e.target.closest(\".tours-in2__switch_row\")) {\n        switchToRows();\n        allCardsUpdate();\n      }\n    }\n  })();\n  const cardPackageInit = (() => {\n    const classes = {\n      block: \"card-package\",\n      mods: {\n        slider: \"card-package_slider\",\n        _3: \"card-package_img-grid\",\n        wideCard: \"card-package_wide-card\",\n        wide: \"card-package_wide\"\n      },\n      slider: \"card-package__img-part\",\n      list: \"card-package__imgs\",\n      item: \"card-package__imgs-item\",\n      markBtn: \"card-package__mark-btn\",\n      markBtnCurrent: \"_current\",\n      markedItems: \"_marked\",\n      markedItemsHidden: \"hidden\"\n    }, pagination = {\n      selector: \".card-package__gallery-pagination\"\n    };\n    const section = document.querySelector(\".tours-in2\");\n    const btnCard = section == null ? void 0 : section.querySelector(\".tours-in2__switch_card\");\n    const btnRow = section == null ? void 0 : section.querySelector(\".tours-in2__switch_row\");\n    const allCards = document.querySelectorAll(`.${classes.block}`);\n    let swiperInstances = [];\n    sectionInit();\n    initTabs();\n    allCards.forEach((c, i) => c.classList.add(`_card_${i}`));\n    allCardsUpdate();\n    window.addEventListener(\"resize\", throttle(allCardsUpdate, 500));\n    function allCardsUpdate() {\n      allCards.forEach((block, i) => {\n        const instanceClass = `_card_${i}`;\n        const mainBlock = document.querySelector(`.${classes.block}.${instanceClass}`);\n        const offClass = mainBlock.classList.contains(classes.mods.wideCard);\n        const slides = mainBlock.querySelectorAll(`.${classes.item}`);\n        const count = slides.length;\n        const offCondition = WINDOW_WIDTH_INNER >= TABLET_WIDTH;\n        mainBlock.classList.remove(classes.mods._3);\n        if (count < 2) return;\n        if (offCondition && offClass && count > 2) mainBlock.classList.add(classes.mods._3);\n        if (offCondition && offClass && count > 3) slides[2].dataset.count = count - 3;\n        const list = mainBlock.querySelector(`.${classes.list}`), items = mainBlock.querySelectorAll(`.${classes.item}`), sliderSettings = {\n          wrapperClass: classes.list,\n          slideClass: classes.item,\n          speed: 400,\n          spaceBetween: 0,\n          observer: true,\n          observeSlideChildren: true,\n          observeParents: true,\n          watchOverflow: true,\n          followFinger: false,\n          nested: () => {\n            return mainBlock.closest(\".swiper-initialized\");\n          },\n          pagination: {\n            el: pagination.selector,\n            type: \"bullets\",\n            clickable: true\n          }\n        };\n        listUpdate(mainBlock, i, list, items, sliderSettings, instanceClass);\n      });\n    }\n    function listUpdate(mainBlock, i, list, items, sliderSettings, instanceClass) {\n      let offClass = mainBlock.classList.contains(classes.mods._3);\n      if (!offClass && swiperInstances[i] == void 0) {\n        swiperInstances[i] = new Swiper(`.${instanceClass} .${classes.slider}`, sliderSettings);\n        mainBlock.classList.add(classes.mods.slider);\n      } else if (offClass && swiperInstances[i] !== void 0) {\n        swiperInstances[i].destroy();\n        swiperInstances[i] = void 0;\n        list.removeAttribute(\"style\");\n        items.forEach((item) => item.removeAttribute(\"style\"));\n      }\n    }\n    function sectionInit() {\n      if (!section || !btnCard || !btnRow) return;\n      section.addEventListener(\"click\", sectionSwithing);\n    }\n    function switchToCards() {\n      btnCard.disabled = true;\n      btnRow.disabled = false;\n      section.classList.add(\"tours-in2_cards\");\n      section.querySelectorAll(`.${classes.block}`).forEach((c) => c.classList.replace(classes.mods.wide, classes.mods.wideCard));\n    }\n    function switchToRows() {\n      btnCard.disabled = false;\n      btnRow.disabled = true;\n      section.classList.remove(\"tours-in2_cards\");\n      section.querySelectorAll(`.${classes.block}`).forEach((c) => c.classList.replace(classes.mods.wideCard, classes.mods.wide));\n    }\n    function sectionSwithing(e) {\n      if (e.target.closest(\".tours-in2__switch_card\")) {\n        switchToCards();\n        allCardsUpdate();\n      } else if (e.target.closest(\".tours-in2__switch_row\")) {\n        switchToRows();\n        allCardsUpdate();\n      }\n    }\n    function initTabs() {\n      document.body.addEventListener(\"click\", (e) => {\n        var _a2;\n        const btn = e.target.closest(`.${classes.markBtn}`);\n        if (!btn) return;\n        e.preventDefault();\n        if (btn.classList.contains(classes.markBtnCurrent)) return;\n        const block = btn.closest(`.${classes.block}`);\n        if (!block) return;\n        const btnSrc = btn.dataset.src;\n        block.querySelectorAll(`[data-level]`).forEach((item) => item.dataset.level = btnSrc);\n        block.querySelectorAll(`.${classes.markedItems}:not(.${classes.markedItemsHidden})`).forEach((item) => item.classList.add(classes.markedItemsHidden));\n        block.querySelectorAll(`.${classes.markedItems}._${btnSrc}`).forEach((item) => item.classList.remove(classes.markedItemsHidden));\n        (_a2 = block.querySelector(`.${classes.markBtn}.${classes.markBtnCurrent}`)) == null ? void 0 : _a2.classList.remove(classes.markBtnCurrent);\n        btn.classList.add(classes.markBtnCurrent);\n      });\n    }\n  })();\n  const cities2 = (() => {\n    document.addEventListener(\"click\", (e) => {\n      const block = e.target.closest(\".cities2-wrap\");\n      const btnsList = block == null ? void 0 : block.querySelector(\".btns__list\");\n      if (!btnsList) return;\n      const btn = e.target.closest(\"button\");\n      if (!btn || btn.disabled) return;\n      btnsList.querySelectorAll(\"button\").forEach((b) => {\n        b.classList.remove(\"active\");\n        b.disabled = false;\n      });\n      btn.classList.add(\"active\");\n      btn.disabled = true;\n      const filter = btn.dataset.filter;\n      block.querySelectorAll(\".cities2__item:not(.d-none)\").forEach((item) => {\n        if (filter === \"visa-all\") {\n          item.classList.remove(\"hidden\");\n        } else if (filter === \"visa-no\") {\n          item.classList.toggle(\"hidden\", item.dataset.visa !== \"no\");\n        }\n      });\n      block.querySelectorAll(\".cities2-wrap__part\").forEach((part) => {\n        const visibleItems = part.querySelectorAll(\".cities2__item:not(.hidden)\");\n        if (visibleItems.length === 0) {\n          part.classList.add(\"hidden\");\n        } else {\n          part.classList.remove(\"hidden\");\n        }\n      });\n    });\n  })();\n  if ($(\".section-slider__list-wrap\").length > 0) {\n    let replaceBtns = function($this) {\n      const $prev = $this.closest(\".section-slider\").prev();\n      if (!$prev.hasClass(\"section-slider-header\")) return;\n      const $buttons = $prev.parent().find(\".slider-btns2\");\n      if (!$buttons.length) return;\n      if (WINDOW_WIDTH_INNER < TABLET_WIDTH && $prev.has($buttons).length) $buttons.appendTo($this);\n      else if (WINDOW_WIDTH_INNER >= TABLET_WIDTH && $this.has($buttons).length) $buttons.appendTo($prev);\n    };\n    let swiperInstances = [];\n    $(\".section-slider__list-wrap\").each(function(index, element) {\n      const $this = $(this);\n      $this.addClass(\"section-slider___\" + index);\n      $this.parent().find(\".slider-btn2--prev\").addClass(\"prev-\" + index);\n      $this.parent().find(\".slider-btn2--next\").addClass(\"next-\" + index);\n      swiperInstances[index] = new Swiper(\".section-slider___\" + index, {\n        wrapperClass: \"section-slider__list\",\n        slideClass: \"section-slider__item\",\n        speed: 400,\n        spaceBetween: 20,\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: 1,\n        watchOverflow: true,\n        loop: true,\n        navigation: {\n          prevEl: \".prev-\" + index,\n          nextEl: \".next-\" + index\n        },\n        on: {\n          init: () => {\n            replaceBtns($this);\n            window.addEventListener(\n              \"resize\",\n              throttle(() => replaceBtns($this))\n            );\n          }\n        }\n      });\n    });\n  }\n  const swiperServiceLg = document.querySelector(\".service.service--lg .swiper\");\n  if (swiperServiceLg) {\n    const swiperGallery = new Swiper(\".service.service--lg .swiper.service__list-wrap\", {\n      wrapperClass: \"service__list\",\n      slideClass: \"service__item\",\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      slidesPerView: \"auto\",\n      spaceBetween: 12,\n      watchOverflow: true,\n      mousewheel: {\n        releaseOnEdges: true\n      }\n    });\n  }\n  (function() {\n    var block = document.querySelector(\".basement-tour\");\n    if (!block) return;\n    new Swiper(\".basement-tour__list-wrap\", {\n      wrapperClass: \"basement-tour__list\",\n      slideClass: \"basement-tour__item\",\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      watchOverflow: true,\n      slidesPerView: \"auto\",\n      spaceBetween: 20,\n      // mousewheel: {\n      //     releaseOnEdges: true,\n      // }\n      navigation: {\n        nextEl: \".basement-tour .slider-btn2--next\",\n        prevEl: \".basement-tour .slider-btn2--prev\"\n      },\n      on: {\n        init: () => {\n          function replaceBtns() {\n            var section = block.closest(\".basement__section\");\n            if (!section) return;\n            var sectionHeader = section.querySelector(\".basement__header\");\n            var btns = section.querySelector(\".basement-tour__btns\");\n            var WIDTH_DESKTOP_MD = 1240;\n            if (sectionHeader && WINDOW_WIDTH_INNER >= WIDTH_DESKTOP_MD && !sectionHeader.contains(btns)) {\n              sectionHeader.append(btns);\n            } else if (WINDOW_WIDTH_INNER < WIDTH_DESKTOP_MD && !block.contains(btns)) {\n              block.append(btns);\n            }\n          }\n          replaceBtns();\n          window.addEventListener(\"resize\", throttle(replaceBtns, 400));\n        }\n      }\n    });\n  })();\n  const swiperServiceDef = document.querySelector(\".service:not(.service--lg) .swiper\");\n  if (swiperServiceDef) {\n    const swiperGallery = new Swiper(\".service:not(.service--lg) .swiper.service__list-wrap\", {\n      wrapperClass: \"service__list\",\n      slideClass: \"service__item\",\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      slidesPerView: \"auto\",\n      spaceBetween: 12,\n      watchOverflow: true,\n      mousewheel: {\n        releaseOnEdges: true\n      },\n      breakpoints: {\n        1440: {\n          spaceBetween: 20\n        }\n      }\n    });\n  }\n  const swiperNews = document.querySelector(\".news\");\n  if (swiperNews) {\n    const swiperGallery = new Swiper(\".news__slider\", {\n      wrapperClass: \"news__slider-inner\",\n      slideClass: \"news__slide\",\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      slidesPerView: \"auto\",\n      spaceBetween: 10,\n      watchOverflow: true,\n      breakpoints: {\n        720: {\n          spaceBetween: 20\n        }\n      },\n      navigation: {\n        nextEl: \".news .slider-btn--next\",\n        prevEl: \".news .slider-btn--prev\"\n      }\n    });\n  }\n  const basementPromo = document.querySelector(\".basement-promo\");\n  if (basementPromo) {\n    const swiperGallery = new Swiper(\".basement-promo__list-wrap\", {\n      wrapperClass: \"basement-promo__list\",\n      slideClass: \"basement-promo__item\",\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      slidesPerView: \"auto\",\n      spaceBetween: 20,\n      watchOverflow: true,\n      navigation: {\n        nextEl: \".basement-promo .slider-btn--next\",\n        prevEl: \".basement-promo .slider-btn--prev\"\n      },\n      resistanceRatio: 0,\n      freeMode: {\n        enabled: true,\n        momentumBounceRatio: 0\n      }\n    });\n  }\n  const initBasementOther = () => {\n    const dom = {\n      blockClass: \"basement-other\",\n      sliderClass: \"basement-other__list-wrap\",\n      listClass: \"basement-other__list\",\n      itemClass: \"basement-other__item\",\n      itemVisibleClass: \"_visible\",\n      nextBtnSelector: \".basement-other .slider-btn--next\",\n      prevBtnSelector: \".basement-other .slider-btn--prev\",\n      btnMoreWrapperClass: \"basement-other__btn-wrap\",\n      btnMoreClass: \"basement-other__btn\"\n    }, blocks = document.querySelectorAll(`.${dom.blockClass}`);\n    if (!blocks.length) return false;\n    const getMainSettings = (slider) => {\n      const list = slider.querySelector(`.${dom.listClass}`), items = slider.querySelectorAll(`.${dom.itemClass}`);\n      if (!list || !items.length) return {};\n      const sliderSettings = {\n        wrapperClass: dom.listClass,\n        slideClass: dom.itemClass,\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: \"auto\",\n        spaceBetween: 12,\n        watchOverflow: true,\n        navigation: {\n          nextEl: dom.nextBtnSelector,\n          prevEl: dom.prevBtnSelector\n        },\n        resistanceRatio: 0,\n        freeMode: {\n          enabled: true,\n          momentumBounceRatio: 0\n        }\n      };\n      return {\n        list,\n        items,\n        sliderSettings\n      };\n    };\n    const btnMoreHandler = (block, items) => {\n      const btn = block.querySelector(`button.${dom.btnMoreClass}`);\n      btn == null ? void 0 : btn.addEventListener(\"click\", function() {\n        var _a2;\n        items.forEach((item) => item.classList.add(dom.itemVisibleClass));\n        (_a2 = btn.closest(`.${dom.btnMoreWrapperClass}`)) == null ? void 0 : _a2.classList.add(\"hidden\");\n      });\n    };\n    const sliderUpdate = (sliderActive, i, sliderSettings, list, items) => {\n      const screenWidth = window.innerWidth;\n      if (screenWidth >= TABLET_WIDTH && !sliderActive) {\n        sliderActive = new Swiper(`.${dom.sliderClass}._${i + 1}`, sliderSettings);\n      } else if (screenWidth < TABLET_WIDTH && sliderActive) {\n        sliderActive.destroy();\n        sliderActive = null;\n        list.removeAttribute(\"style\");\n        items.forEach((item) => item.removeAttribute(\"style\"));\n      }\n      return sliderActive;\n    };\n    blocks.forEach((block, i) => {\n      const slider = block.querySelector(`.${dom.sliderClass}`);\n      if (!slider) return;\n      slider.classList.add(`_${i + 1}`);\n      let sliderActive = null;\n      const { items, list, sliderSettings } = getMainSettings(slider);\n      if (!items || !items.length || !list) return;\n      btnMoreHandler(block, items);\n      sliderActive = sliderUpdate(sliderActive, i, sliderSettings, list, items);\n      window.addEventListener(\n        \"resize\",\n        throttle(() => {\n          sliderActive = sliderUpdate(sliderActive, i, sliderSettings, list, items);\n        }, 500)\n      );\n    });\n  };\n  initBasementOther();\n  initCardsGrid();\n  function initCardsGrid() {\n    const gridSmDom = {\n      slider: \"cards-grid__inner\",\n      list: \"cards-grid__list\",\n      item: \"cards-grid__item\"\n    }, gridSm = document.querySelector(`.${gridSmDom.slider}`);\n    if (gridSm === null) return false;\n    const list = gridSm.querySelector(`.${gridSmDom.list}`), items = gridSm.querySelectorAll(`.${gridSmDom.item}`), gridSmGallerySettings = {\n      wrapperClass: gridSmDom.list,\n      slideClass: gridSmDom.item,\n      observer: true,\n      observeSlideChildren: true,\n      observeParents: true,\n      slidesPerView: \"auto\",\n      spaceBetween: 16,\n      watchOverflow: true,\n      breakpoints: {\n        740: {\n          spaceBetween: 0\n        }\n      }\n    };\n    let gridSmGallery = void 0;\n    gridSmUpdate();\n    window.addEventListener(\"resize\", throttle(gridSmUpdate, 500));\n    function gridSmUpdate() {\n      let screenWidth = window.innerWidth;\n      if (screenWidth < TABLET_WIDTH && gridSmGallery == void 0) {\n        gridSmGallery = new Swiper(\".\" + gridSmDom.slider, gridSmGallerySettings);\n      } else if (screenWidth >= TABLET_WIDTH && gridSmGallery !== void 0) {\n        gridSmGallery.destroy();\n        gridSmGallery = void 0;\n        list.removeAttribute(\"style\");\n        items.forEach((item) => item.removeAttribute(\"style\"));\n      }\n    }\n  }\n  initProjects2Slider();\n  function initProjects2Slider() {\n    const classes = {\n      slider: \"projects2__inner\",\n      list: \"projects2__grid\",\n      item: \"projects2__item\"\n    };\n    const blocks = document.querySelectorAll(`.${classes.slider}`);\n    if (!blocks.length) return false;\n    blocks.forEach((block, i) => {\n      block.classList.add(`_i-${i}`);\n      const list = block.querySelector(`.${classes.list}`);\n      const items = block.querySelectorAll(`.${classes.item}`);\n      const settings = {\n        wrapperClass: classes.list,\n        slideClass: classes.item,\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: \"auto\",\n        spaceBetween: 10,\n        watchOverflow: true,\n        breakpoints: {\n          980: { spaceBetween: 0 }\n        }\n      };\n      let slider;\n      const gSUpdate = () => {\n        const screenWidth = window.innerWidth;\n        if (screenWidth < DESKTOP_WIDTH && !slider) {\n          slider = new Swiper(`.${classes.slider}._i-${i}`, settings);\n        } else if (screenWidth >= DESKTOP_WIDTH && slider) {\n          slider.destroy();\n          slider = void 0;\n          list.removeAttribute(\"style\");\n          items.forEach((item) => item.removeAttribute(\"style\"));\n        }\n      };\n      gSUpdate();\n      window.addEventListener(\"resize\", throttle(gSUpdate, 500));\n    });\n  }\n  const toursMenuBtn = document.querySelector(\".main-content__menu-btn\") || document.querySelector(\".main-content2__menu-btn\");\n  if (toursMenuBtn) {\n    const toursCloseMenuBtn = document.querySelector(\".tours-popup__menu-btn\");\n    const toursPopup = document.querySelector(\".tours-popup\");\n    toursMenuBtn.addEventListener(\"click\", () => {\n      toursPopup.classList.add(\"active\");\n      lockScroll();\n    });\n    if (toursCloseMenuBtn) {\n      toursCloseMenuBtn.addEventListener(\"click\", () => {\n        toursPopup.classList.remove(\"active\");\n        unLockScroll();\n      });\n    }\n  }\n  function lockScroll() {\n    const body = document.querySelector(\"body\");\n    body.setAttribute(\"style\", \"overflow: hidden\");\n  }\n  function unLockScroll() {\n    const body = document.querySelector(\"body\");\n    body.removeAttribute(\"style\");\n  }\n  tabsActions(\".section-tabs__switches button\", \".section-tabs\", \".section-tabs__bodies > li\");\n  tabsActions(\".tabs-menu li > *\", \"body\", \".tabs-list > *\");\n  function tabsActions(btns, parrent, body) {\n    const tabsMenuBtns = document.querySelectorAll(btns);\n    if (tabsMenuBtns.length > 0) {\n      const tabsBodyItems = tabsMenuBtns[0].closest(parrent).querySelectorAll(body);\n      tabsMenuBtns[0].classList.add(\"active\");\n      if (tabsBodyItems.length > 0) {\n        tabsBodyItems[0].classList.add(\"active\");\n        for (let i = 0; i < tabsMenuBtns.length; i++) {\n          tabsMenuBtns[i].addEventListener(\"click\", function(e) {\n            e.preventDefault();\n            const bodyParent = tabsBodyItems[i].parentNode;\n            const bodyParentAccordionBtnWrap = bodyParent.nextElementSibling;\n            let bodyParentAccordionBtn = null;\n            if (bodyParentAccordionBtnWrap !== null)\n              bodyParentAccordionBtn = bodyParentAccordionBtnWrap.querySelector(\".header-form__formclose-btn\");\n            if (!this.classList.contains(\"active\")) {\n              for (const i2 of tabsMenuBtns) {\n                i2.classList.remove(\"active\");\n              }\n              this.classList.add(\"active\");\n              for (const item of tabsBodyItems) {\n                item.classList.remove(\"active\");\n              }\n              tabsBodyItems[i].classList.add(\"active\");\n              if (parseFloat(bodyParent.style.height) > 0) bodyParent.style.height = getComputedStyle(tabsBodyItems[i]).height;\n              else if (bodyParentAccordionBtn !== null && window.innerWidth < TABLET_WIDTH) bodyParentAccordionBtn.click();\n              if (bodyParent.classList.contains(\"header-form__container\")) {\n                bodyParent.classList.add(\"loading\");\n                setTimeout(() => {\n                  bodyParent.classList.add(\"loaded\");\n                }, 100);\n                setTimeout(() => {\n                  bodyParent.classList.remove(\"loaded\", \"loading\");\n                }, 400);\n              }\n            } else if (this.classList.contains(\"btn--page\") && !bodyParent.classList.contains(\"active\") && window.innerWidth < TABLET_WIDTH) {\n              bodyParentAccordionBtn.click();\n            }\n          });\n        }\n      }\n    }\n  }\n  const btnPageActions = (() => {\n    const parent = document.querySelector(\".page__header-form\");\n    if (!parent) return;\n    const btns = parent.querySelectorAll(\".header-form__page-btns button.btn-page\");\n    const bodys = parent.querySelectorAll(\".header-form__inner\");\n    if (!btns.length || !bodys.length) return;\n    const btnActiveClass = \"_active\";\n    const bodyActiveClass = \"active\";\n    const removeClassFromFirstInCollection = (cl, col) => {\n      var _a2;\n      (_a2 = Array.from(col).find((b) => b.classList.contains(cl))) == null ? void 0 : _a2.classList.remove(cl);\n    };\n    if (![...btns].some((b) => b.classList.contains(btnActiveClass))) {\n      btns[0].classList.add(btnActiveClass);\n      removeClassFromFirstInCollection(bodyActiveClass, bodys);\n      bodys[0].classList.add(bodyActiveClass);\n    }\n    for (let i = 0; i < btns.length; i++) {\n      btns[i].addEventListener(\"click\", function(e) {\n        var _a2;\n        e.preventDefault();\n        const bodyParent = bodys[i].closest(\".header-form__container\");\n        const bodyOpenBtn = (_a2 = bodyParent.nextElementSibling) == null ? void 0 : _a2.querySelector(\".header-form__formclose-btn\");\n        if (!this.classList.contains(btnActiveClass)) {\n          removeClassFromFirstInCollection(btnActiveClass, btns);\n          this.classList.add(btnActiveClass);\n          removeClassFromFirstInCollection(bodyActiveClass, bodys);\n          bodys[i].classList.add(bodyActiveClass);\n          if (parseFloat(bodyParent.style.height) > 0) bodyParent.style.height = getComputedStyle(bodyParent.children[0]).height;\n          else if (bodyOpenBtn && WINDOW_WIDTH_INNER < DESKTOP_WIDTH) bodyOpenBtn.click();\n          bodyParent.classList.add(\"loading\");\n          setTimeout(() => {\n            bodyParent.classList.add(\"loaded\");\n            setTimeout(() => {\n              bodyParent.classList.remove(\"loaded\", \"loading\");\n            }, 300);\n          }, 100);\n        } else if (!bodyParent.classList.contains(bodyActiveClass) && WINDOW_WIDTH_INNER < DESKTOP_WIDTH) {\n          bodyOpenBtn.click();\n        }\n      });\n    }\n  })();\n  const contacts2Actions = (() => {\n    const parent = document.querySelector(\".contacts2\");\n    if (!parent) return;\n    const btns = parent.querySelectorAll(\".contacts2__btns button\");\n    const bodys = parent.querySelectorAll(\".contacts2__left-item\");\n    if (!btns.length || !bodys.length) return;\n    const btnActiveClass = \"active\";\n    const bodyActiveClass = \"active\";\n    const removeClassFromFirstInCollection = (cl, col) => {\n      var _a2;\n      (_a2 = Array.from(col).find((b) => b.classList.contains(cl))) == null ? void 0 : _a2.classList.remove(cl);\n    };\n    if (![...btns].some((b) => b.classList.contains(btnActiveClass))) {\n      btns[0].classList.add(btnActiveClass);\n      removeClassFromFirstInCollection(bodyActiveClass, bodys);\n      bodys[0].classList.add(bodyActiveClass);\n    }\n    for (let i = 0; i < btns.length; i++) {\n      btns[i].addEventListener(\"click\", function(e) {\n        e.preventDefault();\n        const bodyParent = bodys[i].closest(\".contacts2__body\");\n        const isRegions = e.target.closest(\"button\").classList.contains(\"_regions\");\n        if (!this.classList.contains(btnActiveClass)) {\n          let prev = Array.from(bodys).find((b) => b.classList.contains(bodyActiveClass));\n          removeClassFromFirstInCollection(btnActiveClass, btns);\n          removeClassFromFirstInCollection(bodyActiveClass, bodys);\n          this.classList.add(btnActiveClass);\n          bodys[i].classList.add(bodyActiveClass);\n          if (c2map) {\n            if (prev) {\n              if (prev.classList.contains(\"_regions\")) {\n                for (let x2 in c2markers) {\n                  if (c2markers[x2][\"r\"]) {\n                    c2markers[x2][\"m\"].removeFrom(c2map);\n                  }\n                }\n              } else c2markers[prev.getAttribute(\"data-id\")][\"m\"].removeFrom(c2map);\n            }\n            if (isRegions) {\n              let rm = [];\n              for (let x2 in c2markers) {\n                if (c2markers[x2][\"r\"]) {\n                  c2markers[x2][\"m\"].addTo(c2map);\n                  rm.push(c2markers[x2][\"m\"]);\n                }\n              }\n              c2map.getContainer().classList.add(\"visibility-hidden\");\n              setTimeout(() => {\n                c2map.getContainer().classList.remove(\"visibility-hidden\");\n                c2map.invalidateSize(false).fitBounds(new L.featureGroup(rm).getBounds());\n              }, 110);\n            } else {\n              c2markers[bodys[i].getAttribute(\"data-id\")][\"m\"].addTo(c2map);\n              c2map.setView(\n                [bodys[i].getAttribute(\"data-lat\"), bodys[i].getAttribute(\"data-lng\")],\n                bodys[i].getAttribute(\"data-zoom\") > 0 ? bodys[i].getAttribute(\"data-zoom\") : 14\n              );\n            }\n          }\n          bodyParent.classList.add(\"loading\");\n          setTimeout(() => {\n            bodyParent.classList.add(\"loaded\");\n            parent.classList.toggle(\"_regions\", isRegions);\n            setTimeout(() => {\n              bodyParent.classList.remove(\"loaded\", \"loading\");\n            }, 300);\n          }, 100);\n        }\n      });\n    }\n  })();\n  slider2Tabs(\".js-slider2-tabs li > *\", \".js-slider2-tabs-body\", \".slider2__item\");\n  function slider2Tabs(_btns, _parrent, _item) {\n    var _a2;\n    const btns = document.querySelectorAll(_btns);\n    if (btns.length === 0) return false;\n    const items = btns[0].closest(_parrent).querySelectorAll(_item);\n    if (items.length === 0) return false;\n    const swiper = (_a2 = items[0].closest(\".swiper-initialized\")) == null ? void 0 : _a2.swiper, slider2 = items[0].closest(\".slider2\"), btnParent = btns[0].closest(\".js-slider2-tabs\");\n    btns[0].classList.add(\"active\");\n    btnParent.addEventListener(\"click\", function(e) {\n      const clickedBtn = e.target.closest(_btns);\n      if (!clickedBtn || clickedBtn.classList.contains(\"active\")) return;\n      e.preventDefault();\n      const activeBtn = btnParent.querySelector(\".active\"), btnIndex = Array.from(btns).indexOf(clickedBtn) + 1;\n      slider2.classList.replace(\"slider2--vis\", \"slider2--invis\");\n      if (activeBtn) activeBtn.classList.remove(\"active\");\n      clickedBtn.classList.add(\"active\");\n      items.forEach((item) => {\n        if (!item.classList.contains(`_${btnIndex}`)) item.classList.add(\"hidden\");\n        else item.classList.remove(\"hidden\");\n      });\n      if (swiper) swiper.update();\n      slider2.classList.replace(\"slider2--invis\", \"slider2--vis\");\n    });\n  }\n  const formItemNights = $(\".form-item--nights\");\n  if (formItemNights.length > 0) {\n    const inputs = $(\".form-item--nights .form-item__input\");\n    $.each(inputs, function(index, input) {\n      const inputValue = $(input).val();\n      let dayArray = inputValue.split(\"-\");\n      let cleanDayArray = [];\n      $.each(dayArray, function(index2, day) {\n        cleanDayArray.push(Number(day.trim()));\n      });\n      const btns = $(input).closest(\".form-item\").find(\".nights__item-inner\");\n      if (cleanDayArray[0] < 1) cleanDayArray[0] = 1;\n      if (cleanDayArray[1] > btns.length) cleanDayArray[1] = btns.length;\n      for (let i = cleanDayArray[0] - 1; i <= cleanDayArray[1] - 1; i++) {\n        btns[i].classList.add(\"nights__item-inner--active\");\n      }\n    });\n    for (const formItemNight of formItemNights) {\n      let howMuchActive = function() {\n        counter = 0;\n        for (let i = 0; i < nightsItemBtns.length; i++) {\n          if (nightsItemBtns[i].classList.contains(\"nights__item-inner--active\")) {\n            counter++;\n          }\n        }\n      };\n      const nightsItemBtns = formItemNight.querySelectorAll(\".nights__item-inner\");\n      let activeOneIndex = -1;\n      let activeTwoIndex = -1;\n      let counter;\n      for (let i = 0; i < nightsItemBtns.length; i++) {\n        nightsItemBtns[i].addEventListener(\"mouseover\", function() {\n          howMuchActive();\n          if (i < activeOneIndex && activeOneIndex != -1 && counter < 2) {\n            for (let index = i; index < activeOneIndex; index++) {\n              nightsItemBtns[index].classList.add(\"nights__item-inner--hover\");\n            }\n          }\n          if (i > activeOneIndex && activeOneIndex != -1 && counter < 2) {\n            for (let index = activeOneIndex; index < i; index++) {\n              nightsItemBtns[index].classList.add(\"nights__item-inner--hover\");\n            }\n          }\n        });\n        nightsItemBtns[i].addEventListener(\"mouseout\", function() {\n          for (const item of nightsItemBtns) {\n            item.classList.remove(\"nights__item-inner--hover\");\n          }\n        });\n      }\n    }\n  }\n  let inputNumbers = document.querySelectorAll(\".input-number\");\n  if (inputNumbers.length > 0) {\n    const inputNumberClass = `input-number__input`;\n    const inputPlusClass = `input-number__btn--plus`;\n    const inputMinusClass = `input-number__btn--minus`;\n    inputNumbers.forEach((item) => {\n      let block = item;\n      let input = block.querySelector(`.${inputNumberClass}`);\n      let inputVal = +input.value;\n      let inputMin = +input.dataset.min;\n      let inputMax = +input.dataset.max;\n      let plus = block.querySelector(`.${inputPlusClass}`);\n      let minus = block.querySelector(`.${inputMinusClass}`);\n      let plusHandler = function(evt) {\n        evt.preventDefault();\n        if (inputVal >= inputMax) return;\n        inputVal = Math.min(inputVal + 1, inputMax);\n        input.value = inputVal;\n        input.dataset.value = inputVal;\n        if (inputVal >= inputMin) minus.removeAttribute(\"disabled\");\n        if (inputVal >= inputMax) plus.setAttribute(\"disabled\", true);\n      };\n      let minusHandler = function(evt) {\n        evt.preventDefault();\n        if (inputVal <= inputMin) return;\n        inputVal = Math.max(inputVal - 1, inputMin);\n        input.value = inputVal;\n        input.dataset.value = inputVal;\n        if (inputVal <= inputMin) minus.setAttribute(\"disabled\", true);\n        if (inputVal <= inputMax) plus.removeAttribute(\"disabled\");\n      };\n      plus.addEventListener(\"click\", plusHandler);\n      minus.addEventListener(\"click\", minusHandler);\n    });\n  }\n  let searchBlocks = document.querySelectorAll(`.select-input`);\n  if (searchBlocks.length > 0) {\n    searchBlocks.forEach((item) => {\n      let searchBlock = item;\n      let searchInput = searchBlock.querySelector(`.select-input__input`);\n      let searchBtn = searchBlock.querySelector(`.select-input__icon-wrap`);\n      let searchItems = searchBlock.querySelectorAll(`.select-input__item`);\n      let onSearchItemClick = function() {\n        let item2 = this;\n        let disabledButton = item2.querySelector(\"button[disabled]\");\n        let linkWithoutHref = item2.querySelector(\"a:not([href])\");\n        if (disabledButton || linkWithoutHref) return;\n        let itemName = item2.querySelector(\".select-input__item-top\");\n        let itemNameText = itemName.textContent;\n        let closestFilter = item2.closest(\".select-input\");\n        let closestInput = closestFilter.querySelector(\".select-input__input\");\n        closestInput.value = itemNameText;\n        searchItems.forEach((item3) => item3.classList.remove(\"select-input__item--active\"));\n        item2.classList.add(\"select-input__item--active\");\n      };\n      let showSearchOverlay = function() {\n        searchBlocks.forEach((item2) => item2.classList.remove(`select-input--active`));\n        searchBlock.classList.add(`select-input--active`);\n      };\n      let toggleSearchOverlay = function(e) {\n        let thisSearch = e.target.closest(`.select-input`);\n        let thisSearchIsActive = thisSearch.classList.contains(`select-input--active`);\n        searchBlocks.forEach((item2) => item2.classList.remove(`select-input--active`));\n        if (!thisSearchIsActive) {\n          thisSearch.classList.add(`select-input--active`);\n        } else {\n          thisSearch.classList.remove(`select-input--active`);\n        }\n      };\n      let onOutsideSearchOverlayClick = function(evt) {\n        let e = evt.target;\n        let isInsideSearchClick = e.closest(\".select-input .select-input__list-wrap\") && !e.closest(\".select-input .select-input__item-inner\") || e.closest(\".select-input__input\") || e.closest(\".select-input__icon-wrap\");\n        if (isInsideSearchClick) {\n          return;\n        }\n        searchBlock.classList.remove(`select-input--active`);\n        evt.stopPropagation();\n      };\n      searchInput.addEventListener(\"focus\", showSearchOverlay);\n      searchInput.addEventListener(\"input\", showSearchOverlay);\n      searchBtn.addEventListener(\"click\", toggleSearchOverlay);\n      document.addEventListener(\"click\", onOutsideSearchOverlayClick);\n      searchItems.forEach((item2) => item2.addEventListener(\"click\", onSearchItemClick));\n    });\n  }\n  let initFormItems = function() {\n    const formItemActiveClass = `form-item--active`;\n    let formItems = document.querySelectorAll(\".form-item\");\n    if (formItems.length == 0) return;\n    formItems.forEach((block) => {\n      let blockInput = block.querySelector(\"input\");\n      let blockBtnToggle = block.querySelector(\".form-item__btn\");\n      let blockBtnClear = block.querySelector(\".form-item__btn-clear\");\n      let blockBodyCloseBtns = block.querySelectorAll(\".form-item__body-btn--close\");\n      blockBodyCloseBtns.forEach((item) => {\n        item.addEventListener(\"click\", function(e) {\n          e.target.closest(`.form-item`).classList.remove(formItemActiveClass);\n          this.closest(\".header-form\").classList.remove(\"active\");\n          document.querySelector(\"header\").classList.remove(\"active\");\n          unLockScroll();\n        });\n      });\n      blockBtnClear == null ? void 0 : blockBtnClear.addEventListener(\"click\", function(e) {\n        const input = this.closest(\".form-item\").querySelector(\"input\");\n        input.value = \"\";\n        input.dispatchEvent(new Event(\"input\", { bubbles: true }));\n        input.focus();\n      });\n      function checkInput() {\n        let blockInputVal = blockInput.value;\n        blockInputVal == false ? block.classList.add(\"form-item--empty\") : block.classList.remove(\"form-item--empty\");\n      }\n      function setActive() {\n        closeActiveItems();\n        block.classList.add(\"form-item--active\");\n        if (blockInput.classList.contains(\"js-search__input_where\") && blockInput.value && blockInput.value === blockInput.getAttribute(\"data-name\")) {\n          let blockInputVal = { name: blockInput.value, value: blockInput.getAttribute(\"data-value\") };\n          blockInput.setAttribute(\"data-empty\", 1);\n          blockInput.dispatchEvent(new Event(\"input\", { bubbles: true }));\n          setTimeout(() => {\n            blockInput.setAttribute(\"data-name\", blockInputVal[\"name\"]);\n            blockInput.setAttribute(\"data-value\", blockInputVal[\"value\"]);\n            blockInput.setAttribute(\"data-return\", 1);\n            blockInput.removeAttribute(\"data-empty\");\n          }, 1);\n        }\n      }\n      function changeActive(e) {\n        let thisFormItem = e.target.closest(`.form-item`);\n        let thisFormItemIsActive = thisFormItem.classList.contains(formItemActiveClass);\n        formItems.forEach((item) => item.classList.remove(formItemActiveClass));\n        const headerFormBlock = this.closest(\".header-form\");\n        if (!thisFormItemIsActive) {\n          thisFormItem.classList.add(formItemActiveClass);\n          if (headerFormBlock !== null) {\n            headerFormBlock.classList.add(\"active\");\n          }\n          if (x < DESKTOP_WIDTH) {\n            lockScroll();\n          }\n          if (block.classList.contains(\"form-item--nights\")) {\n            block.setAttribute(\"data-first\", true);\n          }\n        } else {\n          thisFormItem.classList.remove(formItemActiveClass);\n          if (headerFormBlock !== null) {\n            headerFormBlock.classList.remove(\"active\");\n          }\n          unLockScroll();\n        }\n      }\n      function \\u0441lickOutside(evt) {\n        let e = evt.target;\n        let isInsideClick = e.closest(\".form-item__body\") || e.closest(\"input\") || e.closest(\".daterangepicker\") || e.closest(\".available\") || e.closest(\".form-item__body-btn\") || e.closest(\".form-item__btn-clear\") || e.closest(\".form-item__btn\");\n        if (isInsideClick) return;\n        closeActiveItems(true);\n        evt.stopPropagation();\n      }\n      window.addEventListener(\"load\", checkInput);\n      blockInput.addEventListener(\"focusin\", checkInput);\n      blockInput.addEventListener(\"focusout\", checkInput);\n      blockInput.addEventListener(\"input\", checkInput);\n      blockInput.addEventListener(\"focusin\", setActive);\n      blockBtnToggle.addEventListener(\"click\", changeActive);\n      document.addEventListener(\"click\", \\u0441lickOutside);\n    });\n  };\n  initFormItems();\n  function closeActiveItems(blur = false) {\n    let activeBlocks = document.querySelectorAll(\".form-item--active\");\n    if (activeBlocks.length > 0) {\n      activeBlocks.forEach((item) => {\n        item.classList.remove(\"form-item--active\");\n        if (blur) {\n          item.querySelector(\"input\").blur();\n          unLockScroll();\n          const forms = document.querySelectorAll(\".header-form\");\n          for (const form of forms) {\n            form.classList.remove(\"active\");\n          }\n        }\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      });\n    }\n  }\n  let calendarInput = $(\"#header-form-dates\");\n  const formCalendarPropsLocale = {\n    format: \"DD.MM\",\n    applyLabel: \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\",\n    cancelLabel: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\",\n    fromLabel: \"\\u0421\",\n    daysOfWeek: [\"\\u0412\\u0441\", \"\\u041F\\u043D\", \"\\u0412\\u0442\", \"\\u0421\\u0440\", \"\\u0427\\u0442\", \"\\u041F\\u0442\", \"\\u0421\\u0431\"],\n    monthNames: [\"\\u042F\\u043D\\u0432\\u0430\\u0440\\u044C\", \"\\u0424\\u0435\\u0432\\u0440\\u0430\\u043B\\u044C\", \"\\u041C\\u0430\\u0440\\u0442\", \"\\u0410\\u043F\\u0440\\u0435\\u043B\\u044C\", \"\\u041C\\u0430\\u0439\", \"\\u0418\\u044E\\u043D\\u044C\", \"\\u0418\\u044E\\u043B\\u044C\", \"\\u0410\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0421\\u0435\\u043D\\u0442\\u044F\\u0431\\u0440\\u044C\", \"\\u041E\\u043A\\u0442\\u044F\\u0431\\u0440\\u044C\", \"\\u041D\\u043E\\u044F\\u0431\\u0440\\u044C\", \"\\u0414\\u0435\\u043A\\u0430\\u0431\\u0440\\u044C\"],\n    monthNamesShort: [\"\\u042F\\u043D\\u0432\", \"\\u0424\\u0435\\u0432\", \"\\u041C\\u0430\\u0440\", \"\\u0410\\u043F\\u0440\", \"\\u041C\\u0430\\u0439\", \"\\u0418\\u044E\\u043D\", \"\\u0418\\u044E\\u043B\", \"\\u0410\\u0432\\u0433\", \"\\u0421\\u0435\\u043D\", \"\\u041E\\u043A\\u0442\", \"\\u041D\\u043E\\u044F\", \"\\u0414\\u0435\\u043A\"],\n    firstDay: 1\n  }, formCalendarProps = {\n    \"header-form-dates\": {\n      parentEl: \".page__header-form .form-item--calendar .form-item__body\",\n      opens: \"center\",\n      autoApply: true,\n      minDate: moment(),\n      startDate: moment(calendarInput.attr(\"data-start\"), \"YYMMDD\"),\n      endDate: moment(calendarInput.attr(\"data-end\"), \"YYMMDD\"),\n      locale: formCalendarPropsLocale,\n      isInvalidDate: function(date) {\n        let list = [\"\"], cur = moment(date).format(\"YYMMDD\"), x2, t;\n        for (x2 = this.container.length - 1; x2 >= 0; x2--) {\n          t = this.container[x2].closest(\".form-item--calendar\").querySelector(\"#header-form-dates\");\n          if (t) {\n            list = (t.getAttribute(\"data-list\") || \"\").split(\",\");\n            break;\n          }\n        }\n        for (x2 = list.length - 1; x2 >= 0; x2--) {\n          if (list[x2] == cur) return false;\n        }\n        return true;\n      }\n    },\n    \"header-form-dates-tours\": {\n      parentEl: \".page__header-form .form-item--calendar .form-item__body\",\n      opens: \"center\",\n      autoApply: true,\n      minDate: moment(),\n      startDate: moment(calendarInput.attr(\"data-start\"), \"YYMMDD\"),\n      endDate: moment(calendarInput.attr(\"data-end\"), \"YYMMDD\"),\n      locale: formCalendarPropsLocale,\n      isInvalidDate: function(date) {\n        let list = [\"\"], cur = moment(date).format(\"YYMMDD\"), x2, t;\n        for (x2 = this.container.length - 1; x2 >= 0; x2--) {\n          t = this.container[x2].closest(\".form-item--calendar\").querySelector(\"#header-form-dates-tours\");\n          if (t) {\n            list = (t.getAttribute(\"data-list\") || \"\").split(\",\");\n            break;\n          }\n        }\n        for (x2 = list.length - 1; x2 >= 0; x2--) {\n          if (list[x2] == cur) return false;\n        }\n        return true;\n      }\n    },\n    \"header-form-dates-hotels\": {\n      parentEl: \".page__header-form .form-item--calendar .form-item__body\",\n      opens: \"center\",\n      autoApply: true,\n      minDate: moment(),\n      startDate: moment(calendarInput.attr(\"data-start\"), \"YYMMDD\"),\n      endDate: moment(calendarInput.attr(\"data-end\"), \"YYMMDD\"),\n      locale: formCalendarPropsLocale,\n      isInvalidDate: function(date) {\n        let list = [\"\"], cur = moment(date).format(\"YYMMDD\"), x2, t;\n        for (x2 = this.container.length - 1; x2 >= 0; x2--) {\n          t = this.container[x2].closest(\".form-item--calendar\").querySelector(\"#header-form-dates-hotels\");\n          if (t) {\n            list = (t.getAttribute(\"data-list\") || \"\").split(\",\");\n            break;\n          }\n        }\n        for (x2 = list.length - 1; x2 >= 0; x2--) {\n          if (list[x2] == cur) return false;\n        }\n        return true;\n      }\n    },\n    \"header-form-dates-excursions\": {\n      parentEl: \".page__header-form .form-item--calendar .form-item__body\",\n      opens: \"center\",\n      autoApply: true,\n      minDate: moment(),\n      startDate: moment(calendarInput.attr(\"data-start\"), \"YYMMDD\"),\n      endDate: moment(calendarInput.attr(\"data-end\"), \"YYMMDD\"),\n      locale: formCalendarPropsLocale,\n      isInvalidDate: function(date) {\n        let list = [\"\"], cur = moment(date).format(\"YYMMDD\"), x2, t;\n        for (x2 = this.container.length - 1; x2 >= 0; x2--) {\n          t = this.container[x2].closest(\".form-item--calendar\").querySelector(\"#header-form-dates-excursions\");\n          if (t) {\n            list = (t.getAttribute(\"data-list\") || \"\").split(\",\");\n            break;\n          }\n        }\n        for (x2 = list.length - 1; x2 >= 0; x2--) {\n          if (list[x2] == cur) return false;\n        }\n        return true;\n      }\n    },\n    \"hotel-form-dates\": {\n      parentEl: \".header-form--light .form-item--calendar .form-item__body\",\n      opens: \"center\",\n      autoApply: true,\n      minDate: moment(),\n      startDate: moment(),\n      endDate: moment(),\n      locale: formCalendarPropsLocale,\n      isInvalidDate: function(date) {\n        let list = (this.container[0].closest(\".form-item--calendar\").querySelector(\"#hotel-form-dates\").getAttribute(\"data-list\") || \"\").split(\",\"), cur = moment(date).format(\"YYMMDD\"), x2;\n        for (x2 = list.length - 1; x2 >= 0; x2--) {\n          if (list[x2] == cur) return false;\n        }\n        return true;\n      }\n    }\n  };\n  var filterBar3Calendar = () => {\n    let calendarInput2 = $(\"#filter-bar3-calendar\"), filderDates = calendarInput2.attr(\"data-list\"), val = calendarInput2.val();\n    filderDates = filderDates ? filderDates.split(\",\") : [];\n    val = val ? val.split(\" - \") : \"\";\n    if (!filderDates.length && !val) return;\n    const formCalendarProps2 = {\n      parentEl: \".filter-bar3__item_calendar .filter-bar3__menu\",\n      opens: \"center\",\n      autoApply: true,\n      //            singleDatePicker: true,\n      //            alwaysShowCalendars: true,\n      minDate: moment(),\n      maxDate: filderDates ? moment(filderDates[filderDates.length - 1], \"YYMMDD\") : \"\",\n      startDate: val ? moment(val[0], \"DD.MM\") : filderDates ? moment(filderDates[0], \"YYMMDD\") : \"\",\n      endDate: val ? moment(val[1], \"DD.MM\") : filderDates ? moment(filderDates[filderDates.length - 1], \"YYMMDD\") : \"\",\n      locale: formCalendarPropsLocale,\n      isInvalidDate: function(date) {\n        let cur = moment(date).format(\"YYMMDD\"), x2, t;\n        for (x2 = filderDates.length - 1; x2 >= 0; x2--) {\n          if (filderDates[x2] == cur) return false;\n        }\n        return true;\n      }\n    };\n    calendarInput2.daterangepicker(formCalendarProps2);\n    calendarInput2.on({\n      \"apply.daterangepicker\": function(evt, picker) {\n        picker.element.closest(\".filter-bar3__item\").find(\".filter-bar3__btn\").click();\n      },\n      change: function() {\n        let $this = $(this), picker = $this.data(\"daterangepicker\");\n        if (picker) {\n          tour_search_get_params[\"date_from\"] = picker.startDate.format(\"YYYY-MM-DD\");\n          tour_search_get_params[\"date_to\"] = picker.endDate.format(\"YYYY-MM-DD\");\n          tourFilterHref();\n        }\n      }\n    });\n    document.addEventListener(\"click\", (e) => {\n      var _a2;\n      var a = e.target.closest(\".filter-bar3__item_calendar .filter-bar3__btn\");\n      if (a && a.classList.contains(\"active\")) {\n        (_a2 = a.parentNode.querySelector(\"input\")) == null ? void 0 : _a2.focus();\n      }\n    });\n  };\n  filterBar3Calendar();\n  if (calendarInput.length) {\n    calendarInput.daterangepicker(formCalendarProps[\"header-form-dates\"]);\n    calendarInput.on({\n      \"apply.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      \"hideCalendar.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      change: function() {\n        let $this = $(this), picker = $this.data(\"daterangepicker\");\n        if (picker) {\n          $this.val(picker.startDate.format(\"DD.MM\") + \" - \" + picker.endDate.format(\"DD.MM\"));\n          $this.attr(\"data-start\", picker.startDate.format(\"YYMMDD\"));\n          $this.attr(\"data-end\", picker.endDate.format(\"YYMMDD\"));\n          $this.closest(\".form-item--active\").removeClass(\"form-item--active\");\n          closePopups();\n        }\n      }\n    });\n  }\n  calendarInput = $(\"#header-form-dates-tours\");\n  if (calendarInput.length) {\n    formCalendarProps[\"header-form-dates-tours\"][\"startDate\"] = moment(calendarInput.attr(\"data-start\"), \"YYMMDD\");\n    formCalendarProps[\"header-form-dates-tours\"][\"endDate\"] = moment(calendarInput.attr(\"data-end\"), \"YYMMDD\");\n    calendarInput.daterangepicker(formCalendarProps[\"header-form-dates-tours\"]);\n    calendarInput.on({\n      \"apply.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      \"hideCalendar.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      change: function() {\n        let $this = $(this), picker = $this.data(\"daterangepicker\");\n        if (picker) {\n          $this.val(picker.startDate.format(\"DD.MM\") + \" - \" + picker.endDate.format(\"DD.MM\"));\n          $this.attr(\"data-start\", picker.startDate.format(\"YYMMDD\"));\n          $this.attr(\"data-end\", picker.endDate.format(\"YYMMDD\"));\n          if ($this.closest(\".form-item--active\").length) {\n            $this.closest(\".form-item--active\").removeClass(\"form-item--active\");\n            closePopups();\n          }\n        }\n      }\n    });\n  }\n  calendarInput = $(\"#header-form-dates-hotels\");\n  if (calendarInput.length) {\n    formCalendarProps[\"header-form-dates-hotels\"][\"startDate\"] = moment(calendarInput.attr(\"data-start\"), \"YYMMDD\");\n    formCalendarProps[\"header-form-dates-hotels\"][\"endDate\"] = moment(calendarInput.attr(\"data-end\"), \"YYMMDD\");\n    calendarInput.daterangepicker(formCalendarProps[\"header-form-dates-hotels\"]);\n    calendarInput.on({\n      \"apply.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      \"hideCalendar.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      change: function() {\n        let $this = $(this), picker = $this.data(\"daterangepicker\");\n        if (picker) {\n          $this.val(picker.startDate.format(\"DD.MM\") + \" - \" + picker.endDate.format(\"DD.MM\"));\n          $this.attr(\"data-start\", picker.startDate.format(\"YYMMDD\"));\n          $this.attr(\"data-end\", picker.endDate.format(\"YYMMDD\"));\n          $this.closest(\".form-item--active\").removeClass(\"form-item--active\");\n          closePopups();\n        }\n      }\n    });\n  }\n  calendarInput = $(\"#header-form-dates-excursions\");\n  if (calendarInput.length) {\n    formCalendarProps[\"header-form-dates-excursions\"][\"startDate\"] = moment(calendarInput.attr(\"data-start\"), \"YYMMDD\");\n    formCalendarProps[\"header-form-dates-excursions\"][\"endDate\"] = moment(calendarInput.attr(\"data-end\"), \"YYMMDD\");\n    calendarInput.daterangepicker(formCalendarProps[\"header-form-dates-excursions\"]);\n    calendarInput.on({\n      \"apply.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      \"hideCalendar.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      change: function() {\n        let $this = $(this), picker = $this.data(\"daterangepicker\");\n        if (picker) {\n          $this.val(picker.startDate.format(\"DD.MM\") + \" - \" + picker.endDate.format(\"DD.MM\"));\n          $this.attr(\"data-start\", picker.startDate.format(\"YYMMDD\"));\n          $this.attr(\"data-end\", picker.endDate.format(\"YYMMDD\"));\n          $this.closest(\".form-item--active\").removeClass(\"form-item--active\");\n          closePopups();\n        }\n      }\n    });\n  }\n  calendarInput = $(\"#hotel-form-dates\");\n  if (calendarInput.length) {\n    formCalendarProps[\"hotel-form-dates\"][\"startDate\"] = moment(calendarInput.attr(\"data-start\"), \"YYMMDD\");\n    formCalendarProps[\"hotel-form-dates\"][\"endDate\"] = moment(calendarInput.attr(\"data-end\"), \"YYMMDD\");\n    calendarInput.daterangepicker(formCalendarProps[\"hotel-form-dates\"]);\n    calendarInput.on({\n      \"apply.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      \"hideCalendar.daterangepicker\": function(evt, picker) {\n        $(this).closest(\".form-item\").removeClass(\".form-item--active\");\n        const formActive = this.closest(\".header-form\");\n        formActive.classList.remove(\"active\");\n        unLockScroll();\n        const header = document.querySelector(\"header\");\n        if (header) {\n          header.classList.remove(\"active\");\n        }\n      },\n      change: function() {\n        let $this = $(this), picker = $this.data(\"daterangepicker\");\n        if (picker) {\n          $this.val(picker.startDate.format(\"DD.MM\") + \" - \" + picker.endDate.format(\"DD.MM\"));\n          $this.attr(\"data-start\", picker.startDate.format(\"YYMMDD\"));\n          $this.attr(\"data-end\", picker.endDate.format(\"YYMMDD\"));\n          $this.closest(\".form-item--active\").removeClass(\"form-item--active\");\n        }\n      }\n    });\n  }\n  const calendarBtns = document.querySelectorAll(\".form-item--calendar .form-item__btn\");\n  for (const calendarBtn of calendarBtns) {\n    calendarBtn.addEventListener(\"click\", function() {\n      setTimeout(() => {\n        if (calendarBtn.closest(\".form-item\").classList.contains(\"form-item--active\")) {\n          const label = this.closest(\".form-item\").querySelector(\".form-item__wrap\");\n          label.click();\n          if (x < 980) {\n            const formActive = this.closest(\".header-form\");\n            formActive.classList.add(\"active\");\n            lockScroll();\n          }\n        }\n      }, 200);\n    });\n  }\n  function calcHeight(el = \".header\") {\n    const elHeight = document.querySelector(el).offsetHeight;\n    return elHeight;\n  }\n  (function filterBar3ItemSearch() {\n    document.querySelectorAll(\".filter-bar3__item_input-search\").forEach((el) => {\n      const parent = el;\n      const btn = el.querySelector(\".filter-bar3__btn\");\n      const btnImg = btn.querySelector(\".filter-bar3__flag\");\n      const btnClear = el.querySelector(\".filter-bar3__clear\");\n      const input = el.querySelector(\".filter-bar3__input\");\n      const list = el.querySelector(\".form-drop-list3__list\");\n      checkInputVal(input, parent);\n      btnClear.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        input.value = \"\";\n        if (btnImg) btnImg.src = \"\";\n        input.dispatchEvent(new Event(\"input\"));\n        input.focus();\n        return false;\n      });\n      input.addEventListener(\"input\", (e) => {\n        checkInputVal(input, parent);\n      });\n      input.addEventListener(\"focusin\", (e) => {\n        if (!btn.classList.contains(\"active\")) btn.click();\n        let sel = list.querySelector(\".form-drop-list3__link.active\");\n        if (sel && input.value == sel.textContent.trim()) input.value = \"\";\n      });\n      input.addEventListener(\"focusout\", (e) => {\n        if (!input.value) input.value = input.getAttribute(\"data-default\") || \"\";\n      });\n      parent.addEventListener(\"click\", (e) => {\n        checkInputVal(input, parent);\n      });\n      function checkInputVal(input2, block) {\n        let val = input2.value.toLowerCase().trim();\n        val === \"\" ? block.classList.add(\"filter-bar3__item_input-empty\") : block.classList.remove(\"filter-bar3__item_input-empty\");\n      }\n    });\n  })();\n  selectDropMenu2({\n    openBtnSelector: \".filter-bar3__btn\",\n    parentSelector: \".filter-bar3__dropdown\",\n    dropMenuSelector: \".filter-bar3__menu\",\n    dropMenuBtnSelector: \".filter-bar3__menu .form-drop-list3__link\",\n    focus: false\n  });\n  selectDropMenu2({\n    openBtnSelector: \".search-input2__btn\",\n    parentSelector: \".search-input2\",\n    dropMenuSelector: \".search-input2__form-drop-list\",\n    dropMenuBtnSelector: \".search-input2__form-drop-list a[href]\",\n    focus: true\n  });\n  const url_tour_search = new URL(window.location.href), tourFilterHref = () => {\n    let qs = new URLSearchParams(Object.entries(tour_search_get_params).reduce((a, [k, v]) => v ? (a[k] = v, a) : a, {})).toString();\n    window.location.href = document.querySelector(\".filter-bar3__reset\").href + Object.entries(tour_search_url_params).reduce((a, [k, v]) => v ? a + k + \"-\" + v + \"/\" : a, \"\") + (qs ? \"?\" + qs : \"\");\n  };\n  let tour_search_url_params = {\n    type: document.querySelector(\".filter-bar3 input[data-default-type]\"),\n    disease: document.querySelector(\".filter-bar3 input[data-default-disease]\"),\n    country: document.querySelector(\".filter-bar3 input[data-default-country]\"),\n    region: document.querySelector(\".filter-bar3 input[data-default-region]\"),\n    city: document.querySelector(\".filter-bar3 input[data-default-city]\")\n  }, tour_search_get_params = {};\n  if (document.querySelector(\".filter-bar3.js-filter-tours\")) {\n    tour_search_get_params = {\n      //            country_id: url_tour_search.searchParams.get('country_id'),\n      //            resort_id: url_tour_search.searchParams.get('resort_id'),\n      recipient_id: url_tour_search.searchParams.get(\"recipient_id\"),\n      //            type_id: url_tour_search.searchParams.get('type_id'),\n      category_id: url_tour_search.searchParams.get(\"category_id\"),\n      level_id: url_tour_search.searchParams.get(\"level_id\"),\n      date_from: url_tour_search.searchParams.get(\"date_from\"),\n      date_to: url_tour_search.searchParams.get(\"date_to\")\n    };\n  } else if (document.querySelector(\".filter-bar3.js-filter-diseases\")) {\n    tour_search_get_params = {\n      //            country_id: url_tour_search.searchParams.get('country_id'),\n      //            resort_id: url_tour_search.searchParams.get('resort_id'),\n      recipient_id: url_tour_search.searchParams.get(\"recipient_id\"),\n      type_id: url_tour_search.searchParams.get(\"type_id\"),\n      category_id: url_tour_search.searchParams.get(\"category_id\"),\n      level_id: url_tour_search.searchParams.get(\"level_id\"),\n      date_from: url_tour_search.searchParams.get(\"date_from\"),\n      date_to: url_tour_search.searchParams.get(\"date_to\")\n    };\n  } else {\n    tour_search_get_params = {\n      country_id: url_tour_search.searchParams.get(\"country_id\"),\n      resort_id: url_tour_search.searchParams.get(\"resort_id\"),\n      recipient_id: url_tour_search.searchParams.get(\"recipient_id\"),\n      type_id: url_tour_search.searchParams.get(\"type_id\"),\n      category_id: url_tour_search.searchParams.get(\"category_id\"),\n      level_id: url_tour_search.searchParams.get(\"level_id\"),\n      date_from: url_tour_search.searchParams.get(\"date_from\"),\n      date_to: url_tour_search.searchParams.get(\"date_to\")\n    };\n  }\n  tour_search_url_params[\"type\"] = tour_search_url_params[\"type\"] && !tour_search_url_params[\"type\"].disabled ? tour_search_url_params[\"type\"].getAttribute(\"data-default-type\") : \"\";\n  tour_search_url_params[\"disease\"] = tour_search_url_params[\"disease\"] && !tour_search_url_params[\"disease\"].disabled ? tour_search_url_params[\"disease\"].getAttribute(\"data-default-disease\") : \"\";\n  tour_search_url_params[\"country\"] = tour_search_url_params[\"country\"] && !tour_search_url_params[\"country\"].disabled ? tour_search_url_params[\"country\"].getAttribute(\"data-default-country\") : \"\";\n  tour_search_url_params[\"region\"] = tour_search_url_params[\"region\"] && !tour_search_url_params[\"region\"].disabled ? tour_search_url_params[\"region\"].getAttribute(\"data-default-region\") : \"\";\n  tour_search_url_params[\"city\"] = tour_search_url_params[\"city\"] && !tour_search_url_params[\"city\"].disabled ? tour_search_url_params[\"city\"].getAttribute(\"data-default-city\") : \"\";\n  function selectDropMenu2({ openBtnSelector, parentSelector, dropMenuSelector, dropMenuBtnSelector, focus = false }) {\n    const parents = document.querySelectorAll(parentSelector);\n    if (parents.length === 0) return;\n    const removeActiveFromAll = () => {\n      document.querySelectorAll(`${openBtnSelector}.active`).forEach((btn) => btn.classList.remove(\"active\"));\n      document.querySelectorAll(`${dropMenuSelector}.active`).forEach((menu) => menu.classList.remove(\"active\"));\n      if (focus) {\n        document.querySelectorAll(`${parentSelector} input.active`).forEach((input) => input.classList.remove(\"active\"));\n      }\n    };\n    document.addEventListener(\"click\", (e) => {\n      const target = e.target;\n      if (!target.closest(openBtnSelector) && !target.closest(dropMenuSelector) && !target.closest(parentSelector) && (!focus || !target.closest(parentSelector)) && !target.closest(\".next\") && !target.closest(\".prev\")) {\n        removeActiveFromAll();\n      }\n    });\n    parents.forEach((parent) => {\n      parent.addEventListener(\"click\", (e) => {\n        const target = e.target;\n        const menuBtn = target.closest(dropMenuBtnSelector);\n        const menuBtnImg = menuBtn == null ? void 0 : menuBtn.querySelector(\"img\");\n        const input = parent.querySelector(\"input\");\n        const openBtn = parent.querySelector(openBtnSelector);\n        const img = openBtn.querySelector(\"img\");\n        const menu = parent.querySelector(dropMenuSelector);\n        if (openBtn === target || openBtn.contains(target)) {\n          const isActive = openBtn.classList.contains(\"active\");\n          removeActiveFromAll();\n          openBtn.classList.toggle(\"active\", !isActive);\n          menu == null ? void 0 : menu.classList.toggle(\"active\", !isActive);\n          if (focus && input) input.classList.toggle(\"active\", !isActive);\n          return;\n        }\n        if (menuBtn) {\n          if (menuBtn.hasAttribute(\"href\")) {\n            const href = menuBtn.getAttribute(\"href\");\n            if (href.trim() !== \"\" && href !== \"./\" && href[0] !== \"#\") return;\n          }\n          const jsArc = menuBtn.closest(\".js-currencies-archive\");\n          if (!jsArc && typeof menuBtn.dataset !== \"undefined\") {\n            if (typeof menuBtn.dataset.resort_id !== \"undefined\") {\n              if (typeof tour_search_get_params[\"resort_id\"] == \"undefined\") {\n                tour_search_url_params[\"region\"] = tour_search_url_params[\"city\"] = \"\";\n                tour_search_url_params[menuBtn.dataset.param_name] = menuBtn.dataset.resort_alias;\n              } else {\n                tour_search_get_params[\"resort_id\"] = menuBtn.dataset.resort_id;\n              }\n            }\n            if (typeof menuBtn.dataset.country_id !== \"undefined\") {\n              if (typeof tour_search_get_params[\"country_id\"] == \"undefined\") {\n                if (tour_search_url_params[\"country\"] !== menuBtn.dataset.country_alias) {\n                  if (typeof tour_search_get_params[\"resort_id\"] == \"undefined\") {\n                    tour_search_url_params[\"region\"] = tour_search_url_params[\"city\"] = \"\";\n                  } else {\n                    tour_search_get_params[\"resort_id\"] = \"\";\n                  }\n                }\n                tour_search_url_params[\"country\"] = menuBtn.dataset.country_alias;\n              } else {\n                if (tour_search_get_params[\"country_id\"] !== menuBtn.dataset.country_id) {\n                  if (typeof tour_search_get_params[\"resort_id\"] == \"undefined\") {\n                    tour_search_url_params[\"region\"] = tour_search_url_params[\"city\"] = \"\";\n                  } else {\n                    tour_search_get_params[\"resort_id\"] = \"\";\n                  }\n                }\n                tour_search_get_params[\"country_id\"] = menuBtn.dataset.country_id;\n              }\n            }\n            if (typeof menuBtn.dataset.type_id !== \"undefined\") {\n              if (typeof tour_search_get_params[\"type_id\"] == \"undefined\") {\n                tour_search_url_params[\"type\"] = menuBtn.dataset.type_alias;\n              } else {\n                tour_search_get_params[\"type_id\"] = menuBtn.dataset.type_id;\n              }\n            }\n            if (typeof menuBtn.dataset.disease_id !== \"undefined\") tour_search_url_params[\"disease\"] = menuBtn.dataset.disease_alias;\n            if (typeof menuBtn.dataset.recipient_id !== \"undefined\") tour_search_get_params[\"recipient_id\"] = menuBtn.dataset.recipient_id;\n            if (typeof menuBtn.dataset.level_id !== \"undefined\") tour_search_get_params[\"level_id\"] = menuBtn.dataset.level_id;\n            if (typeof menuBtn.dataset.category_id !== \"undefined\") tour_search_get_params[\"category_id\"] = menuBtn.dataset.category_id;\n            tourFilterHref();\n          }\n          e.preventDefault();\n          menu.querySelectorAll(\".active\").forEach((btn) => btn.classList.remove(\"active\"));\n          menuBtn.classList.add(\"active\");\n          input.value = menuBtn.textContent.trim();\n          input.setAttribute(\"data-value\", menuBtn.getAttribute(\"data-id\"));\n          if (img && menuBtnImg) {\n            img.src = \"\";\n            img.src = menuBtnImg.src;\n          }\n          openBtn.classList.remove(\"active\");\n          menu.classList.remove(\"active\");\n          if (focus && input) input.classList.remove(\"active\");\n          if (jsArc) {\n            let filterBar = menuBtn.closest(\".filter-bar3\"), monthValue = filterBar.querySelector('input[name=\"month\"]').getAttribute(\"data-value\"), baseValue = filterBar.querySelector('input[name=\"base\"]').getAttribute(\"data-value\");\n            if (input && input.name == \"month\") {\n              location.href = \"?\" + (monthValue ? \"month=\" + monthValue + \"&\" : \"\") + \"base=\" + baseValue;\n              return;\n            }\n            $(\".js-currencies-archive-list table th:eq(3)\").text(baseValue == \"RUB\" ? \"EURO/USD\" : \"1 RUB\");\n            jsArc.querySelectorAll(`.js-currencies-archive-list table`).forEach((table) => {\n              const el = table.getAttribute(\"data-base\") ? table : table.closest(\"[data-base]\");\n              if (el && el.getAttribute(\"data-base\")) {\n                if (el.getAttribute(\"data-base\") == baseValue) {\n                  el.classList.remove(\"hidden\");\n                  if (!el.classList.length) {\n                    el.removeAttribute(\"class\");\n                  }\n                  if (typeof window[\"drawChart\" + baseValue] == \"function\") window[\"drawChart\" + baseValue]();\n                } else {\n                  el.classList.add(\"hidden\");\n                }\n              }\n            });\n            history.pushState(null, \"\", \"?month=\" + monthValue + \"&base=\" + baseValue);\n          }\n          return;\n        }\n      });\n    });\n    if (focus) {\n      parents.forEach((parent) => {\n        const input = parent.querySelector(\"input\");\n        const openBtn = parent.querySelector(openBtnSelector);\n        const menu = parent.querySelector(dropMenuSelector);\n        if (input && openBtn && menu) {\n          input.addEventListener(\"focus\", () => {\n            removeActiveFromAll();\n            input.classList.add(\"active\");\n            openBtn.classList.add(\"active\");\n            menu.classList.add(\"active\");\n            if (input.closest(\".js-resorts-search-form\") && !resortsSearchList.length) {\n              let list = $(\".city-list__list .city-list__link\");\n              if (!list.length) list = $(\".hotels-list2__list .hotels-list2__link\");\n              if (!list.length) list = $(\".hotel3-grid__list .card-hotel3__info-title a\");\n              list.each(function() {\n                resortsSearchList.push([$.trim(this.textContent.toLowerCase()), this.href, this.innerHTML]);\n              });\n              if (resortsSearchList.length > 1)\n                resortsSearchList.sort(function(a, b) {\n                  return a[0] > b[0] ? 1 : a[0] < b[0] ? -1 : 0;\n                });\n            }\n          });\n          input.addEventListener(\"click\", () => {\n            if (!menu.classList.contains(\"active\")) {\n              removeActiveFromAll();\n              input.classList.add(\"active\");\n              openBtn.classList.add(\"active\");\n              menu.classList.add(\"active\");\n            }\n          });\n          input.addEventListener(\"input\", () => {\n            let parrent = input.closest(\".filter-bar3__item\"), message = parrent.querySelector(\".form-drop-list3__no-result\");\n            const inputWords = multiStr(input.value.toLowerCase());\n            message.classList.add(\"d-none\");\n            if (input.closest(\".js-resorts-search-form\")) {\n              let list = parrent.querySelectorAll(\".form-drop-list3__list .form-drop-list3__link\"), $templateItem = false, $templateLink, $listBlock;\n              $.each(list, function(index, value) {\n                if (value.parentNode.classList.contains(\"js-template\")) {\n                  $templateItem = $(value.parentNode).clone().removeClass(\"js-template hidden\");\n                  $templateLink = $templateItem.find(\".form-drop-list3__link\");\n                  $listBlock = $(value.parentNode.parentNode);\n                } else if (value.parentNode.classList.contains(\"js-default\")) {\n                  if (inputWords[0].length < 3) {\n                    value.parentNode.classList.remove(\"d-none\");\n                  } else {\n                    value.parentNode.classList.add(\"d-none\");\n                  }\n                } else {\n                  $(value.parentNode).remove();\n                }\n              });\n              if (inputWords[0].length < 3) {\n                return;\n              }\n              let count = 0, x2;\n              if ($templateItem.length && resortsSearchList.length) {\n                for (x2 = 0; x2 < resortsSearchList.length; x2++) {\n                  if (resortsSearchList[x2][0].includes(inputWords[0]) || inputWords[1] && resortsSearchList[x2][0].includes(inputWords[1])) {\n                    $templateLink.attr(\"href\", resortsSearchList[x2][1]).html(resortsSearchList[x2][2]);\n                    $templateItem.clone().appendTo($listBlock);\n                    count++;\n                  }\n                }\n              }\n              if (!count) {\n                message.classList.remove(\"d-none\");\n              }\n            } else {\n              let list = parrent.querySelectorAll(\".form-drop-list3__list li .form-drop-list3__link\"), txt;\n              $.each(list, function(index, value) {\n                if (inputWords[0].length < 3) {\n                  if (value.parentNode.classList.contains(\"js-default\")) {\n                    value.parentNode.classList.remove(\"d-none\");\n                  } else {\n                    value.parentNode.classList.add(\"d-none\");\n                  }\n                } else {\n                  if (value.parentNode.classList.contains(\"js-default\")) {\n                    value.parentNode.classList.add(\"d-none\");\n                  } else {\n                    txt = (value.textContent || value.innerText || value.innerHTML).toLowerCase();\n                    if (txt.includes(inputWords[0]) || inputWords[1] && txt.includes(inputWords[1])) {\n                      value.parentNode.classList.remove(\"d-none\");\n                    } else {\n                      value.parentNode.classList.add(\"d-none\");\n                    }\n                  }\n                }\n              });\n              if (inputWords[0].length < 3) {\n                return;\n              }\n              if (parrent.querySelectorAll(\".form-drop-list3__list li.d-none\").length == list.length) {\n                message.classList.remove(\"d-none\");\n              }\n            }\n          });\n          if (input.value) input.dispatchEvent(new Event(\"input\", { bubbles: true }));\n        }\n      });\n    }\n  }\n  selectDropMenu(\".filter-bar__btn\", \".filter-bar__dropdown\", \".filter-bar__menu\", \".filter-bar__menu .form-drop-list__link\");\n  selectDropMenu(\n    \".form-select__btn\",\n    \".form-select\",\n    \".form-select__form-drop-list\",\n    \".form-select__form-drop-list .form-drop-list__link\",\n    true\n  );\n  selectDropMenu(\".search-input__input-btn\", \".search-input\", \".search-input__form-drop-list\", \".search-input__form-drop-list a\", true);\n  function selectDropMenu(openBtn, parrent, dropMenu, dropMenuBtn, focus = false) {\n    const filterBtns2 = document.querySelectorAll(openBtn), dropMenuButtons = document.querySelectorAll(dropMenuBtn), dropMenus = document.querySelectorAll(dropMenu);\n    if (dropMenus.length > 0) {\n      document.addEventListener(\"click\", function(e) {\n        const target = e.target;\n        let itsMenu;\n        let menuIsActive;\n        let itsBtnMenu;\n        let itsInput;\n        let itsInputFocus;\n        const labels = document.querySelectorAll(`${parrent} label`);\n        if (focus) {\n          for (const i of labels) {\n            itsInput = target == i || i.contains(target);\n            if (itsInput) {\n              itsInputFocus = true;\n            }\n          }\n        }\n        for (const menu of dropMenus) {\n          itsMenu = target == menu || menu.contains(target);\n          if (menu.classList.contains(\"active\")) {\n            menuIsActive = true;\n          }\n          if (itsMenu) {\n            break;\n          }\n        }\n        for (const btn of filterBtns2) {\n          itsBtnMenu = target == btn || btn.contains(target);\n          if (itsBtnMenu) break;\n        }\n        if (!itsMenu && !itsBtnMenu && menuIsActive && !itsInputFocus) {\n          for (const btn of filterBtns2) {\n            btn.classList.remove(\"active\");\n          }\n          for (const menu of dropMenus) {\n            menu.classList.remove(\"active\");\n          }\n          if (focus) {\n            const inputs = document.querySelectorAll(`${parrent} input`);\n            for (const input of inputs) {\n              input.classList.remove(\"active\");\n            }\n          }\n        }\n      });\n      for (const btn of filterBtns2) {\n        btn.addEventListener(\"click\", () => {\n          const input = btn.closest(parrent).querySelector(`input`);\n          if (focus) {\n            if (btn.classList.contains(\"active\")) {\n              for (const btn2 of filterBtns2) {\n                btn2.classList.remove(\"active\");\n              }\n              input.classList.remove(\"active\");\n            } else {\n              for (const btn2 of filterBtns2) {\n                btn2.classList.remove(\"active\");\n                btn2.closest(parrent).querySelector(\"input\").classList.remove(\"active\");\n              }\n              toggleActiveClass(btn);\n              input.classList.add(\"active\");\n            }\n          }\n          let thisMenu = btn.closest(parrent).querySelector(dropMenu);\n          if (thisMenu.classList.contains(\"active\")) {\n            for (const menu of dropMenus) {\n              menu.classList.remove(\"active\");\n              btn.classList.remove(\"active\");\n            }\n          } else {\n            for (const menu of dropMenus) {\n              menu.classList.remove(\"active\");\n            }\n            for (const btn2 of filterBtns2) {\n              btn2.classList.remove(\"active\");\n            }\n            thisMenu.classList.add(\"active\");\n            btn.classList.add(\"active\");\n          }\n        });\n      }\n      for (const btn of dropMenuButtons) {\n        btn.addEventListener(\"click\", function(e) {\n          e.preventDefault();\n          setTimeout(() => {\n            let openBtnText = btn.closest(parrent).querySelector(`${openBtn} span`);\n            let fakeSelectInput = btn.closest(parrent).querySelector(\"input\");\n            if (this.hasAttribute(\"href\") || this.hasAttribute(\"type\") && !this.hasAttribute(\"disabled\")) {\n              const thisMenuBtns = this.closest(dropMenu).querySelectorAll(dropMenuBtn);\n              for (const b of thisMenuBtns) {\n                b.classList.remove(\"active\");\n              }\n              toggleActiveClass(this);\n              if (btn.closest(dropMenu).classList.contains(\"active\")) {\n                btn.closest(dropMenu).classList.toggle(\"active\");\n                if (btn.closest(parrent).querySelector(openBtn)) {\n                  btn.closest(parrent).querySelector(openBtn).classList.toggle(\"active\");\n                }\n                if (btn.closest(parrent).querySelector(\"input\")) {\n                  btn.closest(parrent).querySelector(\"input\").classList.toggle(\"active\");\n                }\n              }\n              if (openBtnText) {\n                openBtnText.textContent = btn.textContent;\n              }\n              if (fakeSelectInput !== null) {\n                fakeSelectInput.value = btn.textContent.trim();\n                fakeSelectInput.setAttribute(\"data-value\", btn.getAttribute(\"data-id\"));\n                let blockInputVal = fakeSelectInput.value;\n                blockInputVal.length < 1 ? fakeSelectInput.classList.add(\"empty\") : fakeSelectInput.classList.remove(\"empty\");\n              }\n              if (btn.closest(\".js-currencies-archive\")) {\n                let filterBar = btn.closest(\".filter-bar\"), monthValue = filterBar.querySelector('input[name=\"month\"]').getAttribute(\"data-value\"), baseValue = filterBar.querySelector('input[name=\"base\"]').getAttribute(\"data-value\");\n                if (fakeSelectInput && fakeSelectInput.name == \"month\") {\n                  location.href = \"?\" + (monthValue ? \"month=\" + monthValue + \"&\" : \"\") + \"base=\" + baseValue;\n                  return;\n                }\n                $(\".js-currencies-archive-list table th:eq(3)\").text(baseValue == \"RUB\" ? \"EURO/USD\" : \"1 RUB\");\n                btn.closest(\".js-currencies-archive\").querySelectorAll(`.js-currencies-archive-list table`).forEach((table) => {\n                  const el = table.getAttribute(\"data-base\") ? table : table.closest(\"[data-base]\");\n                  if (el && el.getAttribute(\"data-base\")) {\n                    if (el.getAttribute(\"data-base\") == baseValue) {\n                      el.classList.remove(\"hidden\");\n                      if (!el.classList.length) {\n                        el.removeAttribute(\"class\");\n                      }\n                      if (typeof window[\"drawChart\" + baseValue] == \"function\") window[\"drawChart\" + baseValue]();\n                    } else {\n                      el.classList.add(\"hidden\");\n                    }\n                  }\n                });\n                history.pushState(null, \"\", \"?month=\" + monthValue + \"&base=\" + baseValue);\n              } else if (btn.closest(\".js-country-tours\") || btn.closest(\".js-resorts-regions\")) {\n                let params = [], filterBar = btn.closest(\".filter-bar\");\n                $(filterBar).find(\"input[name]\").each(function() {\n                  if (this.getAttribute(\"data-value\")) {\n                    params.push(this.name + \"=\" + this.getAttribute(\"data-value\"));\n                  }\n                });\n                location.href = params.length ? \"?\" + params.join(\"&\") : location.pathname;\n              } else if (btn.closest(\".js-excursions-form-block\")) {\n                let $input = $(btn.closest(\".form-select\")).find(\"input[name]\"), $form = $(btn.closest(\"form\")), $resorts = $form.find('input[name=\"resort_id\"]'), $resortsSel = $resorts.closest(\".form-select\"), $types = $form.find('input[name=\"type_id\"]'), $typesSel = $types.closest(\".form-select\");\n                if ($form.attr(\"data-process\")) return;\n                if ($input.attr(\"name\") == \"country\") {\n                  $form.attr(\"data-process\", \"country\");\n                  $input.attr(\"data-url\", btn.dataset.url);\n                  $resorts.trigger(\"click\");\n                  $resortsSel.find('.form-drop-list__link[data-id=\"\"]')[0].click();\n                  $resortsSel.find('.form-drop-list__link[data-id!=\"\"]').attr(\"data-id\", \"\").text(\"\").closest(\".form-drop-list__item\").addClass(\"hidden\");\n                  $types.trigger(\"click\");\n                  $typesSel.find('.form-drop-list__link[data-id=\"\"]')[0].click();\n                  $typesSel.find('.form-drop-list__link[data-id!=\"\"]').attr(\"data-id\", \"\").text(\"\").closest(\".form-drop-list__item\").addClass(\"hidden\");\n                  setTimeout(function() {\n                    $resorts.removeClass(\"active\");\n                    $types.removeClass(\"active\");\n                  }, 40);\n                  $.ajax({\n                    url: $form.attr(\"data-ajax\"),\n                    data: {\n                      country_id: $input.attr(\"data-value\")\n                    },\n                    cache: false,\n                    dataType: \"json\",\n                    type: \"post\",\n                    error: function(xhr, status, err) {\n                      alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n                    },\n                    success: function(data) {\n                      if (data[\"resorts\"]) {\n                        var $list = $resortsSel.find(\".form-drop-list__list\"), x2;\n                        for (x2 = 0; x2 < data[\"resorts\"].length; x2++) {\n                          $list.find(\".form-drop-list__item.hidden\").slice(0, 1).removeClass(\"hidden\").find(\".form-drop-list__link\").attr(\"data-id\", data[\"resorts\"][x2][\"id\"]).text(data[\"resorts\"][x2][\"name\"]);\n                        }\n                      }\n                      if (data[\"types\"]) {\n                        var $list = $typesSel.find(\".form-drop-list__list\"), x2;\n                        for (x2 = 0; x2 < data[\"types\"].length; x2++) {\n                          $list.find(\".form-drop-list__item.hidden\").slice(0, 1).removeClass(\"hidden\").find(\".form-drop-list__link\").attr(\"data-id\", data[\"types\"][x2][\"id\"]).text(data[\"types\"][x2][\"name\"]);\n                        }\n                      }\n                    },\n                    complete: function() {\n                      setTimeout(function() {\n                        $form.attr(\"data-process\", null);\n                      }, 40);\n                    }\n                  });\n                } else if ($input.attr(\"name\") == \"resort_id\") {\n                  $form.attr(\"data-process\", \"resort_id\");\n                  $.ajax({\n                    url: $form.attr(\"data-ajax\"),\n                    data: {\n                      country_id: $form.find('input[name=\"country\"]').attr(\"data-value\"),\n                      resort_id: $resorts.attr(\"data-value\")\n                    },\n                    cache: false,\n                    dataType: \"json\",\n                    type: \"post\",\n                    error: function(xhr, status, err) {\n                      alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n                    },\n                    success: function(data) {\n                      if (data[\"status\"]) {\n                        var $list = $typesSel.find(\".form-drop-list__list\"), x2;\n                        $typesSel.find('.form-drop-list__link[data-id!=\"\"]').closest(\".form-drop-list__item\").addClass(\"hidden\");\n                        if (data[\"types\"]) {\n                          for (x2 = 0; x2 < data[\"types\"].length; x2++) {\n                            $list.find('.form-drop-list__link[data-id=\"' + data[\"types\"][x2][\"id\"] + '\"]').closest(\".form-drop-list__item\").removeClass(\"hidden\");\n                          }\n                        }\n                        x2 = $list.find(\".form-drop-list__item.hidden .form-drop-list__link.active\");\n                        if (x2.length) {\n                          $types.trigger(\"click\");\n                          $typesSel.find('.form-drop-list__link[data-id=\"\"]')[0].click();\n                          setTimeout(function() {\n                            $types.removeClass(\"active\");\n                          }, 40);\n                        }\n                      }\n                    },\n                    complete: function() {\n                      setTimeout(function() {\n                        $form.attr(\"data-process\", null);\n                      }, 40);\n                    }\n                  });\n                } else if ($input.attr(\"name\") == \"type_id\") {\n                  $form.attr(\"data-process\", \"type_id\");\n                  $.ajax({\n                    url: $form.attr(\"data-ajax\"),\n                    data: {\n                      country_id: $form.find('input[name=\"country\"]').attr(\"data-value\"),\n                      type_id: $types.attr(\"data-value\")\n                    },\n                    cache: false,\n                    dataType: \"json\",\n                    type: \"post\",\n                    error: function(xhr, status, err) {\n                      alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n                    },\n                    success: function(data) {\n                      if (data[\"status\"]) {\n                        var $list = $resortsSel.find(\".form-drop-list__list\"), x2;\n                        $resortsSel.find('.form-drop-list__link[data-id!=\"\"]').closest(\".form-drop-list__item\").addClass(\"hidden\");\n                        if (data[\"resorts\"]) {\n                          for (x2 = 0; x2 < data[\"resorts\"].length; x2++) {\n                            $list.find('.form-drop-list__link[data-id=\"' + data[\"resorts\"][x2][\"id\"] + '\"]').closest(\".form-drop-list__item\").removeClass(\"hidden\");\n                          }\n                        }\n                        x2 = $list.find(\".form-drop-list__item.hidden .form-drop-list__link.active\");\n                        if (x2.length) {\n                          $resorts.trigger(\"click\");\n                          $resortsSel.find('.form-drop-list__link[data-id=\"\"]')[0].click();\n                          setTimeout(function() {\n                            $resorts.removeClass(\"active\");\n                          }, 40);\n                        }\n                      }\n                    },\n                    complete: function() {\n                      setTimeout(function() {\n                        $form.attr(\"data-process\", null);\n                      }, 40);\n                    }\n                  });\n                }\n              } else if (btn.closest(\".js-hotels-list\")) {\n                let $input = $(btn.closest(\".filter-bar__item\")).find(\"input[name]\");\n                if ($input.attr(\"name\") == \"country\") {\n                  location.href = btn.getAttribute(\"data-id\");\n                } else if ($input.attr(\"name\") == \"resort_id\") {\n                  refreshHotelsList(\"resort_id\", $input.attr(\"data-no-history\"));\n                } else if ($input.attr(\"name\") == \"category_id\") {\n                  refreshHotelsList(\"category_id\", $input.attr(\"data-no-history\"));\n                }\n              } else if (btn.closest(\".js-viphotels-country-hotels\") || btn.closest(\".js-viphotels-country-wellness\")) {\n                var $block = $(btn.closest(\".js-viphotels-country-hotels\") || btn.closest(\".js-viphotels-country-wellness\")), resort_id = fakeSelectInput.getAttribute(\"data-value\") || \"\", category_id = $block.find('input[name=\"category_id\"]').val(), valid_cats = filterVipHotels(\n                  $block.find(\".filter-bar2-filterable-list .news2__item\"),\n                  resort_id,\n                  category_id,\n                  \"category_id\"\n                );\n                $block.find('input[name=\"category_id\"]').closest(\".news2__filter-btns\").find(\".btns__list .btn\").each(function() {\n                  if (!this.getAttribute(\"data-id\")) return;\n                  this.disabled = valid_cats[this.getAttribute(\"data-id\")] ? false : true;\n                });\n              } else if (btn.closest(\".sub-newsletter__info\")) {\n                $(\"#subscribe_city\").val($.trim($(this).text())).attr(\"data-value\", $.trim(this.getAttribute(\"data-id\") || \"\")).trigger(\"change\");\n              }\n            }\n          }, 30);\n          return false;\n        });\n      }\n      if (focus) {\n        const inputs = document.querySelectorAll(`${parrent} input`);\n        for (const i of inputs) {\n          i.addEventListener(\"focus\", function() {\n            setTimeout(() => {\n              let block, element;\n              for (const input of inputs) {\n                input.classList.remove(\"active\");\n                block = input.closest(parrent);\n                element = block ? block.querySelector(openBtn) : false;\n                if (element) element.classList.remove(\"active\");\n                element = block ? block.querySelector(dropMenu) : false;\n                if (element) element.classList.remove(\"active\");\n              }\n              this.classList.add(\"active\");\n              block = this.closest(parrent);\n              element = block ? block.querySelector(openBtn) : false;\n              if (element) element.classList.add(\"active\");\n              element = block ? block.querySelector(dropMenu) : false;\n              if (element) element.classList.add(\"active\");\n            }, 30);\n            if (i.closest(\".js-hotels-search-form\") && !hotelsSearchList.length) {\n              $(\".hotels-list__lists .hotels-list__link\").each(function() {\n                hotelsSearchList.push([$.trim(this.textContent.toLowerCase()), this.href, this.innerHTML]);\n              });\n              if (hotelsSearchList.length > 1)\n                hotelsSearchList.sort(function(a, b) {\n                  return a[0] > b[0] ? 1 : a[0] < b[0] ? -1 : 0;\n                });\n            }\n          });\n          i.addEventListener(\"click\", function() {\n            setTimeout(() => {\n              for (const menu of dropMenus) {\n                menu.classList.remove(\"active\");\n              }\n              this.closest(parrent).querySelector(dropMenu).classList.add(\"active\");\n            }, 30);\n          });\n        }\n      }\n    }\n  }\n  window.addEventListener(\"resize\", () => {\n    for (var tmp in window) {\n      if (tmp.length == 12 && tmp.substr(0, 9) == \"drawChart\" && typeof window[tmp] == \"function\") window[tmp]();\n    }\n  });\n  function toggleActiveClass(el) {\n    el.classList.toggle(\"active\");\n  }\n  const filterBtns = document.querySelectorAll(\".news2__filter-btns .btn\");\n  if (filterBtns.length > 0) {\n    filterBtns.forEach((filterBtn) => {\n      filterBtn.addEventListener(\"click\", function() {\n        if (this.classList.contains(\"active\")) return;\n        const btnsActive = this.closest(\".btns__list\").querySelectorAll(\".btn.active\");\n        for (const btnActive of btnsActive) {\n          btnActive.classList.remove(\"active\");\n        }\n        this.classList.add(\"active\");\n        const input = this.closest(\".btns__list-wrap\").querySelector(\"input\");\n        if (input) input.value = this.getAttribute(\"data-id\");\n        let block = this.closest(\".js-viphotels-country-hotels\");\n        if (!block) block = this.closest(\".js-viphotels-country-wellness\");\n        if (block) {\n          let resort_id = block.querySelector('input[name=\"resort_id\"]').getAttribute(\"data-value\") || \"\", category_id = this.getAttribute(\"data-id\"), valid_resorts = filterVipHotels(\n            $(block).find(\".filter-bar2-filterable-list .news2__item\"),\n            resort_id,\n            category_id,\n            \"resort_id\"\n          ), list = block.querySelector('input[name=\"resort_id\"]').closest(\".filter-bar__dropdown\").querySelectorAll(\".form-drop-list__link\");\n          for (const item of list) {\n            if (!item.getAttribute(\"data-id\")) continue;\n            if (valid_resorts[item.getAttribute(\"data-id\")]) item.setAttribute(\"href\", \"\");\n            else item.removeAttribute(\"href\");\n          }\n        }\n      });\n    });\n  }\n  function refreshHotelsList(src, no_state) {\n    let block = document.querySelector(\".js-hotels-list\"), form = block.querySelector(\".filter-bar--hotels-list\"), resorts = form.querySelector('input[name=\"resort_id\"]'), resort_id = resorts.getAttribute(\"data-value\"), region_id = \"\", categories = form.querySelector('input[name=\"category_id\"]'), category_id = categories.getAttribute(\"data-value\"), valid = {}, qs = [];\n    if (resort_id) {\n      if (resort_id.substr(0, 1) == \"r\") region_id = resort_id.substr(1);\n      qs.push(\"resort_id=\" + resort_id);\n    }\n    if (category_id) qs.push(\"category_id=\" + category_id);\n    qs = qs.length ? \"?\" + qs.join(\"&\") : \"\";\n    block.querySelectorAll(\".hotels-list__lists-item .hotels-list__item\").forEach((item) => {\n      let cur_region = item.getAttribute(\"data-region\"), cur_resort = item.getAttribute(\"data-resort\"), cur_category = item.getAttribute(\"data-category\"), is_resort = false, is_category = false;\n      if (region_id && cur_region == region_id || !resort_id || cur_resort == resort_id) is_resort = true;\n      if (!category_id || cur_category == category_id) is_category = true;\n      if (src == \"resort_id\") {\n        if (is_resort) valid[cur_category] = cur_category;\n      } else if (src == \"category_id\") {\n        if (is_category) {\n          valid[cur_resort] = cur_resort;\n          if (cur_region) valid[\"r\" + cur_region] = \"r\" + cur_region;\n        }\n      }\n      if (is_resort && is_category) {\n        item.classList.remove(\"hidden\");\n      } else {\n        item.classList.add(\"hidden\");\n      }\n    });\n    block.querySelectorAll(\".hotels-list__lists-item\").forEach((item) => {\n      if (item.querySelectorAll(\".hotels-list__item:not(.hidden)\").length) {\n        item.classList.remove(\"hidden\");\n      } else {\n        item.classList.add(\"hidden\");\n      }\n    });\n    if (src == \"resort_id\") {\n      categories.closest(\".filter-bar__item\").querySelectorAll(\".form-drop-list__link\").forEach((item) => {\n        let id = item.getAttribute(\"data-id\");\n        if (!id) return;\n        if (valid[id]) item.setAttribute(\"href\", \"\");\n        else item.removeAttribute(\"href\");\n      });\n    } else if (src == \"category_id\") {\n      resorts.closest(\".filter-bar__item\").querySelectorAll(\".form-drop-list__link\").forEach((item) => {\n        let id = item.getAttribute(\"data-id\");\n        if (!id) return;\n        if (valid[id]) item.setAttribute(\"href\", \"\");\n        else item.removeAttribute(\"href\");\n      });\n    }\n    if (!no_state) {\n      form = location.href.indexOf(\"?\");\n      form = form > 0 ? [location.href.substr(0, form), location.href.substr(form)] : [location.href, \"\"];\n      if (form[1] != qs) history.pushState(null, \"\", form[0] + qs);\n    }\n  }\n  function setHotelsListFromUrl() {\n    let form = document.querySelector(\".js-hotels-list .filter-bar--hotels-list\");\n    if (!form) return;\n    let resorts = form.querySelector('input[name=\"resort_id\"]'), resort_id = resorts.getAttribute(\"data-value\"), categories = form.querySelector('input[name=\"category_id\"]'), category_id = categories.getAttribute(\"data-value\"), qs = { resort_id: \"\", category_id: \"\" }, x2;\n    if (document.location.search.length > 1) {\n      for (x2 of document.location.search.substr(1).split(\"&\")) {\n        x2 = x2.split(\"=\");\n        if (x2[0] == \"resort_id\" || x2[0] == \"category_id\") qs[x2[0]] = x2[1];\n      }\n    }\n    if (qs[\"resort_id\"] != resort_id) {\n      x2 = resorts.closest(\".filter-bar__item\").querySelector('.form-drop-list__link[data-id=\"' + qs[\"resort_id\"] + '\"]');\n      if (x2) {\n        resorts.setAttribute(\"data-no-history\", 1);\n        x2.dispatchEvent(\n          new Event(\"click\", {\n            bubbles: true,\n            cancelable: true\n          })\n        );\n        resorts.removeAttribute(\"data-no-history\");\n      }\n    }\n    if (qs[\"category_id\"] != category_id) {\n      x2 = categories.closest(\".filter-bar__item\").querySelector('.form-drop-list__link[data-id=\"' + qs[\"category_id\"] + '\"]');\n      if (x2) {\n        categories.setAttribute(\"data-no-history\", 1);\n        x2.dispatchEvent(\n          new Event(\"click\", {\n            bubbles: true,\n            cancelable: true\n          })\n        );\n        categories.removeAttribute(\"data-no-history\");\n      }\n    }\n  }\n  setHotelsListFromUrl();\n  $(window).on(\"popstate\", function(e) {\n    let hotelsBlock = document.querySelector(\".js-hotels-list\");\n    if (!hotelsBlock) return;\n    setHotelsListFromUrl();\n  });\n  checkInputValue(\".hard-input__input\");\n  checkInputValue(\".form-select__input\");\n  function checkInputValue(inputs) {\n    const blockInputs = document.querySelectorAll(inputs);\n    for (const blockInput of blockInputs) {\n      let checkInput = function() {\n        let blockInputVal = blockInput.value;\n        blockInputVal.length < 1 ? blockInput.classList.add(\"empty\") : blockInput.classList.remove(\"empty\");\n      };\n      window.addEventListener(\"load\", checkInput);\n      blockInput.addEventListener(\"focusin\", () => blockInput.classList.remove(\"empty\"));\n      blockInput.addEventListener(\"focusout\", checkInput);\n    }\n  }\n  const overlay = document.querySelector(\".overlay\"), popupCloseBtns = document.querySelectorAll(\".popap-close-btn\");\n  document.addEventListener(\"keydown\", function(e) {\n    if (e.code == \"Escape\") {\n      closePopups();\n    }\n  });\n  document.addEventListener(\"click\", function(e) {\n    const target = e.target.closest(\".blog-nav__link\");\n    if (target === null || target.getAttribute(\"href\").charAt(0) !== \"#\") return false;\n    const popup = target.closest(\".tours-popup\");\n    if (popup === null) return false;\n    popup.querySelector(\".popap-close-btn\").click();\n  });\n  for (const btn of popupCloseBtns) {\n    btn.addEventListener(\"click\", () => closePopups());\n  }\n  function closePopups() {\n    const activeCalendarsWrap = document.querySelectorAll(\".form-item--calendar.form-item--active\");\n    for (const wrap of activeCalendarsWrap) {\n      const calendar = wrap.querySelector(\".daterangepicker\");\n      calendar.setAttribute(\"style\", \"display: none\");\n    }\n    const activeFormItems = document.querySelectorAll(\".form-item.form-item--active\");\n    for (const item of activeFormItems) {\n      item.classList.remove(\"form-item--active\");\n    }\n    let jsActive = document.querySelectorAll(\".js-active.active\");\n    for (const i of jsActive) {\n      i.classList.remove(\"active\");\n    }\n    unLockScroll();\n  }\n  document.querySelectorAll('[data-indeterminate=\"indeterminate\"').forEach((item) => {\n    item.indeterminate = true;\n  });\n  let filterCategory = \"all\";\n  showPlusItems(\".hotels__btn\", \".hotels__list\", 4, 4);\n  showPlusItems(\".news-list-section .btn\", \".news-list\", 10, 0, true, \".news-list-section\");\n  function showPlusItems(btnName, listName, startShow, plusNumber, filter = false, clear = false, all = false) {\n    const list = document.querySelector(listName), btns = document.querySelectorAll(btnName);\n    let listItems = document.querySelectorAll(`${listName} > *`);\n    if (btns.length > 0 && list) {\n      let blockStep = parseInt(list.getAttribute(\"data-step\"));\n      blockStep = isNaN(blockStep) || blockStep < 1 ? 0 : blockStep;\n      for (const btn of btns) {\n        let howMuchShowNow = blockStep || startShow, hidebox = btn.closest(\".js-btn-hidebox\");\n        if (howMuchShowNow >= listItems.length) {\n          if (!clear) {\n            btn.classList.add(\"btn-row--hide\");\n            if (hidebox) hidebox.classList.add(\"hidden\");\n          } else {\n            btn.classList.remove(\"btn-row--hide\");\n            if (hidebox) hidebox.classList.remove(\"hidden\");\n          }\n        } else {\n          let upgradeHeight = function() {\n            wrapperNode.setAttribute(\"style\", `height: ${list.offsetHeight}px`);\n          };\n          btn.classList.remove(\"btn-row--hide\");\n          if (hidebox) hidebox.classList.remove(\"hidden\");\n          const wrapperName = \"best-wrapper-ever\";\n          if (!document.querySelector(`.${wrapperName}`)) {\n            const wrapper = document.createElement(\"div\");\n            wrapper.setAttribute(\"class\", wrapperName);\n            list.parentNode.insertBefore(wrapper, list);\n            wrapper.appendChild(list);\n          }\n          for (const i of listItems) {\n            i.setAttribute(\"style\", \"height: 0; overflow: hidden; margin-bottom: 0; padding: 0; border: 0\");\n          }\n          for (let i = 0; i < howMuchShowNow; i++) {\n            listItems[i].removeAttribute(\"style\");\n          }\n          const wrapperNode = document.querySelector(`.${wrapperName}`);\n          let heightList = function() {\n            let height;\n            function heightNow() {\n              window.addEventListener(\"load\", () => {\n                height = list.offsetHeight;\n                wrapperNode.setAttribute(\"style\", `height: ${height}px`);\n              });\n            }\n            heightNow();\n          };\n          heightList();\n          btn.addEventListener(\"click\", function() {\n            let listItems2 = document.querySelectorAll(`${listName} > *`);\n            let timeOut = 0;\n            if (clear) {\n              howMuchShowNow = blockStep || startShow;\n              for (const i of listItems2) {\n                i.setAttribute(\"style\", \"height: 0; overflow: hidden; margin-bottom: 0; padding: 0; border: 0\");\n              }\n              upgradeHeight();\n              for (const b of btns) {\n                b.classList.remove(\"active\");\n              }\n              this.classList.add(\"active\");\n              timeOut = 600;\n              const btnRow = this.closest(clear).querySelector(\".btn-row\"), hideboxRow = btnRow ? btnRow.closest(\".js-btn-hidebox\") : false;\n              if (btnRow) btnRow.classList.remove(\"btn-row--hide\");\n              if (hideboxRow) hideboxRow.classList.remove(\"hidden\");\n            } else {\n              const btnRow = this.parentNode.querySelector(\".btn-row\"), hideboxRow = btnRow ? btnRow.closest(\".js-btn-hidebox\") : false;\n              if (btnRow) btnRow.classList.add(\"btn-row--hide\");\n              if (hideboxRow) hideboxRow.classList.add(\"hidden\");\n            }\n            if (filter) {\n              const newFilter = btn.getAttribute(\"data-filter-category\");\n              if (newFilter) {\n                filterCategory = newFilter.trim();\n              }\n            }\n            if (filterCategory != \"\") {\n              const listFilterItems = listItems2;\n              if (filterCategory != \"all\") {\n                listItems2 = [];\n                for (const item of listFilterItems) {\n                  if (item.getAttribute(\"data-filter-category\").includes(filterCategory)) {\n                    listItems2.push(item);\n                  }\n                }\n              }\n            }\n            howMuchShowNow += blockStep || plusNumber;\n            setTimeout(() => {\n              if (all || howMuchShowNow > listItems2.length) {\n                if (!clear) {\n                  btn.classList.add(\"btn-row--hide\");\n                  if (hidebox) hidebox.classList.add(\"hidden\");\n                } else {\n                  btn.classList.remove(\"btn-row--hide\");\n                  if (hidebox) hidebox.classList.remove(\"hidden\");\n                }\n                for (let i = 0; i < listItems2.length; i++) {\n                  listItems2[i].removeAttribute(\"style\");\n                }\n                upgradeHeight();\n              } else {\n                btn.classList.remove(\"btn-row--hide\");\n                if (hidebox) hidebox.classList.remove(\"hidden\");\n                for (let i = 0; i < howMuchShowNow; i++) {\n                  listItems2[i].removeAttribute(\"style\");\n                }\n                btn.classList.add(\"btn-row--load\");\n                upgradeHeight();\n                btn.classList.remove(\"btn-row--load\");\n              }\n            }, timeOut);\n          });\n        }\n      }\n    }\n  }\n  document.querySelectorAll(\".btn-row2\").forEach((btn) => {\n    let block = btn.closest(\".main-content2__block\"), list = block ? block.querySelector(\"ul[data-step]\") : false;\n    if (!list) return;\n    let listItems = list.children;\n    listItems = Array.from(listItems).filter((el) => el.tagName.toLowerCase() === \"li\");\n    let blockStep = parseInt(list.getAttribute(\"data-step\"));\n    blockStep = isNaN(blockStep) || blockStep < 1 ? 0 : blockStep;\n    let howMuchShowNow = blockStep;\n    if (howMuchShowNow >= listItems.length) {\n      btn.classList.add(\"btn-row2_hide\");\n    } else {\n      btn.classList.remove(\"btn-row2_hide\");\n      for (const i of listItems) {\n        i.setAttribute(\"style\", \"height: 0; overflow: hidden; margin-top: 0; padding: 0; border: 0\");\n      }\n      for (let i = 0; i < howMuchShowNow; i++) {\n        listItems[i].removeAttribute(\"style\");\n      }\n      btn.addEventListener(\"click\", (e) => {\n        howMuchShowNow += blockStep;\n        setTimeout(() => {\n          if (howMuchShowNow >= listItems.length) {\n            btn.classList.add(\"btn-row2_hide\");\n            for (let i = 0; i < listItems.length; i++) {\n              listItems[i].removeAttribute(\"style\");\n            }\n          } else {\n            btn.classList.remove(\"btn-row2_hide\");\n            for (let i = 0; i < howMuchShowNow; i++) {\n              listItems[i].removeAttribute(\"style\");\n            }\n          }\n        }, 0);\n      });\n    }\n  });\n  $(\"#more_hotels_diseases\").on(\"click\", function() {\n    const loadStyle = \"btn-row2_load\", btn = this, hidebox = btn.closest(\".js-btn-hidebox\"), limit = parseInt($(btn).data(\"limit\")), offset = limit + parseInt($(btn).data(\"offset\")), curUrl = new URL(window.location.href);\n    btn.classList.add(loadStyle);\n    curUrl.search = \"\";\n    $.ajax({\n      url: curUrl.toString(),\n      data: {\n        offset\n      },\n      cache: false,\n      dataType: \"html\",\n      type: \"post\",\n      error: function(xhr, status, err) {\n        alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n        btn.classList.remove(loadStyle);\n      },\n      success: function(data) {\n        if (offset + limit >= parseInt($(btn).data(\"total\"))) {\n          $(btn).addClass(\"btn-row--hide\");\n          if (hidebox) $(hidebox).addClass(\"hidden\");\n        } else {\n          $(btn).data(\"offset\", offset);\n        }\n        $(data).appendTo($(\"#more_hotels_diseases\").closest(\"section\").find(\"ul\"));\n        btn.classList.remove(loadStyle);\n      }\n    });\n  });\n  $(\".empty-result__btn\").click(function(e) {\n    const inputs = $(this).closest(\".tours-in\").find(\".filter-bar__input\");\n    const links = $(this).closest(\".tours-in\").find(\".form-drop-list__link\");\n    $(links).removeClass(\"active\");\n    inputs[0].value = \"\\u0411\\u0435\\u0437 \\u043F\\u0435\\u0440\\u0435\\u043B\\u0435\\u0442\\u0430\";\n    inputs[1].value = \"\\u0412\\u0441\\u0435 \\u0433\\u043E\\u0440\\u043E\\u0434\\u0430\";\n    inputs[2].value = \"\\u0412\\u0441\\u0435 \\u0442\\u0438\\u043F\\u044B\";\n  });\n  const rutubeF = (event, slide, player, state = \"\") => {\n    if (!player.contentWindow || !slide) return;\n    if (event === void 0 && state === \"resume\") {\n      player.contentWindow.postMessage(\n        JSON.stringify({\n          type: \"player:play\",\n          data: {}\n        }),\n        \"*\"\n      );\n      return;\n    }\n    let ev_type, ev_data, isSelected = slide.el.classList.contains(\"is-selected\", \"is-done\");\n    try {\n      const data = JSON.parse(event.data);\n      ev_type = data.type;\n      ev_data = data.data;\n    } catch (err) {\n      ev_type = \"JSON invalid\";\n      return;\n    }\n    if (ev_type == \"player:ready\" && isSelected) {\n      player.contentWindow.postMessage(\n        JSON.stringify({\n          type: \"player:setCurrentTime\",\n          data: { time: 0 }\n        }),\n        \"*\"\n      );\n      player.contentWindow.postMessage(\n        JSON.stringify({\n          type: \"player:play\",\n          data: {}\n        }),\n        \"*\"\n      );\n      player.contentWindow.postMessage(\n        JSON.stringify({\n          type: \"player:inMute\",\n          data: {}\n        }),\n        \"*\"\n      );\n    } else if (state === \"pause\" && ev_type == \"player:currentTime\" && !isSelected) {\n      player.contentWindow.postMessage(\n        JSON.stringify({\n          type: \"player:pause\",\n          data: {}\n        }),\n        \"*\"\n      );\n    }\n  };\n  Fancybox.bind(\"[data-fancybox]\", {\n    idle: false,\n    l10n: {\n      CLOSE: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",\n      NEXT: \"\\u0414\\u0430\\u043B\\u0435\\u0435\",\n      PREV: \"\\u041D\\u0430\\u0437\\u0430\\u0434\",\n      MODAL: \"\\u041E\\u043A\\u043D\\u043E \\u043C\\u043E\\u0436\\u043D\\u043E \\u0437\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043D\\u0430\\u0436\\u0430\\u0442\\u0438\\u0435\\u043C \\u043A\\u043B\\u0430\\u0432\\u0438\\u0448\\u0438 ESC\",\n      ERROR: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430! \\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u043E\\u0437\\u0436\\u0435\",\n      IMAGE_ERROR: \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\",\n      ELEMENT_NOT_FOUND: \"HTML \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\",\n      IFRAME_ERROR: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u044B\",\n      TOGGLE_ZOOM: \"\\u041C\\u0430\\u0441\\u0448\\u0442\\u0430\\u0431\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\",\n      TOGGLE_THUMBS: \"\\u041F\\u043E\\u043A\\u0430\\u0437 \\u043C\\u0438\\u043D\\u0438\\u0430\\u0442\\u044E\\u0440\",\n      TOGGLE_SLIDESHOW: \"\\u0421\\u043B\\u0430\\u0439\\u0434\\u0448\\u043E\\u0443\",\n      TOGGLE_FULLSCREEN: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u044D\\u043A\\u0440\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0440\\u0435\\u0436\\u0438\\u043C\",\n      DOWNLOAD: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430\"\n    },\n    Carousel: {\n      transition: \"classic\",\n      friction: 0.3\n    },\n    Thumbs: {\n      type: \"classic\"\n    },\n    on: {\n      \"Carousel.ready Carousel.change\": (fancybox) => {\n        const slide = fancybox.getSlide();\n        const isVideoTrigger = slide.triggerEl.classList.contains(\"_show-video\");\n        if (!isVideoTrigger) return;\n        slide.el.classList.add(\"has-youtube\");\n        if (slide.triggerEl.classList.contains(\"_vk\")) {\n          const a = slide.contentEl.querySelector(\"iframe\");\n          const player = VK.VideoPlayer(a);\n          a.setAttribute(\"frameborder\", \"0\");\n          player.play();\n          player.unmute();\n        }\n        if (slide.triggerEl.classList.contains(\"_rutube\")) {\n          const player = slide.contentEl.querySelector(\"iframe\");\n          rutubeF(void 0, slide, player, \"resume\");\n          window.addEventListener(\"message\", (event) => {\n            if (event.origin !== \"https://rutube.ru\") return;\n            rutubeF(event, slide, player, \"\");\n          });\n        }\n      },\n      \"Carousel.unselectSlide\": (fancybox) => {\n        fancybox.carousel.slides.forEach((slide) => {\n          if (!slide[\"triggerEl\"] || !slide[\"el\"] || !slide[\"el\"].classList.contains(\"has-youtube\")) return;\n          if (slide[\"triggerEl\"].classList.contains(\"_vk\")) {\n            const a = slide[\"el\"].querySelector(\"iframe\");\n            const player = VK.VideoPlayer(a);\n            player.pause();\n          }\n          if (slide[\"triggerEl\"].classList.contains(\"_rutube\")) {\n            const player = slide[\"el\"].querySelector(\"iframe\");\n            window.addEventListener(\"message\", (event) => {\n              if (event.origin !== \"https://rutube.ru\") return;\n              rutubeF(event, slide, player, \"pause\");\n            });\n          }\n        });\n      }\n    },\n    Html: {\n      iframeAttr: {\n        allow: \"autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;\"\n      }\n    }\n  });\n  initHubs();\n  function initHubs() {\n    const hubBtns = document.querySelectorAll(\".hub-btn\");\n    if (hubBtns.length > 0) {\n      for (const btn of hubBtns) {\n        let checkUpperBlock = function() {\n          upperBlockLineHeight = parseFloat(getComputedStyle(upperBlock).lineHeight);\n          upperBlockHeightFull = parseFloat(getComputedStyle(upperBlockChild).height);\n          upperBlockHeightVisible = upperBlockLineHeight * upperBlockMaxLines;\n          if (upperBlockHeightVisible < upperBlockHeightFull && btn.classList.contains(\"hidden\")) {\n            btn.classList.remove(\"hidden\");\n            hideUpperBlock();\n          } else if (upperBlockHeightVisible >= upperBlockHeightFull && !btn.classList.contains(\"hidden\")) {\n            btn.classList.add(\"hidden\");\n            upperBlock.style.height = \"auto\";\n          }\n        }, hideUpperBlock = function() {\n          upperBlock.style.height = `${upperBlockHeightFull}px`;\n          setTimeout(() => {\n            upperBlock.style.height = `${upperBlockHeightVisible}px`;\n            btn.classList.add(\"hub-hidden\");\n          }, 50);\n        }, showUpperBlock = function() {\n          upperBlock.style.height = `${upperBlockHeightVisible}px`;\n          setTimeout(() => {\n            upperBlock.style.height = `${upperBlockHeightFull}px`;\n            btn.classList.remove(\"hub-hidden\");\n          }, 50);\n          setTimeout(() => {\n            upperBlock.style.height = \"auto\";\n          }, 500);\n        };\n        const upperBlock = btn.previousElementSibling;\n        const upperBlockChild = upperBlock.children[0];\n        const upperBlockMaxLines = upperBlock.dataset.maxLines || 10;\n        let upperBlockLineHeight = 10;\n        let upperBlockHeightFull = 999999999;\n        let upperBlockHeightVisible = upperBlockLineHeight * upperBlockMaxLines;\n        checkUpperBlock();\n        btn.addEventListener(\"click\", function() {\n          if (btn.classList.contains(\"hub-hidden\")) {\n            showUpperBlock();\n          } else {\n            hideUpperBlock();\n          }\n        });\n        window.addEventListener(\"resize\", () => {\n          checkUpperBlock();\n        });\n      }\n    }\n  }\n  $(\".js-header-form-from\").each(function() {\n    findInSelect(this, \".form-item\", \".cities2 a\", \".form-item__no-result\");\n  });\n  $(\".js-header-form-to\").each(function() {\n    findInSelect(this, \".form-item\", \".js-where-default .cities2 a\", \".form-item__no-result\");\n    findInSelect(this, \".form-item\", \".js-where-search .cities2 a\", \".form-item__no-result\");\n  });\n  findInSelect(\"#content-form-from\", \".form-item\", \".cities2 a\", \".form-item__no-result\");\n  $(\".form-select__input\").each(function() {\n    findInSelect(this, \".form-select\", \".form-drop-list__link\", \".form-drop-list__no-result\");\n  });\n  $(\".search-input__search\").each(function() {\n    findInSelect(this, \".search-input\", \".form-drop-list__link\", \".form-drop-list__no-result\");\n  });\n  $(\".filter-bar3__item_input-search .filter-bar3__input\").each(function() {\n    findInSelect(this, \".filter-bar3__item_input-search\", \".form-drop-list3__link\", \".form-drop-list3__no-result\");\n  });\n  function multiStr(str) {\n    let ss = [str, \"\"], x2, c;\n    for (x2 = 0; x2 < ss[0].length; x2++) {\n      c = ss[0].charAt(x2);\n      if (e2rt[c]) {\n        ss[1] += e2rt[c];\n      } else {\n        ss[1] += c;\n      }\n    }\n    if (ss[1] == ss[0]) ss[1] = \"\";\n    return ss;\n  }\n  function findInSelect(id, parrent, itemList, messageNotFound) {\n    let input = $(id);\n    if (input) {\n      let list = input.closest(parrent).find(itemList);\n      const message = input.closest(parrent).find(messageNotFound);\n      $.each(input, function(index, inp) {\n        if (!inp.classList.contains(\"js-header-form-to\")) {\n          if ($(inp).val() != \"\") {\n            let inpValues = multiStr($(inp).val().trim().toLowerCase());\n            $.each(list, function(index2, value) {\n              const valueClean = value.textContent.trim().toLowerCase();\n              if (valueClean == inpValues[0] || inpValues[1] && valueClean == inpValues[1]) {\n                list[index2].classList.add(\"active\");\n              }\n            });\n          }\n        }\n      });\n      $.each(list, function(index, value) {\n        $(value).click(function(e) {\n          e.preventDefault();\n          unLockScroll();\n          $(\".header-form\").removeClass(\"active\");\n          const href = $(this).attr(\"href\");\n          if (href) {\n            const thisMenuLinks = $(this).closest(parrent).find(itemList);\n            $.each(thisMenuLinks, function(index2, val) {\n              $(val).removeClass(\"active\");\n            });\n            $(this).addClass(\"active\");\n            const inp = $(this).closest(parrent).find(\"input\");\n            inp.val(this.textContent.trim()).attr(\"data-name\", this.textContent.trim());\n            $(this).closest(parrent).removeClass(\"form-item--active\");\n            $(this).closest(parrent).removeClass(\"form-item--empty\");\n            $(\".header\").removeClass(\"active\");\n            if (href.substr(0, 1) != \"#\") window.location.href = href;\n            return;\n          }\n        });\n      });\n      if ($(id).attr(\"data-fis-events\")) return;\n      $(id).on(\"input\", function(ev) {\n        if (ev.target.classList.contains(\"js-header-form-to\")) return;\n        if (ev.target.closest(\".js-hotels-search-form\")) {\n          let $templateItem = false, $templateLink, $listBlock;\n          const inputWords = multiStr(ev.target.value.toLowerCase());\n          message.addClass(\"d-none\");\n          $.each(list, function(index, value) {\n            if (value.parentNode.classList.contains(\"js-template\")) {\n              $templateItem = $(value.parentNode).clone().removeClass(\"js-template hidden\");\n              $templateLink = $templateItem.find(itemList);\n              $listBlock = $(value.parentNode.parentNode);\n            } else if (value.parentNode.classList.contains(\"js-default\")) {\n              if (inputWords[0].length < 3) {\n                value.parentNode.classList.remove(\"d-none\");\n              } else {\n                value.parentNode.classList.add(\"d-none\");\n              }\n            } else {\n              $(value.parentNode).remove();\n            }\n          });\n          if (inputWords[0].length < 3) {\n            list = input.closest(parrent).find(itemList);\n            return;\n          }\n          let count = 0, x2;\n          if ($templateItem.length && hotelsSearchList.length) {\n            for (x2 = 0; x2 < hotelsSearchList.length; x2++) {\n              if (hotelsSearchList[x2][0].includes(inputWords[0]) || inputWords[1] && hotelsSearchList[x2][0].includes(inputWords[1])) {\n                $templateLink.attr(\"href\", hotelsSearchList[x2][1]).html(hotelsSearchList[x2][2]);\n                $templateItem.clone().appendTo($listBlock);\n                count++;\n              }\n            }\n          }\n          list = input.closest(parrent).find(itemList);\n          if (!count) {\n            message.removeClass(\"d-none\");\n          }\n        } else {\n          message.addClass(\"d-none\");\n          const inputWords = multiStr($(ev.target).val().toLowerCase());\n          if (inputWords[0] != \"\") {\n            let count = 0;\n            $.each(list, function(index, value) {\n              value.classList.add(\"d-none\");\n              if (value.getAttribute(\"data-href\")) value.setAttribute(\"href\", value.getAttribute(\"data-href\"));\n              if (value.classList.contains(\"js-nosearch\")) {\n                return;\n              }\n              if (value.textContent.toLowerCase().includes(inputWords[0]) || inputWords[1] && value.textContent.toLowerCase().includes(inputWords[1])) {\n                value.classList.remove(\"d-none\");\n                count++;\n                if (value.closest(\".form-drop-list3__inner-list\")) {\n                  let parr = value.closest(\".form-drop-list3__item\").querySelector(\".form-drop-list3__link\");\n                  if (parr.classList.contains(\"d-none\")) {\n                    parr.setAttribute(\"data-href\", parr.getAttribute(\"href\"));\n                    parr.removeAttribute(\"href\");\n                    parr.classList.remove(\"d-none\");\n                  }\n                }\n              }\n            });\n            if (count == 0) {\n              message.removeClass(\"d-none\");\n            }\n          } else {\n            $.each(list, function(index, value) {\n              value.classList.remove(\"d-none\");\n              if (value.getAttribute(\"data-href\")) value.setAttribute(\"href\", value.getAttribute(\"data-href\"));\n            });\n            message.addClass(\"d-none\");\n          }\n        }\n      });\n      $(id).attr(\"data-fis-events\", 1);\n    }\n  }\n  let searchCountries = {}, searchResorts = {};\n  let searchFormFieldsAjax = function($form, data, selects_init, is_anysearch) {\n    if ($form.attr(\"data-process\")) return;\n    $form.find(\".error\").removeClass(\"error\");\n    $form.attr(\"data-process\", 1);\n    $.ajax({\n      url: $form.attr(\"data-action-ajax\"),\n      data,\n      cache: false,\n      dataType: \"json\",\n      timeout: 1e4,\n      type: \"post\",\n      error: function(xhr, status, err) {\n      },\n      success: function(data2) {\n        let $cur, $items, $tpl, str, x2, y, sel = [];\n        if (selects_init && selects_init & 2) {\n          $items = $form.find(\".js-search__input_from\").val(\"\").attr(\"data-value\", \"\").closest(\".js-search__block\").find(\".form-item__body ul\");\n          $tpl = $items.find(\"li\").first();\n          $items.find(\"li\").slice(1).remove();\n          for (x2 = 0; x2 < data2[\"townfroms\"].length; x2++) {\n            $cur = $tpl.clone();\n            $cur.find(\".search-list__link_active\").removeClass(\"search-list__link_active\");\n            $cur.attr(\"data-id\", data2[\"townfroms\"][x2][\"id\"]).removeClass(\"hidden\");\n            if ($cur.hasClass(\"js-element-text\")) $cur.text(data2[\"townfroms\"][x2][\"name\"]);\n            else $cur.find(\".js-element-text\").text(data2[\"townfroms\"][x2][\"name\"]);\n            $items.append($cur);\n            if (data2[\"townfroms\"][x2][\"sel\"]) sel.push($cur.find(\"a\"));\n          }\n          findInSelect($form.find(\".js-header-form-from\"), \".form-item\", \".cities a\", \".form-item__no-result\");\n        }\n        if (selects_init && selects_init & 1) {\n          x2 = $form.attr(\"data-action-ajax\");\n          searchCountries[x2] = data2[\"countries\"];\n          searchResorts[x2] = data2[\"resorts\"];\n          str = [\"\", \"\"];\n          str[2] = str[0].length > 1;\n          $items = $form.find(\".js-search__input_where\").attr(\"data-value\", \"\").closest(\".js-search__block\").find(\".form-item__body\");\n          $items = { d: $items.find(\".js-where-default\"), s: $items.find(\".js-where-search\") };\n          $items[str[2] ? \"s\" : \"d\"].removeClass(\"hidden\");\n          $items[str[2] ? \"d\" : \"s\"].addClass(\"hidden\");\n          $items[\"dp\"] = $items[\"d\"].find(\".cities2-wrap__part-title._popular\").next(\".cities2\");\n          $items[\"do\"] = $items[\"d\"].find(\".cities2-wrap__part-title:not(._popular)\").next(\".cities2\");\n          $items[\"sp\"] = $items[\"s\"].find(\".cities2-wrap__part-title._popular\").next(\".cities2\");\n          $items[\"so\"] = $items[\"s\"].find(\".cities2-wrap__part-title:not(._popular)\").next(\".cities2\");\n          $tpl = {\n            dp: $items[\"dp\"].find(\"li.hidden\").first(),\n            do: $items[\"do\"].find(\"li.hidden\").first(),\n            sp: $items[\"sp\"].find(\"li.hidden\").first(),\n            so: $items[\"so\"].find(\"li.hidden\").first()\n          };\n          $items[\"dp\"].find(\"li:not(.hidden)\").remove();\n          $items[\"dp\"].find(\"li\").slice(1).remove();\n          $items[\"do\"].find(\"li:not(.hidden)\").remove();\n          $items[\"do\"].find(\"li\").slice(1).remove();\n          $items[\"sp\"].find(\"li:not(.hidden)\").remove();\n          $items[\"sp\"].find(\"li\").slice(1).remove();\n          $items[\"so\"].find(\"li:not(.hidden)\").remove();\n          $items[\"so\"].find(\"li\").slice(1).remove();\n          for (x2 = 0; x2 < data2[\"countries\"].length; x2++) {\n            y = data2[\"countries\"][x2][\"pop\"] ? \"dp\" : \"do\";\n            $cur = $tpl[y].clone().removeClass(\"hidden d-none\");\n            $cur.attr({ \"data-id\": data2[\"countries\"][x2][\"id\"], \"data-visa\": data2[\"countries\"][x2][\"visa\"] ? \"yes\" : \"no\" });\n            $cur.find(\".js-element-icon\").html(data2[\"countries\"][x2][\"icon\"] || \"\");\n            if ($cur.hasClass(\"js-element-text\")) $cur.text(data2[\"countries\"][x2][\"name\"]);\n            else $cur.find(\".js-element-text\").text(data2[\"countries\"][x2][\"name\"]);\n            $cur.find(\".js-element-text2\").text(data2[\"countries\"][x2][\"ext\"] || \"\");\n            $items[y].append($cur);\n            if (data2[\"countries\"][x2][\"sel\"]) sel.push($cur.find(\"a\"));\n            str[3] = data2[\"countries\"][x2][\"name\"].trim().toLowerCase();\n            if (str[2] && str[3].indexOf(str[0]) < 0 && (str[1].length < 2 || str[3].indexOf(str[1]) < 0)) continue;\n            if (str[2]) {\n              $cur = $tpl[\"sp\"].clone().removeClass(\"hidden d-none\");\n              $cur.attr({ \"data-id\": data2[\"countries\"][x2][\"id\"], \"data-visa\": data2[\"countries\"][x2][\"visa\"] ? \"yes\" : \"no\" });\n              $cur.find(\".js-element-icon\").html(data2[\"countries\"][x2][\"icon\"] || \"\");\n              if ($cur.hasClass(\"js-element-text\")) $cur.text(data2[\"countries\"][x2][\"name\"]);\n              else $cur.find(\".js-element-text\").text(data2[\"countries\"][x2][\"name\"]);\n              $cur.find(\".js-element-text2\").text(data2[\"countries\"][x2][\"ext\"] || \"\");\n              $items[\"sp\"].append($cur);\n              if (data2[\"countries\"][x2][\"sel\"]) sel.push($cur.find(\"a\"));\n            }\n          }\n          if (str[2] && data2[\"resorts\"].length) {\n            for (x2 = 0; x2 < data2[\"resorts\"].length; x2++) {\n              str[3] = data2[\"resorts\"][x2][\"name\"].trim().toLowerCase();\n              str[4] = str[3] + \" \" + data2[\"resorts\"][x2][\"ext\"].trim().toLowerCase();\n              if (str[2] && str[3].indexOf(str[0]) < 0 && str[4].indexOf(str[0]) != 0 && (str[1].length < 2 || str[3].indexOf(str[1]) < 0 && str[4].indexOf(str[1]) != 0))\n                continue;\n              $cur = $tpl[\"so\"].clone().removeClass(\"hidden d-none\");\n              $cur.attr(\"data-id\", data2[\"resorts\"][x2][\"id\"]);\n              $cur.find(\".js-element-icon\").html(data2[\"resorts\"][x2][\"icon\"] || \"\");\n              if ($cur.hasClass(\"js-element-text\")) $cur.text(data2[\"resorts\"][x2][\"name\"]);\n              else $cur.find(\".js-element-text\").text(data2[\"resorts\"][x2][\"name\"]);\n              $cur.find(\".js-element-text2\").text(data2[\"resorts\"][x2][\"ext\"] || \"\");\n              $items[\"so\"].append($cur);\n              if (data2[\"resorts\"][x2][\"sel\"]) sel.push($cur);\n            }\n          }\n          if (str[2] && !$items[\"sp\"].find(\"li:not(.hidden)\").length && !$items[\"so\"].find(\"li:not(.hidden)\").length) {\n            $form.find(\".js-search__input_where\").val(\"\");\n            $items[\"d\"].removeClass(\"hidden\");\n            $items[\"s\"].addClass(\"hidden\");\n            str[2] = false;\n          }\n          if ($items[str[2] ? \"dp\" : \"sp\"].find(\"li:not(.hidden)\").length)\n            $items[str[2] ? \"dp\" : \"sp\"].closest(\".cities2-wrap__part\").removeClass(\"hidden\");\n          else $items[str[2] ? \"dp\" : \"sp\"].closest(\".cities2-wrap__part\").addClass(\"hidden\");\n          if ($items[str[2] ? \"do\" : \"so\"].find(\"li:not(.hidden)\").length)\n            $items[str[2] ? \"do\" : \"so\"].closest(\".cities2-wrap__part\").removeClass(\"hidden\");\n          else $items[str[2] ? \"do\" : \"so\"].closest(\".cities2-wrap__part\").addClass(\"hidden\");\n          if ($items[str[2] ? \"do\" : \"so\"].closest(\".cities2-wrap\").find(\".cities2-wrap__part:not(.hidden)\").length)\n            $items[str[2] ? \"do\" : \"so\"].closest(\".cities2-wrap\").removeClass(\"hidden\");\n          else $items[str[2] ? \"do\" : \"so\"].closest(\".cities2-wrap\").addClass(\"hidden\");\n          findInSelect($form.find(\".js-header-form-to\"), \".form-item\", \".js-where-default .cities2 a\", \".form-item__no-result\");\n          findInSelect($form.find(\".js-header-form-to\"), \".form-item\", \".js-where-search .cities2 a\", \".form-item__no-result\");\n          $items[\"m\"] = $items[\"dp\"].closest(\".form-item\").find(\".form-item__no-result\");\n          if ($items[str[2] ? \"sp\" : \"dp\"].find(\"li:not(.hidden)\").length || $items[str[2] ? \"so\" : \"do\"].find(\"li:not(.hidden)\").length) {\n            if ($items[\"m\"].attr(\"data-default\")) $items[\"m\"].text($items[\"m\"].attr(\"data-default\"));\n            $items[\"m\"].addClass(\"d-none\");\n          } else {\n            if (!$items[\"m\"].attr(\"data-default\")) $items[\"m\"].attr(\"data-default\", $items[\"m\"].text());\n            if ($items[\"m\"].attr(\"data-filter\")) $items[\"m\"].text($items[\"m\"].attr(\"data-filter\"));\n            $items[\"m\"].removeClass(\"d-none\");\n          }\n          y = str[2];\n        } else y = \"\";\n        if (sel)\n          for (x2 in sel) {\n            sel[x2].trigger(\"click\");\n            if (typeof y == \"boolean\" && sel[x2].closest(\".cities2-wrap.js-where-\" + (y ? \"search\" : \"default\")).length) {\n              setTimeout(\n                ($el) => {\n                  $el.closest(\".form-item__body\")[0].scrollTo({ top: $el[0].offsetTop });\n                },\n                1,\n                sel[x2]\n              );\n            }\n          }\n        $items = data2[\"datesList\"] ? data2[\"datesList\"].split(\",\") : [];\n        $tpl = $form.find(\".js-search__input_dates\");\n        $cur = formCalendarProps[$tpl.attr(\"id\")];\n        $cur[\"startDate\"] = moment(data2[\"dateStart\"], \"YYMMDD\");\n        $cur[\"endDate\"] = moment(data2[\"dateEnd\"], \"YYMMDD\");\n        $cur[\"minDate\"] = moment($items ? $items[0] : data2[\"dateStart\"], \"YYMMDD\");\n        $cur[\"maxDate\"] = moment($items ? $items[$items.length - 1] : data2[\"dateEnd\"], \"YYMMDD\");\n        $tpl.val(data2[\"dates\"]).attr({ \"data-start\": data2[\"dateStart\"], \"data-end\": data2[\"dateEnd\"], \"data-list\": data2[\"datesList\"] }).addClass(\"search-field__input_value\").daterangepicker($cur).trigger(\"change\");\n        let $nights = $form.find(\".js-search__input_nights\");\n        $items = $nights.closest(\".js-search__block\").find(\".form-item__body .nights__grid\");\n        $tpl = $items.find(\".nights__item.hidden\").first();\n        $nights.val(\"\").attr(\"data-value\", \"\");\n        $items.find(\".nights__item-inner\").removeClass(\"nights__item-inner--active\").prop(\"disabled\", true);\n        for (x2 = 0, y = 0; x2 < data2[\"nights\"].length; x2++) {\n          $cur = $items.find('.nights__item-inner[data-id=\"' + data2[\"nights\"][x2][\"id\"] + '\"]');\n          $cur.prop(\"disabled\", null);\n          if (data2[\"nights\"][x2][\"sel\"]) {\n            if (y === 0) {\n              $nights.closest(\".js-search__block\").attr(\"data-first\", true);\n              $cur.trigger(\"click\");\n              y = false;\n            } else y = $cur;\n          }\n        }\n        if (y) y.trigger(\"click\");\n        if (data2[\"datesList\"] && $form.closest(\".js-hotel-search__wrapper.hidden\").length) {\n          $form.closest(\".js-hotel-search__wrapper.hidden\").removeClass(\"hidden\");\n          $(\".js-hotel-search-submit\").attr(\"href\", \"#\").click(function(e) {\n            e.preventDefault();\n            $form.trigger(\"submit\");\n            return false;\n          });\n        }\n        if (is_anysearch) {\n          $form.attr(\"data-use-tour\", data2[\"forceUrl\"] == \"tours\" ? \"1\" : null);\n          $form.attr(\"data-use-hotel\", data2[\"forceUrl\"] == \"hotels\" ? \"1\" : null);\n          $form.attr(\"data-use-excursion\", data2[\"forceUrl\"] == \"excursions\" ? \"1\" : null);\n        }\n      },\n      complete: function() {\n        $form.find(\".js-search__input_from\").prop(\"disabled\", null);\n        $form.find(\".js-search__input_where\").prop(\"disabled\", null);\n        $form.find(\".js-search__input_dates\").prop(\"disabled\", null);\n        $form.find(\".js-search__input_nights\").prop(\"disabled\", null);\n        $form.attr(\"data-process\", null);\n      }\n    });\n  };\n  let onSearchSelectItemClick = function(evt) {\n    evt.preventDefault();\n    let $this = $(this);\n    if ($this.closest(\".members__add\").length || $this.hasClass(\"btns__list-item\")) return;\n    let $block = $this.closest(\".js-search__block\"), $form = $this.closest(\"form\"), $inp = $block.find(\".form-item__input\"), is_where = $inp.hasClass(\"js-search__input_where\");\n    $inp.val($.trim(is_where && $this.closest(\".cities2__item._country\").length ? $this.find(\".js-element-text\").text() : $this.text())).attr({ \"data-value\": $this.attr(\"data-id\") || \"\", \"data-return\": null });\n    if (is_where) $inp.attr(\"data-name\", $inp.val());\n    if ($inp.val()) {\n      $inp.removeClass(\"error\");\n      $block.removeClass(\"form-item--empty\");\n    } else $block.addClass(\"form-item--empty\");\n    if (($inp.hasClass(\"js-search__input_from\") || $inp.hasClass(\"js-search__input_where\")) && !$form.attr(\"data-process\")) {\n      $form.find(\".js-search__input_from\").prop(\"disabled\", true);\n      $form.find(\".js-search__input_where\").prop(\"disabled\", true);\n      $form.find(\".js-search__input_dates\").prop(\"disabled\", true);\n      $form.find(\".js-search__input_nights\").prop(\"disabled\", true);\n      let is_from = $inp.hasClass(\"js-search__input_from\") ? 1 : 0, data = [\n        { name: \"from\", value: $form.find(\".js-search__input_from\").attr(\"data-value\") },\n        { name: \"where\", value: $form.find(\".js-search__input_where\").attr(\"data-value\") || $form.attr(\"data-where\") },\n        { name: \"is_from\", value: is_from }\n      ], hotel_id = $form.attr(\"data-hotel\");\n      if (hotel_id) data.push({ name: \"hotel\", value: hotel_id });\n      $block.removeClass(\"form-item--active\");\n      $inp.trigger(\"blur\");\n      searchFormFieldsAjax($form, data, is_from, 0);\n    }\n  };\n  $(document).on(\"input\", \".js-search__form .js-search__input_where\", function() {\n    let $this = $(this), $form = $this.closest(\"form\"), $items = $this.closest(\".js-search__block\").find(\".form-item__body\"), $tpl = $items.find(\"li.hidden\").first(), str = multiStr($this.attr(\"data-empty\") ? \"\" : $this.val().trim().toLowerCase()), key = $form.attr(\"data-action-ajax\"), $cur, x2;\n    $this.attr(\"data-return\", null);\n    if (!searchCountries[key]) {\n      setTimeout(function() {\n        $this.trigger(\"focusin\").trigger(\"input\");\n      }, 200);\n      return;\n    }\n    str[2] = str[0].length > 1;\n    $items = { d: $items.find(\".js-where-default\"), s: $items.find(\".js-where-search\") };\n    if (!str[2]) {\n      $items[\"d\"].removeClass(\"hidden\");\n      $items[\"s\"].addClass(\"hidden\");\n      return;\n    }\n    $items[\"sp\"] = $items[\"s\"].find(\".cities2-wrap__part-title._popular\").next(\".cities2\");\n    $items[\"so\"] = $items[\"s\"].find(\".cities2-wrap__part-title:not(._popular)\").next(\".cities2\");\n    $tpl = { sp: $items[\"sp\"].find(\"li.hidden\").first(), so: $items[\"so\"].find(\"li.hidden\").first() };\n    $items[\"s\"].removeClass(\"hidden\");\n    $items[\"d\"].addClass(\"hidden\");\n    $items[\"sp\"].find(\"li:not(.hidden)\").remove();\n    $items[\"sp\"].find(\"li\").slice(1).remove();\n    $items[\"so\"].find(\"li:not(.hidden)\").remove();\n    $items[\"so\"].find(\"li\").slice(1).remove();\n    for (x2 = 0; x2 < searchCountries[key].length; x2++) {\n      str[3] = searchCountries[key][x2][\"name\"].trim().toLowerCase();\n      if (str[2] && str[3].indexOf(str[0]) < 0 && (str[1].length < 2 || str[3].indexOf(str[1]) < 0)) continue;\n      $cur = $tpl[\"sp\"].clone().removeClass(\"hidden d-none\");\n      $cur.attr({ \"data-id\": searchCountries[key][x2][\"id\"], \"data-visa\": searchCountries[key][x2][\"visa\"] ? \"yes\" : \"no\" });\n      $cur.find(\".js-element-icon\").html(searchCountries[key][x2][\"icon\"] || \"\");\n      if ($cur.hasClass(\"js-element-text\")) $cur.text(searchCountries[key][x2][\"name\"]);\n      else $cur.find(\".js-element-text\").text(searchCountries[key][x2][\"name\"]);\n      $cur.find(\".js-element-text2\").text(searchCountries[key][x2][\"ext\"] || \"\");\n      $items[\"sp\"].append($cur);\n    }\n    if (str[2] && searchResorts[key].length) {\n      for (x2 = 0; x2 < searchResorts[key].length; x2++) {\n        str[3] = searchResorts[key][x2][\"name\"].trim().toLowerCase();\n        str[4] = str[3] + \" \" + searchResorts[key][x2][\"ext\"].trim().toLowerCase();\n        if (str[2] && str[3].indexOf(str[0]) < 0 && str[4].indexOf(str[0]) != 0 && (str[1].length < 2 || str[3].indexOf(str[1]) < 0 && str[4].indexOf(str[1]) != 0))\n          continue;\n        $cur = $tpl[\"so\"].clone().removeClass(\"hidden d-none\");\n        $cur.attr(\"data-id\", searchResorts[key][x2][\"id\"]);\n        $cur.find(\".js-element-icon\").html(searchResorts[key][x2][\"icon\"] || \"\");\n        if ($cur.hasClass(\"js-element-text\")) $cur.text(searchResorts[key][x2][\"name\"]);\n        else $cur.find(\".js-element-text\").text(searchResorts[key][x2][\"name\"]);\n        $cur.find(\".js-element-text2\").text(searchResorts[key][x2][\"ext\"] || \"\");\n        $items[\"so\"].append($cur);\n      }\n    }\n    if ($items[\"sp\"].find(\"li:not(.hidden)\").length) $items[\"sp\"].closest(\".cities2-wrap__part\").removeClass(\"hidden\");\n    else $items[\"sp\"].closest(\".cities2-wrap__part\").addClass(\"hidden\");\n    if ($items[\"so\"].find(\"li:not(.hidden)\").length) $items[\"so\"].closest(\".cities2-wrap__part\").removeClass(\"hidden\");\n    else $items[\"so\"].closest(\".cities2-wrap__part\").addClass(\"hidden\");\n    if ($items[\"so\"].closest(\".cities2-wrap\").find(\".cities2-wrap__part:not(.hidden)\").length)\n      $items[\"so\"].closest(\".cities2-wrap\").removeClass(\"hidden\");\n    else $items[\"so\"].closest(\".cities2-wrap\").addClass(\"hidden\");\n    findInSelect($form.find(\".js-header-form-to\"), \".form-item\", \".js-where-default .cities2 a\", \".form-item__no-result\");\n    findInSelect($form.find(\".js-header-form-to\"), \".form-item\", \".js-where-search .cities2 a\", \".form-item__no-result\");\n    $items[\"m\"] = $items[\"s\"].closest(\".form-item\").find(\".form-item__no-result\");\n    if ($items[\"sp\"].find(\"li:not(.hidden)\").length || $items[\"so\"].find(\"li:not(.hidden)\").length) {\n      if ($items[\"m\"].attr(\"data-default\")) $items[\"m\"].text($items[\"m\"].attr(\"data-default\"));\n      $items[\"m\"].addClass(\"d-none\");\n    } else {\n      if (!$items[\"m\"].attr(\"data-default\")) $items[\"m\"].attr(\"data-default\", $items[\"m\"].text());\n      if ($items[\"m\"].attr(\"data-filter\")) $items[\"m\"].text($items[\"m\"].attr(\"data-filter\"));\n      $items[\"m\"].removeClass(\"d-none\");\n    }\n  });\n  $(document).on(\"focusout\", \".js-search__form .js-search__input_where\", function(evt) {\n    let $this = $(this), $find = $this.closest(\".form-item\").find(\".js-where-search .cities2 li:not(.hidden) a\"), txt;\n    if ((!$this.val() || !$find.length) && $this.attr(\"data-value\")) {\n      if (evt.relatedTarget && (evt.relatedTarget.classList.contains(\".cities2\") || evt.relatedTarget.closest(\".cities2\"))) {\n        if (!$this.attr(\"data-todef\")) {\n          $this.attr(\n            \"data-todef\",\n            setTimeout(() => {\n              $this.val($this.attr(\"data-name\")).trigger(\"focusin\");\n            }, 5)\n          );\n        }\n      } else {\n        $this.val($this.attr(\"data-name\")).trigger(\"focusin\");\n      }\n    } else if ($find.length == 1) {\n      $find = $find.slice(0, 1);\n      if ($this.attr(\"data-value\") != $find.closest(\"li\").attr(\"data-id\")) $find.trigger(\"click\");\n      else {\n        txt = $.trim($find.closest(\".cities2__item._country\").length ? $find.find(\".js-element-text\").text() : $find.text());\n        if ($this.val() != txt) $this.val(txt).trigger(\"input\");\n      }\n    } else if ($this.attr(\"data-value\")) {\n      if (!$this.attr(\"data-todef\")) {\n        $this.attr(\n          \"data-todef\",\n          setTimeout(() => {\n            $this.val($this.attr(\"data-name\")).trigger(\"input\");\n          }, 250)\n        );\n      }\n    }\n  });\n  let cancelSearchFormWhereToDef = function($el) {\n    let $inp = $el.closest(\".form-item\").find(\".js-search__input_where\"), to = $inp.length ? $inp.attr(\"data-todef\") : 0;\n    if (to) {\n      clearTimeout(to);\n      $inp.attr(\"data-todef\", null);\n    }\n  };\n  $(document).on(\"click\", \".js-search__form .form-item--cities2 .form-item__body\", function() {\n    cancelSearchFormWhereToDef($(this));\n  });\n  $(document).on(\"click\", \".js-search__form .form-item--cities2 .form-item__btn-clear\", function() {\n    cancelSearchFormWhereToDef($(this));\n  });\n  $(document).on(\"click\", \".js-search__form .js-where-search .cities2 a\", function() {\n    var $this = $(this), id = parseInt($this.closest(\".cities2__item\").attr(\"data-id\")), $block = $this.closest(\".form-item\"), $rel = $block.find('.js-where-default .cities2 .cities2__item[data-id=\"' + id + '\"]');\n    $block.find(\".js-where-default .cities2 a.active\").removeClass(\"active\");\n    if ($rel.length) {\n      $rel.find(\"a\").addClass(\"active\");\n      $block.find(\".js-where-default\").removeClass(\"hidden\");\n      $block.find(\".js-where-search\").addClass(\"hidden\");\n      setTimeout(\n        ($el) => {\n          $el.closest(\".form-item__body\")[0].scrollTo({ top: $el[0].offsetTop });\n        },\n        1,\n        $rel\n      );\n    }\n  });\n  $(document).on(\"click\", \".js-search__form .form-item__body li:not(.nights__item)\", onSearchSelectItemClick);\n  let onSearchNightsItemClick = function(evt) {\n    evt.preventDefault();\n    let $this = $(this), $list = $this.closest(\".nights__grid\"), $block = $this.closest(\".js-search__block\"), $inp = $block.find(\".js-search__input_nights\"), val = \"\", last = false, is_range = false;\n    if ($block.attr(\"data-first\")) {\n      $list.find(\".nights__item-inner--active\").removeClass(\"nights__item-inner--active\");\n      $this.addClass(\"nights__item-inner--active\");\n      $block.attr(\"data-first\", null);\n    } else {\n      last = parseInt($list.find(\".nights__item-inner--active\").attr(\"data-id\"));\n      val = parseInt($this.attr(\"data-id\"));\n      if (last != val) {\n        last = [Math.min(last, val), Math.max(last, val)];\n        $list.find(\".nights__item-inner\").each(function() {\n          if ($(this).prop(\"disabled\")) return;\n          val = parseInt($(this).attr(\"data-id\"));\n          if (val >= last[0] && val <= last[1]) $(this).addClass(\"nights__item-inner--active\");\n        });\n      }\n      $block.removeClass(\"form-item--active\");\n      val = \"\";\n      last = false;\n    }\n    $this.closest(\".nights__grid\").find(\".nights__item-inner--active\").each(function() {\n      let id = parseInt($(this).attr(\"data-id\"));\n      if (!last) {\n        val = id;\n      } else if (id == last + 1) {\n        is_range = true;\n      } else {\n        val += (is_range ? \"-\" + last : \"\") + \",\" + id;\n        is_range = false;\n      }\n      last = id;\n    });\n    if (is_range) val += \"-\" + last;\n    $inp.val(val).attr(\"data-value\", val).removeClass(\"error\").closest(\".js-search__block\").removeClass(\"form-item--empty\");\n    if (is_range) closePopups();\n  };\n  $(document).on(\"click\", \".js-search__form .nights__grid .nights__item-inner\", onSearchNightsItemClick);\n  let onSearchFormSubmit = function(evt) {\n    evt.preventDefault();\n    let $this = $(this), from = $this.find(\".js-search__input_from\").attr(\"data-value\"), where = $this.find(\".js-search__input_where\").attr(\"data-value\"), resort = 0, dateStart = $this.find(\".js-search__input_dates\").attr(\"data-start\"), dateEnd = $this.find(\".js-search__input_dates\").attr(\"data-end\"), nights = $this.find(\".js-search__input_nights\").attr(\"data-value\").replace(\"-\", \",\").split(\",\"), adults = $this.find(\".js-search__input_adults\").attr(\"data-value\"), childs = $this.find(\".js-search__input_childs\").attr(\"data-value\"), url = $this.attr(from ? \"data-action-tour\" : \"data-action-hotel\");\n    if (!where) {\n      $this.find(\".js-search__input_where\").addClass(\"error\");\n    } else {\n      resort = where.split(\"/\", 2);\n      if (resort.length > 1) {\n        where = resort[0];\n        resort = resort[1];\n      } else resort = 0;\n    }\n    if (!dateStart || !dateEnd) {\n      $this.find(\".js-search__input_dates\").addClass(\"error\");\n    }\n    if (!nights.length || nights[0] < 1) {\n      $this.find(\".js-search__input_nights\").addClass(\"error\");\n    }\n    if (!adults && !childs) {\n      $this.find(\".js-search__input_adults\").addClass(\"error\");\n    }\n    if ($this.find(\".error\").length) {\n      evt.preventDefault();\n      return false;\n    }\n    url += (from ? \"?TOWNFROMINC=\" + from + \"&\" : \"?\") + \"STATEINC=\" + where + (resort ? \"&TOWNS=\" + resort : \"\") + \"&CHECKIN_BEG=20\" + dateStart + \"&NIGHTS_FROM=\" + nights[0] + \"&CHECKIN_END=20\" + dateEnd + \"&NIGHTS_TILL=\" + nights[nights.length - 1] + \"&ADULT=\" + adults + (childs ? \"&CHILD=\" + childs : \"\") + \"&DOLOAD=1\";\n    $('<a href=\"' + url + '\" target=\"_blank\"></a>').appendTo($(\"body\"))[0].click();\n  };\n  $(document).on(\"submit\", \"form.js-top-search__form\", onSearchFormSubmit);\n  let onHotelSearchFormSubmit = function(evt) {\n    evt.preventDefault();\n    let $this = $(this), from = parseInt($this.find(\".js-search__input_from\").attr(\"data-value\")), where = $this.attr(\"data-where\"), hotel = $this.attr(\"data-hotel\"), dateStart = $this.find(\".js-search__input_dates\").attr(\"data-start\"), dateEnd = $this.find(\".js-search__input_dates\").attr(\"data-end\"), nights = $this.find(\".js-search__input_nights\").attr(\"data-value\").replace(\"-\", \",\").split(\",\"), adults = $this.find(\".js-search__input_adults\").attr(\"data-value\"), childs = $this.find(\".js-search__input_childs\").attr(\"data-value\"), url = $this.attr(from ? \"data-action-tour\" : \"data-action-hotel\");\n    if ($this.attr(\"data-use-tour\")) url = $this.attr(\"data-action-tour\");\n    else if ($this.attr(\"data-use-hotel\")) url = $this.attr(\"data-action-hotel\");\n    else if ($this.attr(\"data-use-excursion\")) url = $this.attr(\"data-action-excursion\");\n    if (!dateStart || !dateEnd) {\n      $this.find(\".js-search__input_dates\").addClass(\"error\");\n    }\n    if (!nights.length || nights[0] < 1) {\n      $this.find(\".js-search__input_nights\").addClass(\"error\");\n    }\n    if (!adults && !childs) {\n      $this.find(\".js-search__input_adults\").addClass(\"error\");\n    }\n    if ($this.find(\".error\").length) {\n      evt.preventDefault();\n      return false;\n    }\n    url += (from ? \"?TOWNFROMINC=\" + from + \"&\" : \"?\") + \"STATEINC=\" + where + \"&HOTELS=\" + hotel + \"&CHECKIN_BEG=20\" + dateStart + \"&NIGHTS_FROM=\" + nights[0] + \"&CHECKIN_END=20\" + dateEnd + \"&NIGHTS_TILL=\" + nights[nights.length - 1] + \"&ADULT=\" + adults + (childs ? \"&CHILD=\" + childs : \"\") + \"&DOLOAD=1\";\n    $('<a href=\"' + url + '\" target=\"_blank\"></a>').appendTo($(\"body\"))[0].click();\n  };\n  $(document).on(\"submit\", \"form.js-hotel-search__form\", onHotelSearchFormSubmit);\n  if ($(\".js-search__form\").length) {\n    $(\".js-search__form\").each(function() {\n      let $this = $(this), data = \"is_init=1\", selects_init = 0, is_anysearch = 0;\n      if ($this.hasClass(\"js-top-search__form\")) {\n        data += \"&where_q=&where=\" + ($this.find(\".js-search__input_where\").attr(\"data-value\") || $this.attr(\"data-where\") || \"\");\n        selects_init = 3;\n      } else if ($this.hasClass(\"js-hotel-search__form\")) {\n        data += \"&hotel=\" + ($this.attr(\"data-hotel\") || \"\") + \"&anysearch=1\";\n        selects_init = 2;\n        is_anysearch = 1;\n      }\n      searchFormFieldsAjax($this, data, 3, is_anysearch);\n    });\n  }\n  let onEventsResortsBtnClick = function() {\n    let $this = $(this), id = $this.closest(\".btns__list-item\").attr(\"data-id\");\n    if ($this.hasClass(\"active\")) return;\n    $this.closest(\".btns__list\").find(\".btn.active\").removeClass(\"active\");\n    $this.addClass(\"active\");\n    $this.closest(\".events\").find(\".events__body tr[data-resort]\").each(function() {\n      if (!id || $(this).attr(\"data-resort\") == id) $(this).removeClass(\"hidden\");\n      else $(this).addClass(\"hidden\");\n    });\n  };\n  $(\".events .btns__list .btn\").on(\"click\", onEventsResortsBtnClick);\n  const fancyboxL10n = {\n    CLOSE: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",\n    NEXT: \"\\u0414\\u0430\\u043B\\u0435\\u0435\",\n    PREV: \"\\u041D\\u0430\\u0437\\u0430\\u0434\",\n    MODAL: \"\\u041E\\u043A\\u043D\\u043E \\u043C\\u043E\\u0436\\u043D\\u043E \\u0437\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043D\\u0430\\u0436\\u0430\\u0442\\u0438\\u0435\\u043C \\u043A\\u043B\\u0430\\u0432\\u0438\\u0448\\u0438 ESC\",\n    ERROR: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430! \\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u043E\\u0437\\u0436\\u0435\",\n    IMAGE_ERROR: \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\",\n    ELEMENT_NOT_FOUND: \"HTML \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\",\n    IFRAME_ERROR: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u044B\",\n    TOGGLE_ZOOM: \"\\u041C\\u0430\\u0441\\u0448\\u0442\\u0430\\u0431\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\",\n    TOGGLE_THUMBS: \"\\u041F\\u043E\\u043A\\u0430\\u0437 \\u043C\\u0438\\u043D\\u0438\\u0430\\u0442\\u044E\\u0440\",\n    TOGGLE_SLIDESHOW: \"\\u0421\\u043B\\u0430\\u0439\\u0434\\u0448\\u043E\\u0443\",\n    TOGGLE_FULLSCREEN: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u044D\\u043A\\u0440\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0440\\u0435\\u0436\\u0438\\u043C\",\n    DOWNLOAD: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430\"\n  };\n  Fancybox.bind(\"[data-tour-gallery]\", {\n    idle: false,\n    l10n: fancyboxL10n,\n    Carousel: {\n      transition: \"classic\",\n      friction: 0.3\n    },\n    Thumbs: {\n      type: \"classic\"\n    },\n    placeFocusBack: false,\n    groupAttr: \"data-tour-gallery\"\n  });\n  const popap2 = (() => {\n    Fancybox.bind(\"[data-popup2]\", {\n      autoFocus: false,\n      Carousel: {\n        transition: \"classic\",\n        friction: 0.3\n      },\n      closeButton: false,\n      compact: true,\n      defaultType: \"inline\",\n      defaultDisplay: \"flex\",\n      dragToClose: false,\n      idle: false,\n      l10n: fancyboxL10n,\n      mainClass: \"popup2-init\",\n      on: {\n        // \"*\": (fancybox, eventName) => {\n        //     console.log(`fancybox eventName: ${eventName}`);\n        // },\n        init: (f) => {\n        }\n      }\n    });\n  })();\n  const popapMap = (() => {\n    Fancybox.bind(\"[data-map]\", {\n      autoFocus: false,\n      Carousel: {\n        transition: \"classic\",\n        friction: 0.3\n      },\n      closeButton: false,\n      compact: true,\n      defaultType: \"inline\",\n      defaultDisplay: \"flex\",\n      dragToClose: false,\n      idle: false,\n      l10n: fancyboxL10n,\n      mainClass: \"popup-map-init\",\n      on: {\n        // \"*\": (fancybox, eventName) => {\n        //     console.log(`fancybox eventName: ${eventName}`);\n        // },\n        init: (f) => {\n        },\n        reveal: (f) => {\n          if (popupMap) popupMap.invalidateSize(false);\n        }\n      },\n      placeFocusBack: false\n    });\n  })();\n  const popapPackage = (() => {\n    let fInnerSlider;\n    let fInnerSliderThumbs;\n    let triggerEl;\n    let level;\n    Fancybox.bind(\"[data-package]\", {\n      autoFocus: false,\n      Carousel: {\n        transition: \"classic\",\n        friction: 0.3\n      },\n      closeButton: false,\n      compact: true,\n      defaultType: \"inline\",\n      defaultDisplay: \"flex\",\n      dragToClose: false,\n      idle: false,\n      l10n: fancyboxL10n,\n      mainClass: \"popup-package-init\",\n      on: {\n        // \"*\": (fancybox, eventName) => {\n        //     console.log(`fancybox eventName: ${eventName}`);\n        // },\n        reveal: (fancybox, slide) => {\n          var _a2;\n          triggerEl = slide.triggerEl;\n          level = slide.triggerEl.dataset.level;\n          if (level) {\n            (_a2 = slide.contentEl.querySelector(`[data-src=\"${level}\"]`)) == null ? void 0 : _a2.click();\n          }\n          fInnerSliderThumbs = initPopupPackageSliderThumbs(slide.el);\n          fInnerSlider = initPopupPackageSlider(slide.el, fInnerSliderThumbs);\n          const carouselTrigger = triggerEl.closest(\".card-package__imgs-item\");\n          if (carouselTrigger) {\n            const siblings = carouselTrigger.parentNode.children;\n            const i = [...siblings].findIndex((el) => el === carouselTrigger);\n            if (i > 0) fInnerSlider.slideTo(i);\n          }\n        },\n        destroy: () => {\n          fInnerSliderThumbs == null ? void 0 : fInnerSliderThumbs.destroy(true, true);\n          fInnerSlider == null ? void 0 : fInnerSlider.destroy(true, true);\n          fInnerSlider = null;\n          fInnerSliderThumbs = null;\n          triggerEl = null;\n          level = void 0;\n        },\n        click: (fancybox, e) => {\n          var _a2, _b;\n          const btn = e.target.closest(`.popup-package__mark-btn`);\n          if (btn) {\n            level = btn.dataset.src;\n            (_b = (_a2 = triggerEl.closest(\".card-package\")) == null ? void 0 : _a2.querySelector(`.card-package__mark-btn[data-src=\"${level}\"]`)) == null ? void 0 : _b.click();\n          }\n        }\n      },\n      placeFocusBack: false\n    });\n    function initPopupPackageSlider(container, thumbs = false) {\n      const containerCarousel = container == null ? void 0 : container.querySelector(\".popup-package__slider\");\n      if (!containerCarousel) return;\n      if (containerCarousel.querySelectorAll(\".popup-package__slide-inner img\").length < 2) return;\n      return new Swiper(containerCarousel, {\n        loop: true,\n        thumbs: {\n          swiper: thumbs\n        },\n        wrapperClass: \"popup-package__slider-list\",\n        slideClass: \"popup-package__slide\",\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        watchOverflow: true,\n        slidesPerView: \"auto\",\n        spaceBetween: 0,\n        navigation: {\n          nextEl: \".popup-package__slider-btns .slider-btn2--next\",\n          prevEl: \".popup-package__slider-btns .slider-btn2--prev\"\n        },\n        pagination: {\n          el: \".popup-package__slider-pagination\",\n          type: \"fraction\"\n        }\n      });\n    }\n    function initPopupPackageSliderThumbs(container) {\n      const containerCarousel = container == null ? void 0 : container.querySelector(\".popup-package__thumbs\");\n      if (!containerCarousel) return;\n      if (containerCarousel.querySelectorAll(\".popup-package__thumb-inner img\").length < 2) return;\n      return new Swiper(containerCarousel, {\n        freeMode: true,\n        watchSlidesProgress: true,\n        wrapperClass: \"popup-package__thumbs-list\",\n        slideClass: \"popup-package__thumb\",\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: \"auto\",\n        spaceBetween: 12,\n        watchOverflow: true\n      });\n    }\n    (function initTabs() {\n      const classes = {\n        popup: \"popup-package\",\n        markBtn: \"popup-package__mark-btn\",\n        markBtnCurrent: \"_current\",\n        markedItems: \"_marked\",\n        markedItemsHidden: \"hidden\"\n      };\n      document.body.addEventListener(\"click\", (e) => {\n        var _a2;\n        const btn = e.target.closest(`.${classes.markBtn}`);\n        if (!btn) return;\n        e.preventDefault();\n        if (btn.classList.contains(classes.markBtnCurrent)) return;\n        const popup = btn.closest(`.${classes.popup}`);\n        if (!popup) return;\n        const btnSrc = btn.dataset.src;\n        popup.querySelectorAll(`.${classes.markedItems}:not(.${classes.markedItemsHidden})`).forEach((item) => item.classList.add(classes.markedItemsHidden));\n        popup.querySelectorAll(`.${classes.markedItems}._${btnSrc}`).forEach((item) => item.classList.remove(classes.markedItemsHidden));\n        (_a2 = popup.querySelector(`.${classes.markBtn}.${classes.markBtnCurrent}`)) == null ? void 0 : _a2.classList.remove(classes.markBtnCurrent);\n        btn.classList.add(classes.markBtnCurrent);\n      });\n    })();\n    return {\n      getSlider: () => fInnerSlider,\n      getThumbs: () => fInnerSliderThumbs\n    };\n  })();\n  const sliderContent = (() => {\n    const classes = {\n      block: \"slider-content\"\n    };\n    const block = document.querySelector(`.${classes.block}`);\n    const fInnerSliderThumbs = initBlockPackageSliderThumbs(block);\n    const fInnerSlider = initBlockPackageSlider(block, fInnerSliderThumbs);\n    function initBlockPackageSlider(container, thumbs = false) {\n      const containerCarousel = container == null ? void 0 : container.querySelector(\".slider-content__slider\");\n      if (!containerCarousel) return;\n      if (containerCarousel.querySelectorAll(\".slider-content__slide-inner img\").length < 2) return;\n      return new Swiper(containerCarousel, {\n        loop: true,\n        thumbs: {\n          swiper: thumbs\n        },\n        wrapperClass: \"slider-content__slider-list\",\n        slideClass: \"slider-content__slide\",\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        watchOverflow: true,\n        slidesPerView: \"auto\",\n        spaceBetween: 0,\n        navigation: {\n          nextEl: \".slider-content__slider-btns .slider-btn2--next\",\n          prevEl: \".slider-content__slider-btns .slider-btn2--prev\"\n        },\n        pagination: {\n          el: \".slider-content__slider-pagination\",\n          type: \"fraction\"\n        }\n      });\n    }\n    function initBlockPackageSliderThumbs(container) {\n      const containerCarousel = container == null ? void 0 : container.querySelector(\".slider-content__thumbs\");\n      if (!containerCarousel) return;\n      if (containerCarousel.querySelectorAll(\".slider-content__thumb-inner img\").length < 2) return;\n      return new Swiper(containerCarousel, {\n        freeMode: true,\n        watchSlidesProgress: true,\n        wrapperClass: \"slider-content__thumbs-list\",\n        slideClass: \"slider-content__thumb\",\n        observer: true,\n        observeSlideChildren: true,\n        observeParents: true,\n        slidesPerView: \"auto\",\n        spaceBetween: 12,\n        watchOverflow: true\n      });\n    }\n  })();\n  if ($(\".js-margin-if-content .content-block\").length > 0) {\n    $(\".js-margin-if-content .content-block\").each(function() {\n      if ($(this).text().trim().length > 0) {\n        $(this).closest(\".js-margin-if-content\").addClass(\"margin-bottom-f\");\n      }\n    });\n  }\n  const olWithStarts = document.querySelectorAll(\"ol[start]\");\n  olWithStarts.forEach((ol) => {\n    const start = ol.getAttribute(\"start\") - 1;\n    ol.style = \"counter-reset: list \" + start;\n  });\n  $(\".the-note__btn\").on(\"click\", function() {\n    $(this).siblings(\".the-note__main\").toggleClass(\"active\");\n  });\n  $(\".the-note__main-link\").on(\"click\", function(e) {\n    e.preventDefault();\n    navigator.clipboard.writeText($(this).data(\"token\"));\n  });\n  let submitBtns = document.querySelectorAll(\".subscribe-field__submit\");\n  submitBtns.forEach((btn) => {\n    let form = btn.closest(\"form\");\n    form.addEventListener(\"submit\", showSubscribePopup);\n  });\n  function showSubscribePopup(e, email) {\n    e.preventDefault();\n    const popupForm = \"#popup-mc-embedded-subscribe-form\";\n    Fancybox.show(\n      [\n        {\n          src: \"#popup-mc-embedded-subscribe-form\",\n          type: \"inline\"\n        }\n      ],\n      {\n        compact: false,\n        dragToClose: false\n      }\n    );\n    $(\"#popup-mc-embedded-subscribe-form\").find('input[name=\"email\"]').val(e.target.querySelector(\"input[type=email]\").value)[0].dispatchEvent(new Event(\"input\"));\n    return false;\n  }\n  function emitSubscribeMessage(e) {\n    e.preventDefault();\n    const formBlock = e.target.closest(\".subscribe\"), alert2 = document.querySelector(\".alert\");\n    if (formBlock.querySelector(\".subscribe__message\") !== null) {\n      formBlock.classList.add(\"subscribe--message\");\n      setTimeout(() => {\n        formBlock.classList.remove(\"subscribe--message\");\n      }, 3300);\n    } else if (alert2 !== null) {\n      alert2.classList.add(\"active\");\n      setTimeout(function() {\n        alert2.classList.remove(\"active\");\n      }, 2e3);\n    }\n  }\n  $(document).on(\"submit\", \"#tour-booking form\", function() {\n    var $form = $(this);\n    window.setTimeout(function() {\n      if (!$form.find(\".b24-form-control-alert\").length) {\n        try {\n          _tmr.push({ type: \"reachGoal\", id: 3487225, goal: \"test\" });\n        } catch (e) {\n        }\n      }\n    }, 300);\n  });\n  let initPrintPage = function() {\n    const form = document.forms.r_e_page_print;\n    if (!form) return;\n    const body = document.querySelector(\"body\");\n    const page = document.querySelector(\".page\");\n    const pageHash = \"#?print\";\n    loadPage();\n    let container = page.querySelector(\".js-printdata\");\n    window.addEventListener(\"reload\", backPage);\n    window.addEventListener(\"popstate\", changePage);\n    form.addEventListener(\"submit\", formHandler);\n    function formHandler(e) {\n      e.preventDefault();\n      setData();\n      showPage(e);\n      printData();\n      print();\n    }\n    function loadPage() {\n      getData();\n      if (window.location.hash === pageHash) {\n        window.location.hash = \"\";\n      }\n    }\n    function showPage(e) {\n      e.target.closest(\".popup-print\").querySelector(\".is-close-btn\").click();\n      body.classList.add(\"body-print\");\n      page.classList.add(\"page--print\");\n      if (window.location.hash !== pageHash) {\n        history.pushState(null, null, pageHash);\n      }\n    }\n    function backPage() {\n      if (window.location.hash !== pageHash) return;\n      history.back();\n    }\n    function changePage() {\n      if (window.location.hash === pageHash) {\n        body.classList.add(\"body-print\");\n        page.classList.add(\"page--print\");\n      } else {\n        body.classList.remove(\"body-print\");\n        page.classList.remove(\"page--print\");\n      }\n    }\n    function setData() {\n      let data = {};\n      for (let i = 0; i < form.elements.length - 1; i++) {\n        const el = form.elements[i];\n        data[el.name] = el.value;\n      }\n      localStorage.setItem(form.name, JSON.stringify(data));\n    }\n    function getData() {\n      let data = JSON.parse(localStorage.getItem(form.name));\n      if (data === null) return;\n      for (const key in data) {\n        if (Object.hasOwnProperty.call(data, key)) {\n          form.elements[key].value = data[key];\n        }\n      }\n    }\n    function printData() {\n      let data = JSON.parse(localStorage.getItem(form.name));\n      if (data === null) return;\n      if (container === null) {\n        document.querySelector(\".header__inner\").insertAdjacentHTML(\"beforeend\", '<div class=\"js-printdata\" style=\"display:none;\"></div>');\n        container = document.querySelector(\".js-printdata\");\n      }\n      container.innerHTML = \"\";\n      for (const key in data) {\n        if (Object.hasOwnProperty.call(data, key)) {\n          container.innerHTML += `<div>${data[key]}</div>`;\n        }\n      }\n    }\n    function print() {\n      setTimeout(() => {\n        window.print();\n      }, 500);\n    }\n  };\n  initPrintPage();\n  $(\"body\").on(\"click\", function(e) {\n    if (!e.target.classList.contains(\"js-share-link-clipboard\")) return;\n    const alert2 = $(\"#popup-share .alert--fixed\");\n    alert2.addClass(\"active\");\n    setTimeout(function() {\n      alert2.removeClass(\"active\");\n    }, 2e3);\n    e.preventDefault();\n    e.stopPropagation();\n    copy2clipboard($.trim(e.target.getAttribute(\"data-clipboard\") || e.target.getAttribute(\"href\")));\n  });\n  $(\".js-post-tours-block.hidden[data-post]\").each(function() {\n    var $this = $(this);\n    $.ajax({\n      url: $this.attr(\"data-ajax\"),\n      data: {\n        post: $this.attr(\"data-post\")\n      },\n      cache: false,\n      dataType: \"html\",\n      timeout: 1e4,\n      type: \"post\",\n      error: function(xhr, status, err) {\n      },\n      success: function(data) {\n        if (data) {\n          $(\".js-post-tours-area.hidden\").removeClass(\"hidden\");\n          $this.removeClass(\"hidden\").find(\".hotels__list\").html(data);\n        }\n      }\n    });\n  });\n  function copy2clipboard(text, callback) {\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(text).then(function() {\n        callback && callback();\n        return true;\n      }).catch(function(err) {\n        errorMessage(err);\n        return false;\n      });\n      return true;\n    } else {\n      var textArea = document.createElement(\"textarea\"), isCopied = false;\n      textArea.setAttribute(\"style\", \"width:1px;border:0;opacity:0;\");\n      document.body.appendChild(textArea);\n      textArea.value = text;\n      textArea.select();\n      try {\n        isCopied = document.execCommand(\"copy\");\n        isCopied ? callback && callback() : errorMessage();\n      } catch (err) {\n        errorMessage(err);\n      }\n      document.body.removeChild(textArea);\n      return isCopied;\n    }\n  }\n  function errorMessage(msg) {\n  }\n  $(\".blog-list__btn-more\").on(\"click\", function(e) {\n    var $btn = $(this), block = $btn.closest(\".blog-list2\")[0], list = block.querySelector(\".blog-list2__list\"), offset = parseInt($btn.data(\"offset\"));\n    $btn.addClass(\"btn-row--load\").prop(\"disabled\", true);\n    $.ajax({\n      url: $(this).data(\"url\") + \"?offset=\" + offset,\n      cache: false,\n      dataType: \"json\",\n      type: \"get\",\n      error: function(xhr, status, err) {\n        alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n      },\n      success: function(data) {\n        if (data[\"num\"] + offset >= parseInt($btn.data(\"total\"))) {\n          hideBtn();\n        } else {\n          $btn.data(\"offset\", offset + data[\"num\"]).removeClass(\"btn-row--load\").prop(\"disabled\", false);\n        }\n        $(data[\"html\"]).appendTo($(list));\n      }\n    });\n    function hideBtn() {\n      var btnWrap = $btn.closest(\".blog-list2__btn-wrap\");\n      btnWrap.css(\"opacity\", \"0\");\n      setTimeout(() => {\n        btnWrap.slideUp();\n        $btn.removeClass(\"btn-row--load\");\n      }, 300);\n    }\n  });\n  $('.btn-row3[data-chapter=\"actions\"]').on(\"click\", function(e) {\n    e.preventDefault();\n    const cl_load = \"btn-row3--load\", prop_diabled = \"disabled\", num_loaded = $(\".actions2__item\").length, $btn = $(this);\n    $btn.addClass(cl_load).prop(prop_diabled, true);\n    $.ajax({\n      url: \"//\" + window.location.hostname + \"/promotions/load/?country_id=\" + $btn.data(\"country_id\") + \"&type_id=\" + $btn.data(\"type_id\") + \"&is_archive=\" + $btn.data(\"is_archive\") + \"&offset=\" + num_loaded,\n      cache: false,\n      dataType: \"html\",\n      type: \"get\",\n      error: function(xhr, status, err) {\n        alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n      },\n      success: function(html) {\n        $(html).appendTo($(\".actions2__list\"));\n      }\n    }).always(function() {\n      if ($(\".actions2__item\").length >= $btn.data(\"num\")) {\n        $btn.remove();\n      } else {\n        $btn.removeClass(cl_load).prop(prop_diabled, false);\n      }\n    });\n  });\n  var $dashamail_form = $('form[name=\"mc-embedded-subscribe-form\"]');\n  if ($dashamail_form.length) {\n    const dasha_privat_val = \"\\u0427\\u0430\\u0441\\u0442\\u043D\\u043E\\u0435 \\u043B\\u0438\\u0446\\u043E\";\n    let params = new URLSearchParams(document.location.search);\n    let dasha_subscribe_email = params.get(\"subscribe_email\");\n    if (typeof dasha_subscribe_email !== \"undefined\" && dasha_subscribe_email !== null) {\n      document.getElementById(\"mce-EMAIL\").value = dasha_subscribe_email;\n    }\n    document.getElementById(\"cities_block\").style.display = \"none\";\n    document.getElementById(\"mailing_city\").removeAttribute(\"required\");\n    document.getElementById(\"city-field\").style.display = \"none\";\n    document.getElementById(\"more_merge_3\").removeAttribute(\"required\");\n  }\n  $dashamail_form.not(\".js-sendsay\").on(\"submit\", function(e) {\n    e.preventDefault();\n    var data = [], mcity = document.getElementById(\"mailing_city\");\n    data.push({ name: \"list_id\", value: document.getElementById(\"mailing_type\").dataset[\"value\"] });\n    data.push({ name: \"no_conf\", value: \"\" });\n    data.push({ name: \"notify\", value: \"\" });\n    data.push({ name: \"email\", value: $(this).find(\"#mce-EMAIL\").val() });\n    data.push({ name: \"merge_1\", value: $(this).find(\"#mce-MERGE1\").val() });\n    if (mcity.hasAttribute(\"required\")) {\n      data.push({\n        name: \"merge_3\",\n        value: !mcity.dataset[\"value\"].match(/^\\s*$/g) ? mcity.dataset[\"value\"] : document.getElementById(\"more_merge_3\").value\n      });\n    }\n    $(\"#mc-embedded-subscribe\").prop(\"disabled\", true);\n    $.post($dashamail_form.prop(\"action\"), data).fail(function() {\n    }).always(function() {\n      $(\"#mc-embedded-subscribe\").prop(\"disabled\", false);\n      var formBlock = $dashamail_form.get(0);\n      if (formBlock.querySelector(\".mesf-message\") === null) {\n        return;\n      }\n      formBlock.classList.add(\"_message\");\n      setTimeout(() => {\n        if ($(\"#popup-mc-embedded-subscribe-form\").length) {\n          Fancybox.close();\n          setTimeout(() => {\n            formBlock.classList.remove(\"_message\");\n          }, 300);\n        } else $dashamail_form.remove();\n      }, 6600);\n    });\n    return false;\n  });\n  $dashamail_form.filter(\".js-sendsay\").on(\"submit\", function(e) {\n    e.preventDefault();\n    var data = [], mcity = document.getElementById(\"mailing_city\");\n    data.push({ name: \"email\", value: $(this).find(\"#mce-EMAIL\").val() });\n    data.push({ name: \"name\", value: $(this).find(\"#mce-NAME\").val() });\n    if (mcity.hasAttribute(\"required\")) {\n      data.push({\n        name: \"city\",\n        value: !mcity.dataset[\"value\"].match(/^\\s*$/g) ? mcity.dataset[\"value\"] : document.getElementById(\"more_merge_3\").value\n      });\n    }\n    if ($(this).find('[name=\"confirm\"]').is(\":checked\")) {\n      data.push({ name: \"confirm\", value: $(this).find('[name=\"confirm\"]').val() });\n    }\n    $(\"#mc-embedded-subscribe\").prop(\"disabled\", true);\n    $.post($dashamail_form.attr(\"data-submit\"), data).fail(function() {\n    }).always(function() {\n      $(\"#mc-embedded-subscribe\").prop(\"disabled\", false);\n      var formBlock = $dashamail_form.get(0);\n      if (formBlock.querySelector(\".mesf-message\") === null) {\n        return;\n      }\n      formBlock.classList.add(\"_message\");\n      setTimeout(() => {\n        Fancybox.close();\n        setTimeout(() => {\n          formBlock.classList.remove(\"_message\");\n        }, 300);\n      }, 6600);\n    });\n    return false;\n  });\n  $('.sub-newsletter__info.js-sendsay [name=\"type\"]').on(\"change\", function() {\n    var $form = $(this).closest(\"form\"), $cities = $(\"#subscribe_cities\");\n    if (this.value == \"agency\") {\n      $cities.removeClass(\"visibility-hidden\").find('[name=\"city\"]').prop(\"required\", true).trigger(\"change\");\n    } else {\n      $cities.addClass(\"visibility-hidden\").find('[name=\"city\"]').prop(\"required\", null);\n      $(\"#subscribe_custom_city\").prop(\"required\", null).closest(\".hard-input\").addClass(\"hidden\");\n    }\n  });\n  $('.sub-newsletter__info.js-sendsay [name=\"city\"]').on(\"change\", function() {\n    var $custom = $(\"#subscribe_custom_city\");\n    if (this.getAttribute(\"data-value\")) {\n      $custom.prop(\"required\", null).closest(\".hard-input\").addClass(\"hidden\");\n    } else {\n      $custom.prop(\"required\", true).closest(\".hard-input\").removeClass(\"hidden\");\n    }\n  });\n  $(\".sub-newsletter__info.js-sendsay\").on(\"submit\", function(e) {\n    e.preventDefault();\n    var $form = $(this), data = [], mcity = document.getElementById(\"subscribe_city\");\n    data.push({ name: \"email\", value: $form.find('[name=\"email\"]').val() });\n    data.push({ name: \"name\", value: $form.find('[name=\"name\"]').val() });\n    if (mcity.hasAttribute(\"required\")) {\n      data.push({\n        name: \"city\",\n        value: !mcity.dataset[\"value\"].match(/^\\s*$/g) ? mcity.dataset[\"value\"] : document.getElementById(\"subscribe_custom_city\").value\n      });\n    }\n    if ($form.find('[name=\"confirm\"]').is(\":checked\")) {\n      data.push({ name: \"confirm\", value: $form.find('[name=\"confirm\"]').val() });\n    }\n    $form.find('[type=\"submit\"]').prop(\"disabled\", true);\n    var $alert;\n    $.post($form.attr(\"data-submit\"), data).fail(function(xhr, status, err) {\n      $alert = $form.find(\".alert--fixed.alert--error\");\n      $alert.addClass(\"active\").find(\".alert__text\").text(status + (err.message ? \": \" + err.message : \"\"));\n      setTimeout(function() {\n        $alert.removeClass(\"active\");\n      }, 3e3);\n    }).done(function(resp, status, xhr) {\n      if (resp[\"_err\"]) {\n        $alert = $form.find(\".alert--fixed.alert--error\");\n        $alert.find(\".alert__text\").text(resp[\"_err\"]);\n      } else {\n        $alert = $form.find(\".alert--fixed\").not(\".alert--error\");\n      }\n      $alert.addClass(\"active\");\n      setTimeout(function() {\n        $alert.removeClass(\"active\");\n      }, 3e3);\n    }).always(function() {\n      $form.find('[type=\"submit\"]').prop(\"disabled\", null);\n    });\n    return false;\n  });\n  $(\".js-autocomplete-strict\").on(\"focusout\", function() {\n    if (this.value) {\n      this.value = $.trim(this.getAttribute(\"data-value\") || \"\");\n    } else {\n      this.setAttribute(\"data-value\", \"\");\n    }\n  });\n  $(\"button[data-like]\").on(\"click\", function(e) {\n    e.preventDefault();\n    var $button = $(this);\n    var upd_button = function($button2, likes) {\n      const base = $button2.hasClass(\"btn-post2\") ? \"btn-post2\" : \"btn-post\";\n      if (!$button2.hasClass(base + \"--active\")) {\n        $button2.addClass(base + \"--active\");\n      }\n      $button2.find(\"span.\" + base + \"__text\").text(likes).show();\n    };\n    $.ajax({\n      type: \"PUT\",\n      url: $(this).data(\"like\"),\n      contentType: \"application/json\"\n      // data: JSON.stringify(data), // access in body\n    }).done(function(data) {\n      upd_button($button, data[\"likes\"]);\n      if ($button.parents(\"aside.main__bottom--recent\").length) {\n        return;\n      }\n      if ($(\".main-content__info-btns\").length) {\n        upd_button($(\".main-content__info-btns\").find(\"button[data-like]\"), data[\"likes\"]);\n      }\n      if ($(\".main-content__info--bottom\").length) {\n        upd_button($(\".main-content__info--bottom\").find(\"button[data-like]\"), data[\"likes\"]);\n      }\n      if ($(\".main-content__info--top\").length) {\n        upd_button($(\".main-content__info--top\").find(\"button[data-like]\"), data[\"likes\"]);\n      }\n    }).fail(function() {\n      alert(\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \\u043F\\u043E\\u0437\\u0436\\u0435\");\n    });\n  });\n  $(\"#blog_comment\").find(\"[type=submit]\").prop(\"disabled\", false);\n  $(\"#blog_comment\").on(\"submit\", function(e) {\n    e.preventDefault();\n    var $form = $(this), formData = $form.serializeArray(), $button = $form.find(\"[type=submit]\");\n    $button.prop(\"disabled\", true);\n    $button.find(\"span.btn__text\").hide();\n    $button.find(\"span.btn__load-wrap\").show();\n    formData.push({ name: \"url\", value: window.location.href });\n    $.post(\n      $form.prop(\"action\"),\n      formData,\n      function() {\n        const active = \"active\", $alert = $form.find(\".alert--fixed\");\n        $alert.addClass(active);\n        setTimeout(function() {\n          $alert.removeClass(active);\n        }, 3e3);\n        $form[0].reset();\n      },\n      \"json\"\n    ).fail(function($xhr) {\n      alert(\"\\u0421\\u0435\\u0440\\u0432\\u0435\\u0440 \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u043E \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0435\\u043D. \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \\u043F\\u043E\\u0437\\u0436\\u0435\");\n    }).always(function() {\n      $button.find(\"span.btn__load-wrap\").hide();\n      $button.find(\"span.btn__text\").show();\n      $button.prop(\"disabled\", false);\n    });\n    return false;\n  });\n  $(\"button[data-comments]\").on(\"click\", function() {\n    $(\"html, body\").animate(\n      {\n        scrollTop: $(\"#blog_comments\").offset().top - 84\n      },\n      500\n    );\n  });\n  checkCommentsHeight();\n  function checkCommentsHeight() {\n    document.querySelectorAll(\".card-comment__text\").forEach((block) => {\n      function clickHandler() {\n        this.closest(\".card-comment\").querySelector(\".card-comment__text\").classList.add(\"_open\");\n        this.setAttribute(\"disabled\", \"\");\n      }\n      const moreBtn = block.closest(\".card-comment\").querySelector(\".card-comment__more\");\n      if (block.scrollHeight <= block.offsetHeight) {\n        moreBtn.setAttribute(\"disabled\", \"\");\n        moreBtn.removeEventListener(\"click\", clickHandler);\n      } else {\n        moreBtn.removeAttribute(\"disabled\");\n        moreBtn.addEventListener(\"click\", clickHandler);\n      }\n    });\n  }\n  document.querySelectorAll(\"textarea\").forEach((e) => {\n    e.addEventListener(\"focus\", setTextareaLarger);\n  });\n  function setTextareaLarger(e) {\n    const textarea = e.target.closest(\"textarea\");\n    if (textarea === null) return false;\n    if (textarea.getAttribute(\"rows\") === \"1\") {\n      textarea.setAttribute(\"rows\", \"4\");\n    }\n    textarea.removeEventListener(\"focus\", setTextareaLarger);\n  }\n  class ChangeNavCurrentLink {\n    constructor(config) {\n      this.pagePartSelector = config.pagePartSelector;\n      this.targetSelectors = config.targetSelectors;\n      this.navBlockSelector = config.navBlockSelector;\n      this.navBlockContainerSelector = config.navBlockContainerSelector;\n      this.navBlockScrollXSelector = config.navBlockScrollXSelector;\n      this.navItemSelector = config.navItemSelector;\n      this.activeClass = config.activeClass;\n      this.offsetBlocksSelectors = config.offsetBlocksSelectors;\n      this.throttle = typeof config.throttle === \"function\" ? config.throttle : (fn) => fn;\n      this.section = document.querySelector(this.pagePartSelector);\n      this.nav = document.querySelector(this.navBlockSelector);\n      if (!this.section || !this.nav) return;\n      this.titles = Array.from(this.section.querySelectorAll(this.targetSelectors));\n      this.navItems = Array.from(this.nav.querySelectorAll(this.navItemSelector));\n      if (!this.navItems.length) return;\n      this.navLinks = this.navItems.map((li) => li.querySelector(\"a\"));\n      this.idToNavLink = /* @__PURE__ */ new Map();\n      this.navLinks.forEach((link) => {\n        if (link && link.hash) {\n          this.idToNavLink.set(link.hash.slice(1), link);\n        }\n      });\n      this.titles = this.titles.filter((el) => this.idToNavLink.has(el.id));\n      this.indent = this.calculateTopOffset(this.offsetBlocksSelectors);\n      window.addEventListener(\"resize\", () => {\n        this.indent = this.calculateTopOffset(this.offsetBlocksSelectors);\n        this.changeCurrentLink();\n      });\n      this.changeCurrentLink();\n      window.addEventListener(\n        \"scroll\",\n        this.throttle(() => this.changeCurrentLink(), 100)\n      );\n      this.timeout = null;\n    }\n    changeCurrentLink() {\n      this.resetNav();\n      const sectionBottom = this.section.getBoundingClientRect().bottom;\n      const currentScroll = window.pageYOffset || document.documentElement.scrollTop;\n      for (let i = 0; i < this.titles.length; i++) {\n        const el = this.titles[i];\n        const elId = el.id;\n        const navLink = this.idToNavLink.get(elId);\n        if (!navLink) continue;\n        const elPosition = this.getScrollPositionForElement(el);\n        const nextElPosition = this.getScrollPositionForElement(this.titles[i + 1] || null);\n        if (currentScroll >= elPosition && currentScroll < nextElPosition) {\n          navLink.classList.add(this.activeClass);\n          this.scrollNav(navLink);\n          break;\n        }\n        if (i === this.titles.length - 1 && currentScroll >= elPosition && sectionBottom > this.indent) {\n          navLink.classList.add(this.activeClass);\n          this.scrollNav(navLink);\n          break;\n        }\n      }\n    }\n    getScrollPositionForElement(el) {\n      if (!el) return Infinity;\n      return el.offsetTop - this.marginTop(el) - this.indent;\n    }\n    marginTop(el) {\n      return parseFloat(getComputedStyle(el).marginTop) || 0;\n    }\n    resetNav() {\n      this.navLinks.forEach((link) => link.classList.remove(this.activeClass));\n    }\n    calculateTopOffset(offsetSelectors) {\n      if (!Array.isArray(offsetSelectors) || offsetSelectors.length === 0) return 0;\n      return offsetSelectors.reduce((sum, selector) => {\n        const el = document.querySelector(selector);\n        return el ? sum + el.offsetHeight : sum;\n      }, 0);\n    }\n    scrollNav(el) {\n      clearTimeout(this.timeout);\n      const container = this.navBlockContainerSelector && this.navBlockContainerSelector.trim() !== \"\" ? this.navItems[0].closest(this.navBlockContainerSelector) : null;\n      const list = this.navBlockScrollXSelector && this.navBlockScrollXSelector.trim() !== \"\" ? this.navItems[0].closest(this.navBlockScrollXSelector) : null;\n      if (!container || !list || !el) return;\n      const listScrollLeft = list.scrollLeft;\n      const itemRect = el.getBoundingClientRect();\n      const listRect = list.getBoundingClientRect();\n      const itemOffsetLeft = itemRect.left + window.pageXOffset;\n      const listOffsetLeft = listRect.left + window.pageXOffset;\n      const space = container.getBoundingClientRect().left;\n      const scrollLeftUpd = listScrollLeft + (itemOffsetLeft - listOffsetLeft) - space;\n      this.timeout = setTimeout(() => {\n        this.smoothScrollTo(list, scrollLeftUpd, 300);\n      }, 300);\n    }\n    smoothScrollTo(element, target, duration) {\n      const start = element.scrollLeft;\n      const change = target - start;\n      const startTime = performance.now();\n      const easeInOutQuad = (t) => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n      const animateScroll = (currentTime) => {\n        const elapsed = currentTime - startTime;\n        const progress = Math.min(elapsed / duration, 1);\n        element.scrollLeft = start + change * easeInOutQuad(progress);\n        if (progress < 1) {\n          requestAnimationFrame(animateScroll);\n        }\n      };\n      requestAnimationFrame(animateScroll);\n    }\n  }\n  new ChangeNavCurrentLink({\n    pagePartSelector: \".main-content2:not(.main-content2_post) .main-content2__content-part\",\n    targetSelectors: \"h2[id], h3[id], h4[id], h5[id], h6[id]\",\n    navBlockSelector: \".blog-nav\",\n    navBlockContainerSelector: \".blog-nav\",\n    navBlockScrollXSelector: \".blog-nav__list\",\n    navItemSelector: \"li\",\n    activeClass: \"current\",\n    offsetBlocksSelectors: [\".page__header\"],\n    throttle\n  });\n  new ChangeNavCurrentLink({\n    pagePartSelector: \".main-content2_post .content-block\",\n    targetSelectors: \"h2, h3\",\n    navBlockSelector: \".blog-nav\",\n    navBlockContainerSelector: \".blog-nav\",\n    navBlockScrollXSelector: \".blog-nav__list\",\n    navItemSelector: \"li\",\n    activeClass: \"current\",\n    offsetBlocksSelectors: [\".page__header\"],\n    throttle\n  });\n  (function checkBlogNavPlacement() {\n    const mainEl = document.querySelector(\".main-content2:not(.main-content2_post) .main-content2__main-container\");\n    if (!mainEl) return;\n    const column = mainEl.querySelector(\".main-content2__column\");\n    const elementParent = mainEl.querySelector(\".main-content2__column-sticky\");\n    const fixedElem = elementParent == null ? void 0 : elementParent.querySelector(\".blog-nav\");\n    if (!column || !fixedElem || !elementParent) return;\n    function checkAndChange() {\n      if (WINDOW_WIDTH_INNER >= DESKTOP_WIDTH_MD && !elementParent.contains(fixedElem)) elementParent.append(fixedElem);\n      else if (WINDOW_WIDTH_INNER < DESKTOP_WIDTH_MD && column.nextElementSibling !== fixedElem) column.after(fixedElem);\n    }\n    checkAndChange();\n    window.addEventListener(\"resize\", throttle(checkAndChange, 500));\n  })();\n  if ($(\"div.blog-nav\").length) {\n    $('<div class=\"tours-popup__blog-nav blog-nav \">' + $(\"aside.main__aside  div.blog-nav \").html() + \"</div>\").appendTo(\n      \"div.tours-popup__body\"\n    );\n    $(\"#mobile_page_menu\").find(\"div.aside-list.tours-popup__aside-list\").remove();\n    $(\"#mobile_page_menu\").find(\"ul.tours-popup__aside-links.aside-links\").remove();\n  }\n  (function() {\n    document.addEventListener(\"click\", function(e) {\n      const target = e.target;\n      const closestHeader = target.closest(\".form-select__header\");\n      if (!closestHeader) return false;\n      const mailingTypeElement = closestHeader.querySelector(\"#mailing_type\");\n      if (!mailingTypeElement) return false;\n      const cityBlock = mailingTypeElement.form.querySelector(\"#cities_block\"), otherCity = mailingTypeElement.form.querySelector(\"#city-field\"), privat = \"\\u0427\\u0430\\u0441\\u0442\\u043D\\u043E\\u0435 \\u043B\\u0438\\u0446\\u043E\";\n      const intervalID = setInterval(() => {\n        const isActive = mailingTypeElement.classList.contains(\"active\");\n        if (!isActive) {\n          const newVal = mailingTypeElement.value;\n          clearInterval(intervalID);\n          if (newVal === privat) {\n            cityBlock.style.display = \"none\";\n            otherCity.style.display = \"none\";\n            document.getElementById(\"mailing_city\").removeAttribute(\"required\");\n            document.getElementById(\"more_merge_3\").removeAttribute(\"required\");\n          } else {\n            cityBlock.style.display = \"block\";\n            const mcity = document.getElementById(\"mailing_city\");\n            mcity.setAttribute(\"required\", \"required\");\n            if (!mcity.dataset.value.length) {\n              otherCity.style.display = \"block\";\n              document.getElementById(\"more_merge_3\").setAttribute(\"required\", \"required\");\n            }\n          }\n        }\n      }, 500);\n    });\n    document.addEventListener(\"click\", function(e) {\n      const target = e.target;\n      const closestHeader = target.closest(\".form-select__header\");\n      if (!closestHeader) return false;\n      const mailingCityElement = closestHeader.querySelector(\"#mailing_city\");\n      if (!mailingCityElement) return false;\n      const otherCity = mailingCityElement.form.querySelector(\"#city-field\"), query = \"\\u0414\\u0440\\u0443\\u0433\\u043E\\u0439\";\n      const intervalID = setInterval(() => {\n        const isActive = mailingCityElement.classList.contains(\"active\");\n        if (!isActive) {\n          const newVal = mailingCityElement.value;\n          clearInterval(intervalID);\n          if (newVal !== query) {\n            otherCity.style.display = \"none\";\n            document.getElementById(\"more_merge_3\").removeAttribute(\"required\");\n          } else {\n            otherCity.style.display = \"block\";\n            document.getElementById(\"more_merge_3\").setAttribute(\"required\", \"required\");\n          }\n        }\n      }, 500);\n    });\n  })();\n  changeBlogListIndexFirstCardMods();\n  function changeBlogListIndexFirstCardMods() {\n    const list = document.querySelector(\".blog-list--index\");\n    if (list === null) return false;\n    const card = list.querySelector(\".card-blog\"), btns = card.querySelectorAll(\".btn-post\"), mod = \"card-blog--wide\", btnMod = \"btn-post--light\";\n    f();\n    window.addEventListener(\"resize\", throttle(f, 500));\n    function f() {\n      if (WINDOW_WIDTH_INNER < TABLET_WIDTH) {\n        card.classList.remove(mod);\n        btns.forEach((btn) => {\n          btn.classList.remove(btnMod);\n        });\n      } else {\n        card.classList.add(mod);\n        btns.forEach((btn) => {\n          btn.classList.add(btnMod);\n        });\n      }\n    }\n  }\n  changeHeroTitleFontSize();\n  window.addEventListener(\"resize\", throttle(changeHeroTitleFontSize, 500));\n  function changeHeroTitleFontSize() {\n    const blocks = document.querySelectorAll(\".hero__title h3\");\n    if (!blocks.length) return false;\n    blocks.forEach((block) => {\n      block.style.removeProperty(\"font-size\");\n      if (block.style.length === 0) block.removeAttribute(\"style\");\n      const blockStyles = getComputedStyle(block), paddingLeft = parseFloat(blockStyles.paddingLeft), paddingRight = parseFloat(blockStyles.paddingRight), marginLeft = Math.abs(parseFloat(blockStyles.marginLeft)), marginRight = Math.abs(parseFloat(blockStyles.marginRight)), blockWidth = (block.clientWidth - paddingLeft - paddingRight - marginLeft - marginRight) * 0.95, text = block.textContent.trim();\n      const tempSpan = document.createElement(\"span\");\n      tempSpan.style.position = \"absolute\";\n      tempSpan.style.whiteSpace = \"nowrap\";\n      tempSpan.style.visibility = \"hidden\";\n      tempSpan.style.font = blockStyles.font;\n      tempSpan.textContent = text;\n      document.body.appendChild(tempSpan);\n      let textWidth = tempSpan.getBoundingClientRect().width;\n      if (textWidth > blockWidth) {\n        let fontSizeVw = parseFloat(blockStyles.fontSize) / document.documentElement.clientWidth * 100;\n        while (textWidth > blockWidth && fontSizeVw > 0) {\n          fontSizeVw--;\n          tempSpan.style.fontSize = `${fontSizeVw}vw`;\n          textWidth = tempSpan.getBoundingClientRect().width;\n        }\n        block.style.fontSize = `${Math.floor(fontSizeVw)}vw`;\n      }\n      document.body.removeChild(tempSpan);\n    });\n  }\n  $(\".js-press-event-form\").on(\"submit\", function(e) {\n    e.preventDefault();\n    var $form = $(this), formData = $form.serializeArray(), $button = $form.find(\"[type=submit]\");\n    $button.prop(\"disabled\", true);\n    $button.find(\"span.btn__text\").hide();\n    $button.find(\"span.btn__load-wrap\").show();\n    formData.push({ name: \"url\", value: window.location.href });\n    $.post(\n      $form.attr(\"data-action\"),\n      formData,\n      function() {\n        const active = \"active\", $alert = $form.find(\".alert--success\");\n        $alert.addClass(active);\n        setTimeout(function() {\n          $alert.removeClass(active);\n        }, 3e3);\n        $form[0].reset();\n      },\n      \"json\"\n    ).fail(function($xhr) {\n      const active = \"active\", $alert = $form.find(\".alert--error\");\n      $alert.addClass(active);\n      setTimeout(function() {\n        $alert.removeClass(active);\n      }, 3e3);\n    }).always(function() {\n      $button.find(\"span.btn__load-wrap\").hide();\n      $button.find(\"span.btn__text\").show();\n      $button.prop(\"disabled\", false);\n    });\n    return false;\n  });\n  const asideHandler = (() => {\n    const asideToggle = document.querySelector(\".aside-toggle\");\n    const main = document.querySelector(\".page__main.main\");\n    const mainAside = document.querySelector(\".main__aside\");\n    if (!asideToggle || !main || !mainAside) return;\n    const mainClosedClass = \"main--aside-close\";\n    const listItemClass = \"aside-list__item\";\n    const innerListClass = \"aside-list__hide-box\";\n    const linkWithInnerListClass = \"aside-list__link--menu\";\n    const asideList = mainAside.querySelector(\".aside-list\");\n    const closeAsideListInnerLists = () => {\n      asideList == null ? void 0 : asideList.querySelectorAll(`.${innerListClass}`).forEach((list) => {\n        list.classList.remove(\"active\");\n        list.style.height = \"0\";\n        list.closest(`.${listItemClass}`).querySelector(`.${linkWithInnerListClass}`).classList.remove(\"active\");\n      });\n    };\n    const closeAside = () => {\n      main.classList.add(mainClosedClass);\n      closeAsideListInnerLists();\n      let expires = /* @__PURE__ */ new Date();\n      expires.setTime(expires.getTime() + 365 * 24 * 60 * 60 * 1e3);\n      document.cookie = \"aside_menu_closed=1; expires=\" + expires.toUTCString() + \"; path=/\";\n    };\n    const openAside = () => {\n      main.classList.remove(mainClosedClass);\n      let expires = /* @__PURE__ */ new Date();\n      expires.setTime(expires.getTime());\n      document.cookie = \"aside_menu_closed=; expires=\" + expires.toUTCString() + \"; path=/\";\n    };\n    const openAsideListInnerList = (e) => {\n      const link = e.target.closest(`.${linkWithInnerListClass}`);\n      if (!link) return;\n      openAside();\n    };\n    const toggleAside = () => {\n      main.classList.contains(mainClosedClass) ? openAside() : closeAside();\n    };\n    asideToggle.addEventListener(\"click\", toggleAside);\n    asideList == null ? void 0 : asideList.addEventListener(\"click\", openAsideListInnerList);\n  })();\n  class customAttrTitle {\n    /**\n     * @param {string} selector\n     * @param {object} [options]\n     * @param {string|null} [options.contentSelector=null]\n     * @param {() => boolean} [options.checkFn=null]\n     * @param {string|object} [options.tooltipClass='tooltip'] -       \n     * @param {string} [options.position='top']\n     */\n    constructor(selector, options = {}) {\n      this.selector = selector;\n      this.tooltips = document.querySelectorAll(selector);\n      this.transformFn = options.transformFn || false;\n      this.checkFn = options.checkFn || null;\n      this.contentSelector = options.contentSelector || null;\n      this.defaultPosition = options.position || \"top\";\n      if (typeof options.tooltipClass === \"object\" && options.tooltipClass !== null) {\n        this.tooltipClasses = {\n          top: options.tooltipClass.top || \"tooltip\",\n          right: options.tooltipClass.right || \"tooltip\"\n        };\n      } else {\n        const className = options.tooltipClass || \"tooltip\";\n        this.tooltipClasses = { top: className, right: className };\n      }\n      this.init();\n    }\n    init() {\n      this.tooltips.forEach((tooltip) => {\n        let timeoutId;\n        const clear = () => clearTimeout(timeoutId);\n        const removeTooltip = (tooltipText, tooltip2, handlers) => {\n          if (tooltipText.parentNode) tooltipText.parentNode.removeChild(tooltipText);\n          tooltip2.removeEventListener(\"mouseleave\", handlers.mouseLeaveHandler);\n          tooltip2.removeEventListener(\"click\", handlers.clickHandler);\n        };\n        const getTooltipContent = () => {\n          if (tooltip.hasAttribute(\"title\")) {\n            const titleValue = tooltip.getAttribute(\"title\").trim();\n            tooltip.setAttribute(\"data-title\", titleValue);\n            tooltip.removeAttribute(\"title\");\n            return tooltip.getAttribute(\"data-title\").trim();\n          } else if (tooltip.hasAttribute(\"data-title\")) {\n            return tooltip.getAttribute(\"data-title\").trim();\n          } else if (this.contentSelector) {\n            const child = tooltip.querySelector(this.contentSelector);\n            if (child) return child.textContent.trim();\n          } else return tooltip.textContent.trim();\n        };\n        const mouseenterEvent = () => {\n          if (this.checkFn && this.checkFn(tooltip) === false) return;\n          if (this.transformFn) this.transformFn(tooltip);\n          timeoutId = setTimeout(() => {\n            const title = getTooltipContent();\n            if (!title) return;\n            const tooltipText = document.createElement(\"div\");\n            const position = tooltip.dataset.tooltipPosition || this.defaultPosition;\n            tooltipText.className = this.tooltipClasses[position] || \"tooltip\";\n            tooltipText.textContent = title;\n            document.body.appendChild(tooltipText);\n            const rect = tooltip.getBoundingClientRect();\n            if (position === \"right\") {\n              const centerY = rect.top + rect.height / 2;\n              const computedStyle = getComputedStyle(tooltip, \"::before\");\n              const pseudoElementWidth = parseFloat(computedStyle.getPropertyValue(\"width\")) || 0;\n              const leftPosition = rect.left + pseudoElementWidth + window.scrollX + 7;\n              tooltipText.style.left = `${leftPosition}px`;\n              tooltipText.style.maxWidth = `calc(90vw - ${leftPosition}px)`;\n              tooltipText.style.top = `${centerY + window.scrollY}px`;\n              tooltipText.style.transform = \"\";\n            } else if (position === \"top\") {\n              const centerX = rect.left + rect.width / 2;\n              const tooltipHeight = tooltipText.offsetHeight;\n              const topPosition = rect.top + window.scrollY - tooltipHeight - 8;\n              tooltipText.style.top = `${topPosition}px`;\n              tooltipText.style.left = `${centerX + window.scrollX}px`;\n              tooltipText.style.transform = \"translateX(-50%)\";\n              tooltipText.style.maxWidth = \"90vw\";\n            }\n            tooltipText.style.opacity = \"1\";\n            const mouseLeaveHandler = () => removeTooltip(tooltipText, tooltip, handlers);\n            const clickHandler = () => removeTooltip(tooltipText, tooltip, handlers);\n            const handlers = { mouseLeaveHandler, clickHandler };\n            tooltip.addEventListener(\"mouseleave\", mouseLeaveHandler);\n            tooltip.addEventListener(\"click\", clickHandler);\n          }, 300);\n        };\n        tooltip.addEventListener(\"mouseenter\", mouseenterEvent);\n        tooltip.addEventListener(\"mouseleave\", clear);\n        tooltip.addEventListener(\"click\", clear);\n      });\n    }\n  }\n  new customAttrTitle(\".main__aside .aside-list__link\", {\n    checkFn: () => {\n      var _a2;\n      return (_a2 = document.querySelector(\".main\")) == null ? void 0 : _a2.classList.contains(\"main--aside-close\");\n    },\n    tooltipClass: {\n      right: \"tooltip tooltip_right\"\n    },\n    position: \"right\"\n  });\n  new customAttrTitle(\".card-tour2__includes-item\");\n  new customAttrTitle(\".best-deal__includes-item\", {\n    checkFn: () => WINDOW_WIDTH_INNER < DESKTOP_WIDTH_MD\n  });\n  new customAttrTitle(\".card-hotel3__includes-item\");\n  new customAttrTitle(\".hotel-icon2\");\n  new customAttrTitle(\".data-title\");\n  new customAttrTitle(\".tour-calendar__month .tour-calendar__day\", {\n    checkFn: (elem) => {\n      const forbiddenClasses = [\"tour-calendar__day_off\", \"tour-calendar__day_disabled\"];\n      if (forbiddenClasses.some((cls) => elem.classList.contains(cls))) return false;\n      return true;\n    },\n    transformFn: (elem) => {\n      if (elem.hasAttribute(\"data-title\")) return false;\n      const isToday = elem.classList.contains(\"tour-calendar__day_today\");\n      if (elem.hasAttribute(\"href\")) {\n        const href = elem.getAttribute(\"href\").trim();\n        const isValidHref = href !== \"\" && !href.startsWith(\"#\") && href !== \"/\";\n        if (isValidHref && isToday) {\n          elem.setAttribute(\"data-title\", \"\\u0421\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F. \\u0417\\u0430\\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\");\n        } else if (isValidHref) {\n          elem.setAttribute(\"data-title\", \"\\u0417\\u0430\\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\");\n        } else {\n          elem.setAttribute(\"data-title\", \"?\");\n        }\n      } else if (isToday) {\n        elem.setAttribute(\"data-title\", \"\\u0421\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F\");\n      } else {\n        elem.setAttribute(\"data-title\", \"\\u041D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\");\n      }\n    }\n  });\n  const draggableScrollHorizontal = (selector) => {\n    const elements = document.querySelectorAll(selector);\n    if (!elements.length) return false;\n    elements.forEach((element) => {\n      let isDragging = false, wasDragging = false, startX, scrollLeft, targetDown, targetUp;\n      element.dataset.isReadyToGrab = \"\";\n      element.addEventListener(\"mouseenter\", (e) => {\n        element.style.cursor = isOverflow() ? \"grab\" : \"\";\n      });\n      element.addEventListener(\"mousedown\", (e) => {\n        if (!isOverflow()) return;\n        isDragging = true;\n        targetDown = e.target;\n        startX = e.pageX - element.offsetLeft;\n        scrollLeft = element.scrollLeft;\n        element.style.cursor = \"grabbing\";\n      });\n      document.addEventListener(\"mouseleave\", () => {\n        if (!isOverflow()) return;\n        isDragging = false;\n        element.style.cursor = \"grab\";\n      });\n      document.addEventListener(\"mouseup\", (e) => {\n        if (!isOverflow()) return;\n        isDragging = false;\n        targetUp = e.target;\n        element.style.cursor = \"grab\";\n      });\n      document.addEventListener(\n        \"click\",\n        (e) => {\n          let a = targetDown === targetUp;\n          let b = targetUp == null ? void 0 : targetUp.closest(\"[href]\");\n          let c = targetDown == null ? void 0 : targetDown.closest(\"[href]\");\n          if ((a || b || c) && wasDragging) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n          wasDragging = false;\n        },\n        true\n      );\n      document.addEventListener(\"mousemove\", (e) => {\n        if (!isDragging || !isOverflow()) return;\n        e.preventDefault();\n        const x2 = e.pageX - element.offsetLeft;\n        const walk = x2 - startX;\n        if (Math.abs(walk) < 3) return;\n        element.scrollLeft = scrollLeft - walk;\n        wasDragging = true;\n      });\n      element.addEventListener(\"mousedown\", (e) => {\n        if (isDragging) e.preventDefault();\n      });\n      function isOverflow() {\n        return element.scrollWidth > element.clientWidth;\n      }\n    });\n  };\n  draggableScrollHorizontal(\".basement-news__list\");\n  draggableScrollHorizontal(\".header-form__page-btns\");\n  draggableScrollHorizontal(\"table\");\n  draggableScrollHorizontal(\"[data-is-ready-to-grab]\");\n  (function() {\n    var card = document.querySelector(\".main-content2__column-card\");\n    var cardFix = document.querySelector(\".main-content2 .card-tourfix\");\n    if (!card || !cardFix) return;\n    var content = document.querySelector(\".main-content2\");\n    watchVisibilityAboveTop(card, cardFix, \"_hidden\");\n    function watchVisibilityAboveTop(target, control, classToRemove) {\n      const targetBlock = target;\n      const controlBlock = control;\n      function checkVisibility() {\n        const rect = targetBlock.getBoundingClientRect();\n        const contentRect = content.getBoundingClientRect();\n        const contentIsMin = contentRect.bottom - rect.bottom < windowHeight;\n        if (contentIsMin) {\n          controlBlock.classList.add(\"_static\");\n          window.removeEventListener(\"scroll\", checkVisibility);\n          return;\n        }\n        if (rect.bottom <= 0) {\n          controlBlock.classList.remove(classToRemove);\n        } else {\n          controlBlock.classList.add(classToRemove);\n        }\n      }\n      window.addEventListener(\"scroll\", checkVisibility);\n      checkVisibility();\n    }\n  })();\n  (function() {\n    const p = [\n      {\n        block: \".filter-bar3__dropdown\",\n        list: \".filter-bar3__menu\",\n        layerMod: \"form-drop-list3_wrap\"\n      },\n      {\n        block: \".search-input2\",\n        list: \".form-drop-list3\",\n        layerMod: \"form-drop-list3_wrap\"\n      }\n    ];\n    function handleCheckLayers() {\n      p.forEach(({ block, list, layerMod }) => {\n        checkLayersPosition(block, list, layerMod);\n      });\n    }\n    function handleCheckTarget(e) {\n      p.forEach(({ block, list, layerMod }) => {\n        checkTarget(e, block, list, layerMod);\n      });\n    }\n    window.addEventListener(\"load\", handleCheckLayers);\n    window.addEventListener(\"resize\", throttle(handleCheckLayers, 500));\n    document.addEventListener(\"click\", (e) => handleCheckTarget(e));\n    document.addEventListener(\"input\", (e) => handleCheckTarget(e));\n    function checkTarget(e, selector, list, selectorMod) {\n      const target = e.target.closest(selector);\n      if (!target) return;\n      checkLayerPosition(target, list, selectorMod);\n    }\n    function checkLayerPosition(block, layersSelector, layerMod = \"\", bW, pddng) {\n      const layer = block == null ? void 0 : block.querySelector(layersSelector);\n      if (!layer) return;\n      const bodyW = bW || WINDOW_WIDTH;\n      const padding = pddng || 20;\n      layer.classList.remove(layerMod);\n      layer.style.right = \"\";\n      layer.style.left = \"\";\n      layer.style.maxWidth = \"\";\n      layer.style.width = \"\";\n      const { right, left, width } = layer.getBoundingClientRect();\n      const { right: blockRight } = block.getBoundingClientRect();\n      let maxLayerW = bodyW - padding * 2;\n      let rightPos = bodyW - padding;\n      const peg = layer.closest(\".filter-bar3\");\n      if (peg) {\n        const { right: pegRight } = peg.getBoundingClientRect();\n        const { paddingLeft, paddingRight } = getComputedStyle(peg);\n        maxLayerW = peg.offsetWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);\n        rightPos = pegRight - parseFloat(paddingRight);\n      }\n      const beyondTheRight = right > bodyW - padding;\n      const excessWidth = maxLayerW - width;\n      if (excessWidth <= 0) {\n        layer.style.width = `${maxLayerW}px`;\n        layer.classList.add(layerMod);\n        layer.style.right = `${blockRight - rightPos}px`;\n        layer.style.left = `auto`;\n      } else if (beyondTheRight) {\n        layer.style.right = \"0\";\n        layer.style.left = `auto`;\n        const { left: lleft, width: lwidth } = layer.getBoundingClientRect();\n        if (lleft < padding) {\n          layer.style.width = `100%`;\n        }\n      }\n    }\n    function checkLayersPosition(blockSelector, layersSelector, layerMod) {\n      const blocks = document.querySelectorAll(blockSelector);\n      if (!blocks.length) return;\n      const bodyW = WINDOW_WIDTH;\n      const padding = 20;\n      blocks.forEach((block) => {\n        checkLayerPosition(block, layersSelector, layerMod, bodyW, padding);\n      });\n    }\n  })();\n  (function filterBar3ExpandHandler() {\n    document.querySelectorAll(\".filter-bar3__expand\").forEach((expand) => {\n      const btn = expand;\n      const container = btn.closest(\".filter-bar3\");\n      const itemsToHide = container == null ? void 0 : container.querySelectorAll(\".filter-bar3__item._mobile-hidden\");\n      if (!container || itemsToHide.length < 1) {\n        btn.remove();\n        return;\n      }\n      btn.addEventListener(\"click\", (e) => {\n        const isToShow = btn.classList.contains(\"_to-show\");\n        btn.classList.toggle(\"_to-show\", !isToShow);\n        container.classList.toggle(\"_show-mobile-hidden-items\", isToShow);\n      });\n    });\n  })();\n  (function() {\n    const baseTemplate = `\n            <span class=\"title-icon__icon\"><svg width=\"18\" height=\"18\"><use xlink:href=\"/images/sprite-menuicons.svg#{{modifier}}\"></use></svg></span>`;\n    document.querySelectorAll(\".content-block\").forEach((contentBlock) => {\n      const titleIcons = contentBlock.querySelectorAll(\".title-icon.title-icon_bg\");\n      titleIcons.forEach((icon) => {\n        const classes = Array.from(icon.classList);\n        const modifierClass = classes.find((cls) => cls.startsWith(\"___\"));\n        if (!modifierClass) return;\n        const modifier = modifierClass ? modifierClass.split(\"___\")[1] : \"\";\n        const html = baseTemplate.replace(\"{{modifier}}\", modifier);\n        icon.insertAdjacentHTML(\"afterbegin\", html);\n      });\n    });\n  })();\n  const features = (() => {\n    document.querySelectorAll(\".features\").forEach((block) => {\n      const listWrap = block.querySelector(\".features__list-wrap\");\n      const list = block.querySelector(\".features__list\");\n      const toggleBtn = block.querySelector(\".open-all2\");\n      let expanded = false;\n      toggleBtn.addEventListener(\"click\", (e) => {\n        const href = toggleBtn.getAttribute(\"href\");\n        if (toggleBtn.tagName.toUpperCase() == \"A\" && href && href.length > 1 && href.substr(0, 1) == \"#\") return;\n        e.preventDefault();\n        const h = list.offsetHeight;\n        expanded = !expanded;\n        if (expanded) {\n          listWrap.style.height = `${h}px`;\n          list.classList.add(\"_expanded\");\n          listWrap.style.height = `${list.offsetHeight}px`;\n          toggleBtn.classList.add(\"active\");\n          setTimeout(() => {\n            listWrap.style.height = \"\";\n          }, 300);\n        } else {\n          listWrap.style.height = `${h}px`;\n          list.classList.remove(\"_expanded\");\n          listWrap.style.height = `${list.offsetHeight}px`;\n          toggleBtn.classList.remove(\"active\");\n          setTimeout(() => {\n            listWrap.style.height = \"\";\n          }, 300);\n        }\n      });\n    });\n  })();\n  var initPageNav = function(cb) {\n    const content = document.querySelector(\".page--index .main-content2\");\n    if (content == null) return false;\n    const list = document.querySelector(\"#page-nav\"), itemTemplate = document.querySelector(\"#page-nav-item\");\n    if (list === null || itemTemplate === null) return false;\n    const blocks = Array.from(content.querySelectorAll(\".main-content2__block_before-index-nav~.main-content2__block[id]\")).filter((el) => {\n      const attr = el.getAttribute(\"data-link-text\");\n      return attr !== null && attr.trim().length > 0;\n    });\n    const blocksParams = {\n      length: blocks.length,\n      isEmpty: blocks.length === 0,\n      get error() {\n        if (this.isEmpty) return \"blocks is empty\";\n      }\n    };\n    if (blocksParams.isEmpty) return removeContents();\n    let i = 0;\n    mf(blocks);\n    function mf(arr) {\n      if (arr.length <= i) {\n        if (cb && typeof cb === \"function\") cb();\n        return;\n      }\n      const el = arr[i], item = itemTemplate.content.cloneNode(true), a = item.querySelector(\".btn\"), aText = item.querySelector(\".btn__text\");\n      i++;\n      a.href = `#${el.id}`;\n      aText.textContent = el.getAttribute(\"data-link-text\");\n      list.append(item);\n      mf(blocks);\n    }\n    function removeContents() {\n      const contents = list.closest(\".main-content2__block_index-nav\");\n      if (contents) contents.remove();\n    }\n  };\n  initPageNav(() => {\n    new ChangeNavCurrentLink({\n      pagePartSelector: \".page--index .page__main\",\n      targetSelectors: \".main-content2__block[id]\",\n      navBlockSelector: \".main-content2__nav-btns\",\n      navBlockContainerSelector: \".main-content2__nav-btns\",\n      navBlockScrollXSelector: \"[data-is-ready-to-grab]\",\n      navItemSelector: \"li\",\n      activeClass: \"active\",\n      offsetBlocksSelectors: [\".main-content2__nav-btns\"],\n      throttle\n    });\n  });\n  class SafeSvgUseManager {\n    constructor(useElem) {\n      this.useElem = useElem instanceof Element ? useElem : null;\n    }\n    get href() {\n      return this.useElem ? this.useElem.getAttribute(\"xlink:href\") || \"\" : \"\";\n    }\n    set href(value) {\n      if (this.useElem) {\n        this.useElem.setAttribute(\"xlink:href\", value);\n      }\n    }\n    get base() {\n      return this.href.split(\"#\")[0];\n    }\n    get symbol() {\n      const parts = this.href.split(\"#\");\n      return parts.length > 1 ? parts[1] : \"\";\n    }\n    setSymbol(name) {\n      if (this.useElem) {\n        this.href = `${this.base}#${name}`;\n      }\n    }\n    removeSymbol() {\n      if (this.useElem) {\n        this.href = this.base;\n      }\n    }\n  }\n  class AlertManager {\n    constructor(alertElem) {\n      this.alertCustom = alertElem;\n      this.alertCustomText = alertElem == null ? void 0 : alertElem.querySelector(\".alert__text\");\n      const useElem = alertElem == null ? void 0 : alertElem.querySelector(\"svg use\");\n      this.svgManager = new SafeSvgUseManager(useElem);\n      if (this.alertCustom) {\n        this.alertCustom.setAttribute(\"aria-live\", \"polite\");\n      }\n    }\n    showAlert(mod = \"\", icon, text) {\n      if (this.alertCustom && this.alertCustomText) {\n        this.svgManager.setSymbol(icon);\n        if (mod) this.alertCustom.classList.add(mod);\n        this.alertCustom.classList.add(\"active\");\n        this.alertCustomText.textContent = text;\n        setTimeout(() => {\n          this.alertCustom.classList.remove(\"active\");\n          setTimeout(() => {\n            if (mod) this.alertCustom.classList.remove(mod);\n            this.alertCustomText.textContent = \"\";\n            this.svgManager.removeSymbol();\n          }, 300);\n        }, 3e3);\n      } else {\n        alert(text);\n      }\n    }\n  }\n  class FileInputManager {\n    constructor(form, alertManager, allowedExtensions = [], allowedMimeTypes = []) {\n      var _a2, _b;\n      this.form = form;\n      this.alertManager = alertManager;\n      this.allowedExtensions = allowedExtensions.map((ext) => ext.toLowerCase());\n      this.allowedMimeTypes = allowedMimeTypes;\n      this.fileItem = form.querySelector(\".file__item\");\n      this.fileInput = form.querySelector(\".file__input\");\n      this.fileItemText = (_a2 = this.fileItem) == null ? void 0 : _a2.querySelector(\".file__item-text\");\n      this.fileItemCloseBtn = (_b = this.fileItem) == null ? void 0 : _b.querySelector(\".file__item-closebtn\");\n      this.dropArea = form.querySelector(\".file__label-inner\");\n      this.currentFileUrl = null;\n      this.init();\n    }\n    init() {\n      var _a2;\n      if (!this.fileItem || !this.fileInput || !this.fileItemText) return;\n      (_a2 = this.fileItemCloseBtn) == null ? void 0 : _a2.addEventListener(\"click\", () => this.clearFile());\n      this.fileInput.addEventListener(\"change\", () => {\n        if (this.fileInput.files.length > 0) {\n          this.handleFile(this.fileInput.files[0]);\n        } else {\n          this.clearFile();\n        }\n      });\n      if (this.dropArea) {\n        this.dropArea.addEventListener(\"dragover\", (e) => {\n          e.preventDefault();\n          this.dropArea.classList.add(\"file__label-inner_dragover\");\n        });\n        this.dropArea.addEventListener(\"dragleave\", (e) => {\n          e.preventDefault();\n          this.dropArea.classList.remove(\"file__label-inner_dragover\");\n        });\n        this.dropArea.addEventListener(\"drop\", (e) => {\n          e.preventDefault();\n          this.dropArea.classList.remove(\"file__label-inner_dragover\");\n          const files = e.dataTransfer.files;\n          if (files.length === 0) return;\n          if (files.length > 1) {\n            this.alertManager.showAlert(\"alert--error\", \"check-error\", \"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u0435 \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u043E\\u0434\\u0438\\u043D \\u0444\\u0430\\u0439\\u043B.\");\n            return;\n          }\n          const file = files[0];\n          this.handleFile(file);\n          if (typeof DataTransfer !== \"undefined\") {\n            const dataTransfer = new DataTransfer();\n            dataTransfer.items.add(file);\n            this.fileInput.files = dataTransfer.files;\n          }\n        });\n      }\n    }\n    clearFile() {\n      if (!this.fileItemText) return;\n      this.fileItem.style.display = \"none\";\n      this.fileItemText.textContent = \"\";\n      this.fileItemText.removeAttribute(\"href\");\n      this.fileItemText.removeAttribute(\"target\");\n      if (this.currentFileUrl) {\n        URL.revokeObjectURL(this.currentFileUrl);\n        this.currentFileUrl = null;\n      }\n      this.fileInput.value = \"\";\n    }\n    handleFile(file) {\n      if (file.size > 10 * 1024 * 1024) {\n        this.alertManager.showAlert(\"alert--error\", \"check-error\", \"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440 \\u0444\\u0430\\u0439\\u043B\\u0430 \\u043D\\u0435\\xA0\\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u043F\\u0440\\u0435\\u0432\\u044B\\u0448\\u0430\\u0442\\u044C 10\\xA0\\u041C\\u0411.\");\n        this.clearFile();\n        return;\n      }\n      const fileExt = file.name.split(\".\").pop().toLowerCase();\n      if (!this.allowedExtensions.includes(fileExt)) {\n        this.alertManager.showAlert(\n          \"alert--error\",\n          \"check-error\",\n          \"\\u041D\\u0435\\u0434\\u043E\\u043F\\u0443\\u0441\\u0442\\u0438\\u043C\\u044B\\u0439 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442 \\u0444\\u0430\\u0439\\u043B\\u0430. \\u0420\\u0430\\u0437\\u0440\\u0435\\u0448\\u0435\\u043D\\u044B: \" + this.allowedExtensions.join(\", \") + \".\"\n        );\n        this.clearFile();\n        return;\n      }\n      if (!this.allowedMimeTypes.includes(file.type)) {\n        this.alertManager.showAlert(\n          \"alert--error\",\n          \"check-error\",\n          \"\\u041D\\u0435\\u0434\\u043E\\u043F\\u0443\\u0441\\u0442\\u0438\\u043C\\u044B\\u0439 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442 \\u0444\\u0430\\u0439\\u043B\\u0430. \\u0420\\u0430\\u0437\\u0440\\u0435\\u0448\\u0435\\u043D\\u044B: \" + this.allowedExtensions.join(\", \") + \".\"\n        );\n        this.clearFile();\n        return;\n      }\n      if (this.currentFileUrl) {\n        URL.revokeObjectURL(this.currentFileUrl);\n      }\n      this.currentFileUrl = URL.createObjectURL(file);\n      this.fileItemText.textContent = file.name;\n      this.fileItemText.href = this.currentFileUrl;\n      this.fileItemText.target = \"_blank\";\n      this.fileItem.style.display = \"\";\n    }\n  }\n  class CustomFormValidator {\n    constructor(formSelector, options = {}) {\n      this.form = typeof formSelector === \"string\" ? document.querySelector(formSelector) : formSelector;\n      if (!this.form) throw new Error(\"\\u0424\\u043E\\u0440\\u043C\\u0430 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430\");\n      this.options = __spreadValues({\n        inputErrorClass: \"_error\",\n        errorLabelSelector: (id) => id ? document.querySelector(`#${id}`) : null,\n        formSentClass: \"_sent\",\n        mainSentClass: \"_container-sent\",\n        mainContainerSelector: null\n      }, options);\n      this.mainContainer = this.options.mainContainerSelector ? this.form.closest(this.options.mainContainerSelector) : this.form;\n      this.reqElements = this.form.querySelectorAll(\"[data-val='true']\");\n      this.validators = this._initValidators();\n      this._bindEvents();\n    }\n    _bindEvents() {\n      this.reqElements.forEach((el) => {\n        el.addEventListener(\"input\", this._onChangeHandler.bind(this));\n        el.addEventListener(\"blur\", this._onChangeHandler.bind(this));\n      });\n    }\n    _onChangeHandler(e) {\n      const element = e.target;\n      const isValid = this.validateElement(element);\n      const errorLabel = this.options.errorLabelSelector(element.dataset.errorLabel);\n      if (isValid) {\n        if (errorLabel) errorLabel.style.display = \"none\";\n        element.classList.remove(this.options.inputErrorClass);\n        return;\n      }\n      if (element.value.trim().length > 0) {\n        if (errorLabel) errorLabel.style.display = \"none\";\n        element.classList.remove(this.options.inputErrorClass);\n      } else {\n        if (errorLabel) errorLabel.style.display = \"block\";\n        element.classList.add(this.options.inputErrorClass);\n      }\n    }\n    validateElement(element) {\n      if (!element.dataset.val || element.dataset.val !== \"true\") return true;\n      for (const key in this.validators) {\n        if (typeof this.validators[key] === \"object\" && typeof this.validators[key].isValid === \"function\") {\n          if (element.dataset[key] !== void 0) {\n            const validator = this.validators[key];\n            if (!validator.isValid(element)) {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    }\n    validateForm() {\n      let allValid = true;\n      this.reqElements.forEach((el) => {\n        if (!this.validateElement(el)) allValid = false;\n      });\n      return allValid;\n    }\n    _initValidators() {\n      const self = this;\n      return {\n        validate: function(element, message, predicate) {\n          const errorLabel = self.options.errorLabelSelector(element.dataset.errorLabel);\n          if (errorLabel) {\n            errorLabel.innerHTML = message;\n            errorLabel.style.display = \"none\";\n          }\n          element.classList.remove(self.options.inputErrorClass);\n          if (typeof predicate === \"function\" && predicate()) {\n            return true;\n          } else {\n            element.classList.add(self.options.inputErrorClass);\n            if (errorLabel) errorLabel.style.display = \"block\";\n            return false;\n          }\n        },\n        required: {\n          isValid: function(element) {\n            const message = element.dataset.required;\n            if (!message) return true;\n            return self.validators.validate(element, message, () => element.value.trim().length > 0);\n          }\n        },\n        pattern: {\n          isValid: function(element) {\n            const message = element.dataset.error;\n            const pattern = element.dataset.pattern;\n            if (!pattern) return true;\n            const regex = new RegExp(pattern);\n            if (element.value.trim().length === 0 && !element.dataset.required) return true;\n            return self.validators.validate(element, message, () => regex.test(element.value));\n          }\n        }\n      };\n    }\n  }\n  (function ValidationAndSendingForm() {\n    const form = document.querySelector(\"#careerForm\");\n    if (!form) return;\n    const validator = new CustomFormValidator(\"#careerForm\", {\n      inputErrorClass: \"error\",\n      mainContainerSelector: \".career-form\",\n      mainSentClass: \"career-form_sent\"\n    });\n    const alertCustom = form.querySelector(\".alert\");\n    const alertManager = new AlertManager(alertCustom);\n    const allowedExtensions = [\"pdf\", \"doc\", \"docx\", \"txt\", \"odt\", \"rtf\"];\n    const allowedMimeTypes = [\n      \"application/pdf\",\n      \"application/msword\",\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n      \"text/plain\",\n      \"application/vnd.oasis.opendocument.text\",\n      \"application/rtf\"\n    ];\n    const fileManager = new FileInputManager(form, alertManager, allowedExtensions, allowedMimeTypes);\n    form.addEventListener(\"submit\", function(e) {\n      e.preventDefault();\n      if (!validator.validateForm()) {\n        return;\n      }\n      const formData = new FormData(form);\n      formData.append(\"url\", window.location.href);\n      formData.append(\"form_id\", \"career\");\n      const submitButton = form.querySelector('button[type=\"submit\"]');\n      if (submitButton) {\n        submitButton.disabled = true;\n      }\n      fetch(form.action || \"/\", {\n        method: form.method || \"POST\",\n        cache: \"no-cache\",\n        body: formData,\n        headers: {\n          \"X-Requested-With\": \"XMLHttpRequest\"\n        }\n      }).then((response) => {\n        if (!response.ok) throw new Error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0441\\u0435\\u0442\\u0438\");\n        return response.json();\n      }).then((data) => {\n        validator.form.classList.add(validator.options.formSentClass);\n        if (validator.mainContainer) {\n          validator.mainContainer.classList.add(validator.options.mainSentClass);\n        }\n        form.reset();\n        fileManager.clearFile();\n        if (submitButton) {\n          submitButton.disabled = false;\n        }\n      }).catch((error) => {\n        alertManager.showAlert(\"alert--error\", \"check-error\", \"\\u041F\\u0440\\u0438 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0435 \\u0444\\u043E\\u0440\\u043C\\u044B \\u043F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430. \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437.\");\n        if (submitButton) {\n          submitButton.disabled = false;\n        }\n      });\n    });\n  })();\n  (function inputTelMask() {\n    const selector = 'form.career-form__part input[type=\"tel\"]';\n    [].forEach.call(document.querySelectorAll(selector), function(input) {\n      var keyCode;\n      function mask(event) {\n        event.keyCode && (keyCode = event.keyCode);\n        var pos = this.selectionStart;\n        if (event.type === \"keydown\") {\n          if (pos === 3 && (keyCode === 55 || keyCode === 56 || keyCode === 103 || keyCode === 104)) {\n            event.preventDefault();\n            return;\n          }\n        }\n        if (pos < 3) event.preventDefault();\n        var matrix = \"+7 ___ ___ - __ - __\", i = 0, def = matrix.replace(/\\D/g, \"\"), val = this.value.replace(/\\D/g, \"\"), new_value = matrix.replace(/[_\\d]/g, function(a) {\n          return i < val.length ? val.charAt(i++) || def.charAt(i) : a;\n        });\n        i = new_value.indexOf(\"_\");\n        if (i != -1) {\n          i < 3 && (i = 3);\n          new_value = new_value.slice(0, i);\n        }\n        var reg = matrix.substr(0, this.value.length).replace(/_+/g, function(a) {\n          return \"\\\\d{1,\" + a.length + \"}\";\n        }).replace(/[+ \\-]/g, \"\\\\$&\");\n        reg = new RegExp(\"^\" + reg + \"$\");\n        if (!reg.test(this.value) || this.value.length < 5 || keyCode > 47 && keyCode < 58) this.value = new_value;\n        if (event.type == \"blur\" && this.value.length < 5) this.value = \"\";\n      }\n      input.addEventListener(\"input\", mask, false);\n      input.addEventListener(\"focus\", mask, false);\n      input.addEventListener(\"blur\", mask, false);\n      input.addEventListener(\"keydown\", mask, false);\n    });\n  })();\n  (function b24FormSecondaryPartHide() {\n    function initFormLogic() {\n      const formContent = document.querySelector(\".b24-form-content\");\n      if (!formContent) return false;\n      const layoutSection = [...formContent.querySelectorAll(\".b24-form-field-layout-section\")].find(\n        (el) => el.textContent.trim().includes(\"\\u041C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0441\\u0440\\u0430\\u0437\\u0443 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0434\\u043B\\u044F \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0438\\u043B\\u0438 \\u043F\\u0440\\u0438\\u0441\\u043B\\u0430\\u0442\\u044C \\u0438\\u0445 \\u043F\\u043E\\u0437\\u0436\\u0435\")\n      );\n      if (!layoutSection) return false;\n      const checkboxField = formContent.querySelector(\".b24-form-field-bool\");\n      if (!checkboxField) return false;\n      const layoutField = layoutSection.closest(\".b24-form-field\");\n      if (!layoutField) return false;\n      const allFields = [...formContent.querySelectorAll(\".b24-form-field\")];\n      const startIndex = allFields.indexOf(layoutField);\n      const endIndex = allFields.indexOf(checkboxField);\n      if (startIndex === -1 || endIndex === -1 || endIndex <= startIndex) return false;\n      const fieldsToHide = allFields.slice(startIndex, endIndex);\n      const parent = layoutField.parentNode;\n      const hiddenContainer = document.createElement(\"div\");\n      hiddenContainer.className = \"hidden\";\n      fieldsToHide.forEach((field) => {\n        hiddenContainer.appendChild(field);\n      });\n      parent.insertBefore(hiddenContainer, checkboxField);\n      const toggleBtn = document.createElement(\"button\");\n      toggleBtn.type = \"button\";\n      toggleBtn.textContent = \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u0434\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0435 \\u043F\\u043E\\u043B\\u044F\";\n      toggleBtn.className = \"booking-toggle-btn2 btn2 btn2_sec\";\n      hiddenContainer.insertAdjacentElement(\"afterend\", toggleBtn);\n      toggleBtn.addEventListener(\"click\", () => {\n        hiddenContainer.classList.remove(\"hidden\");\n        toggleBtn.classList.add(\"hidden\");\n      });\n      return true;\n    }\n    if (!initFormLogic()) {\n      const observer = new MutationObserver((mutations, obs) => {\n        if (initFormLogic()) {\n          obs.disconnect();\n          clearTimeout(timeoutId);\n        }\n      });\n      observer.observe(document.body, { childList: true, subtree: true });\n      const timeoutId = setTimeout(() => {\n        observer.disconnect();\n      }, 6e4);\n    }\n  })();\n});\nfunction initSwiperSimple() {\n  swiperSimple = new Swiper(\".slider-simple__inner\", {\n    wrapperClass: \"slider-simple__list\",\n    slideClass: \"slider-simple__item\",\n    speed: 400,\n    spaceBetween: 0,\n    loop: true,\n    pagination: {\n      el: \".slider-pagination\",\n      type: \"bullets\"\n    },\n    navigation: {\n      nextEl: \".slider-simple .slider-btn--next\",\n      prevEl: \".slider-simple .slider-btn--prev\"\n    }\n  });\n}\n(function filterBar2() {\n  const classes = {\n    block: \".filter-bar2\",\n    btn: \".filter-bar2__btn\",\n    input: \".filter-bar2__input\",\n    list: \".filter-bar2__list\",\n    item: \".filter-bar2__item\",\n    menu: \".filter-bar2__menu\",\n    link: \".form-drop-list2__link\",\n    btnCloseMobile: \".form-drop-list2__mobile-close\",\n    clear: \".filter-bar2__clear\",\n    clearAll: \".filter-bar2__clear-all\",\n    section: \".filter-bar2-filterable-section\",\n    sectionList: \".filter-bar2-filterable-list\",\n    sectionMoreBtn: \".filter-bar2-filterable-more-btn\",\n    testCount: () => {\n      const c = Math.round(Math.random() * 10) / 10 > 0.5 ? 1 : 0;\n      return c;\n    }\n  };\n  const filterBar2Handler = (event) => {\n    const e = event;\n    const block = e.target.closest(classes.block);\n    if (!block) {\n      document.querySelector(\"body\").querySelectorAll(classes.btn + \".active\").forEach((btn) => {\n        btn.classList.remove(\"active\");\n        btn.closest(classes.item).querySelector(classes.menu).classList.remove(\"active\");\n      });\n      return;\n    }\n    if (!e.target.closest(classes.item)) closeAll(block);\n    btnHandler(e);\n    clearHandler(e);\n    clearAllHandler(e);\n    linkHandler(e);\n    btnCloseMobileHandler(e);\n    function checkAnyChanged() {\n      const btn = block.querySelector(classes.clearAll);\n      const inputs = block.querySelectorAll(classes.input);\n      let isChanged = () => {\n        for (const input of inputs) {\n          if (input.dataset.default !== input.value) return true;\n        }\n        return false;\n      };\n      btn.classList.toggle(\"active\", isChanged());\n    }\n    function btnCloseMobileHandler(e2) {\n      const btnCloseMobile = e2.target.closest(classes.btnCloseMobile);\n      if (!btnCloseMobile) return;\n      const menu = btnCloseMobile.closest(classes.menu);\n      const btn = menu.closest(classes.item).querySelector(classes.btn);\n      closeItem(btn, menu);\n    }\n    function linkHandler(e2) {\n      var _a;\n      const link = e2.target.closest(classes.link);\n      if (!link) return;\n      e2.preventDefault();\n      if (link.classList.contains(\"active\") || !link.hasAttribute(\"href\")) return;\n      const menu = link.closest(classes.menu);\n      const text = link.textContent.trim();\n      const item = link.closest(classes.item);\n      const input = item.querySelector(classes.input);\n      let dataValue = (_a = link.dataset.value) != null ? _a : \"\";\n      let group = link.dataset.group;\n      group = group ? group.trim() + \" \" : \"\";\n      input.value = group + text;\n      input.dataset.value = dataValue;\n      menu.querySelector(classes.link + \".active\").classList.remove(\"active\");\n      link.classList.add(\"active\");\n      updateMediaList();\n      checkItem(item);\n      checkAnyChanged();\n      closeAll(block);\n    }\n    function clearHandler(e2) {\n      const btn = e2.target.closest(classes.clear);\n      if (!btn) return;\n      const item = btn.closest(classes.item);\n      setDefault(item);\n    }\n    function clearAllHandler(e2) {\n      const btn = e2.target.closest(classes.clearAll);\n      if (!btn) return;\n      block.querySelectorAll(classes.item).forEach((item) => {\n        setDefault(item);\n      });\n    }\n    function btnHandler(e2) {\n      const btn = e2.target.closest(classes.btn);\n      if (!btn) return;\n      const item = btn.closest(classes.item);\n      const menu = item.querySelector(classes.menu);\n      if (btn.classList.contains(\"active\")) {\n        closeItem(btn, menu);\n      } else {\n        closeAll(block);\n        openItem(btn, menu);\n        runIfMobile(lockScroll);\n      }\n    }\n    function checkItem(item) {\n      loading();\n      const input = item.querySelector(classes.input);\n      item.classList.toggle(\"_changed\", input.dataset.default !== input.value);\n      setTimeout(() => {\n        loading(false);\n        checkMoreItems();\n      }, 1e3);\n    }\n    function closeAll(block2) {\n      block2.querySelectorAll(classes.btn + \".active\").forEach((btn) => {\n        closeItem(btn, btn.closest(classes.item).querySelector(classes.menu));\n      });\n    }\n    function closeItem(btn, menu) {\n      btn.classList.remove(\"active\");\n      menu.classList.remove(\"active\");\n      unLockScroll();\n    }\n    function openItem(btn, menu) {\n      btn.classList.add(\"active\");\n      menu.classList.add(\"active\");\n    }\n    function setDefault(item) {\n      item.querySelector(classes.link + \"[data-default]\").click();\n    }\n    function runIfMobile(cb) {\n      if (window.innerWidth >= 720) return;\n      cb();\n    }\n    function lockScroll() {\n      document.querySelector(\"body\").style.overflow = \"hidden\";\n    }\n    function unLockScroll() {\n      document.querySelector(\"body\").style.removeProperty(\"overflow\");\n    }\n    function loading(condition = true) {\n      getProcessedEls().forEach((el) => {\n        el.classList.toggle(\"_loading\", condition);\n      });\n    }\n    function getProcessedEls() {\n      const startEl = block.closest(classes.section) || block;\n      const selectors = [classes.list, classes.clearAll, classes.sectionList, classes.sectionMoreBtn];\n      const elList = [];\n      if (startEl) {\n        selectors.forEach((selector) => {\n          const els = startEl.querySelectorAll(selector);\n          if (els.length > 0) {\n            els.forEach((el) => {\n              elList.push(el);\n            });\n          }\n        });\n      }\n      return elList;\n    }\n    function checkMoreItems() {\n      const section = block.closest(classes.section);\n      if (!section) return;\n      const $btn = $(section).find(classes.sectionMoreBtn);\n      let offset = parseInt($btn.data(\"offset\")), total = parseInt($btn.data(\"total\"));\n      offset = isNaN(offset) ? 0 : offset;\n      total = isNaN(total) ? 0 : total;\n      if (offset >= total) {\n        $btn.addClass(\"btn-row--hide _loading\").closest(\".js-btn-hidebox\").addClass(\"hidden\");\n      } else {\n        $btn.removeClass(\"btn-row--hide _loading\").closest(\".js-btn-hidebox\").removeClass(\"hidden\");\n      }\n    }\n  };\n  document.querySelector(\"body\").addEventListener(\"click\", (e) => {\n    filterBar2Handler(e);\n  });\n})();\nfunction getMediaListQuery() {\n  let queryParams = {};\n  $(\"ul.filter-bar2__list input.filter-bar2__input\").each(function(idx) {\n    queryParams[this.name] = this.dataset.value;\n  });\n  return queryParams;\n}\nfunction updateMediaList() {\n  let $btn = $(\".main-content--press .filter-bar2-filterable-more-btn\");\n  const loadingBar = document.querySelector(\".loading-bar\");\n  $btn.prop(\"disabled\", true);\n  $.ajax({\n    url: $(\"ul.filter-bar2__list\").data(\"url\"),\n    data: getMediaListQuery(),\n    cache: false,\n    dataType: \"json\",\n    type: \"get\",\n    async: true,\n    xhr: function() {\n      var xhr = $.ajaxSettings.xhr();\n      xhr.upload.onprogress = function(event) {\n        initLoadingBar(loadingBar, 100 * event.loaded / event.total);\n      };\n      return xhr;\n    },\n    error: function(xhr, status, err) {\n      alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n      $btn.prop(\"disabled\", false);\n      hideLoadingBar(loadingBar);\n    },\n    success: function(data) {\n      let offset = parseInt(data[\"offset\"]);\n      $(\".news2__list.filter-bar2-filterable-list\").html(data[\"content\"]);\n      $btn.data(\"offset\", offset);\n      $btn.data(\"total\", parseInt(data[\"total\"]));\n      if (offset >= parseInt($btn.data(\"total\"))) {\n        $btn.hide();\n      } else {\n        if ($btn.is(\":hidden\")) {\n          $btn.show();\n        }\n      }\n      $(\"div.filter-bar2 .filter-bar2__item\").each(function(idx) {\n        const f_key = $(this).find(\".filter-bar2__input\").attr(\"name\");\n        $(this).find(\".form-drop-list2__list li > a\").each(function() {\n          if (!$(this).data(\"value\")) {\n            return;\n          }\n          $(this).removeAttr(\"href\");\n          if ($.inArray($(this).data(\"value\").toString(), data[\"active\"][f_key]) > -1) {\n            $(this).attr(\"href\", \"#\");\n          }\n        });\n      });\n      $btn.prop(\"disabled\", false);\n      hideLoadingBar(loadingBar);\n    }\n  });\n}\nfunction initLoadingBar(loadingBar, percentComplete) {\n  loadingBar.classList.remove(\"hidden\");\n  loadingBar.style.width = percentComplete + \"%\";\n}\nfunction hideLoadingBar(loadingBar) {\n  loadingBar.removeAttribute(\"style\");\n  loadingBar.classList.add(\"hidden\");\n}\nfunction filterVipHotels($list, resort_id, category_id, filter_var) {\n  var valid = {};\n  $list.each(function() {\n    if (filter_var == \"resort_id\") {\n      if (category_id && this.getAttribute(\"data-category\").split(\",\").indexOf(category_id) < 0) {\n        this.classList.add(\"hidden\");\n        return;\n      }\n      valid[this.getAttribute(\"data-resort\")] = 1;\n      if (resort_id && this.getAttribute(\"data-resort\") != resort_id) {\n        this.classList.add(\"hidden\");\n      } else {\n        this.classList.remove(\"hidden\");\n      }\n    } else {\n      if (resort_id && this.getAttribute(\"data-resort\") != resort_id) {\n        this.classList.add(\"hidden\");\n        return;\n      }\n      if (filter_var == \"category_id\") {\n        this.getAttribute(\"data-category\").split(\",\").forEach((id) => {\n          valid[id] = 1;\n        });\n      }\n      if (category_id && this.getAttribute(\"data-category\").split(\",\").indexOf(category_id) < 0) {\n        this.classList.add(\"hidden\");\n        return;\n      } else {\n        this.classList.remove(\"hidden\");\n      }\n    }\n  });\n  return valid;\n}\nwindow.addEventListener(\"load\", () => {\n  var _a;\n  $('.js-enable-form [type=\"submit\"]:disabled').prop(\"disabled\", null);\n  const daterangepickerNode = document.querySelectorAll(\".daterangepicker\");\n  if (daterangepickerNode.length > 0) {\n    for (const node of daterangepickerNode) {\n      let observer = new MutationObserver((mutationRecords) => {\n        const observerMutStyle = node.getAttribute(\"style\");\n        setTimeout(closeCalendar, 250);\n        function closeCalendar() {\n          if (observerMutStyle && observerMutStyle.includes(\"none\")) {\n            const calendarBody = document.querySelectorAll(\".form-item--calendar\");\n            for (const body of calendarBody) {\n              body.classList.remove(\"form-item--active\");\n            }\n            const headerForms = document.querySelectorAll(\".header-form\");\n            for (const headerForm of headerForms) {\n              headerForm.classList.remove(\"active\");\n            }\n            const header = document.querySelector(\"header\");\n            if (header) {\n              header.classList.remove(\"active\");\n            }\n            unLockScroll();\n          }\n        }\n      });\n      observer.observe(node, {\n        attributes: true\n      });\n    }\n  }\n  function unLockScroll() {\n    const body = document.querySelector(\"body\");\n    body.removeAttribute(\"style\");\n  }\n  (function accordion() {\n    $(\".accordion > li > div\").hide();\n    $(\".right-link\").each(function() {\n      if ($(this).find(\"a.open-all\").length === 0) {\n        var openAllHtml = '<a class=\"open-all\" href=\"\"><span class=\"open-all__text\">\\u0420\\u0430\\u0441\\u043A\\u0440\\u044B\\u0442\\u044C \\u0432\\u0441\\u0451</span><span class=\"open-all__icon\"></span></a>';\n        $(this).append(openAllHtml);\n      }\n    });\n    $(\".accordion > li > a\").on(\"click\", function(e) {\n      e.preventDefault();\n      var $thisDiv = $(this).next();\n      var $thisLink = $(this);\n      var duration = 300;\n      if ($thisDiv.is(\":visible\")) {\n        $thisDiv.slideUp(duration);\n        $thisLink.removeClass(\"active\");\n        $thisDiv.removeClass(\"active\");\n      } else {\n        $thisDiv.slideDown(duration);\n        $thisLink.addClass(\"active\");\n        $thisDiv.addClass(\"active\");\n      }\n    });\n    $(document).on(\"click\", \".open-all\", function(e) {\n      e.preventDefault();\n      var $this = $(this);\n      var $thisText = $this.find(\".open-all__text\");\n      var isActive = $this.hasClass(\"active\");\n      var $allDivs = $this.parents().eq(1).find(\".accordion > li > div\");\n      var duration = 300;\n      if (isActive) {\n        $allDivs.slideUp(duration);\n        $this.parents().eq(1).find(\".accordion > li > a\").removeClass(\"active\");\n        $allDivs.removeClass(\"active\");\n        $this.removeClass(\"active\");\n        $thisText.text(\"\\u0420\\u0430\\u0441\\u043A\\u0440\\u044B\\u0442\\u044C \\u0432\\u0441\\u0451\");\n      } else {\n        $allDivs.slideDown(duration);\n        $this.parents().eq(1).find(\".accordion > li > a\").addClass(\"active\");\n        $allDivs.addClass(\"active\");\n        $this.addClass(\"active\");\n        $thisText.text(\"\\u0421\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u0441\\u0435\");\n      }\n    });\n  })();\n  function accardionOn(selectorBtn, selectorParrent, selectorHideBox, openAllBtn = \"\", paddingTop = \"\", paddingBottom = \"\", data = false, noHideAll = false) {\n    const accordionBtns = document.querySelectorAll(selectorBtn);\n    if (accordionBtns.length > 0) {\n      for (const btn of accordionBtns) {\n        btn.addEventListener(\"click\", function(e) {\n          e.preventDefault();\n          const hideBox = this.closest(selectorParrent).querySelector(selectorHideBox);\n          let hideBoxHeight;\n          if (data) {\n            hideBoxHeight = hideBox.getAttribute(\"height-content\");\n          } else if (selectorBtn === \".header-form__formclose-btn\") {\n            hideBoxHeight = hideBox.querySelector(`${selectorHideBox} > *`).offsetHeight;\n          } else {\n            hideBoxHeight = hideBox.querySelector(`${selectorHideBox} > *`).offsetHeight;\n          }\n          this.classList.toggle(\"active\");\n          if (this.classList.contains(\"active\")) {\n            if (!noHideAll) {\n              const hideBoxes = document.querySelectorAll(selectorHideBox);\n              for (const i of hideBoxes) {\n                i.setAttribute(\"style\", `height: 0; padding-top: 0; padding-bottom: 0`);\n                i.classList.remove(\"active\");\n              }\n              for (const btn2 of accordionBtns) {\n                btn2.classList.remove(\"active\");\n              }\n            }\n            hideBox.setAttribute(\n              \"style\",\n              `height: ${Number(hideBoxHeight) + Number(paddingTop) + Number(paddingBottom)}px; padding-bottom: ${paddingBottom}px; padding-top: ${paddingTop}px`\n            );\n            hideBox.classList.add(\"active\");\n            this.classList.add(\"active\");\n          } else {\n            if (!noHideAll) {\n              const hideBoxes = document.querySelectorAll(selectorHideBox);\n              for (const i of hideBoxes) {\n                i.classList.remove(\"active\");\n                if (data) {\n                  i.setAttribute(\"style\", `height: 0; padding-top: 0; padding-bottom: 0;`);\n                } else {\n                  i.setAttribute(\"style\", `height: 0;`);\n                }\n                for (const btn2 of accordionBtns) {\n                  btn2.classList.remove(\"active\");\n                }\n              }\n            }\n            if (data) {\n              hideBox.setAttribute(\"style\", `height: 0; padding-top: 0; padding-bottom: 0;`);\n            } else {\n              hideBox.setAttribute(\"style\", `height: 0;`);\n            }\n            hideBox.classList.remove(\"active\");\n            this.classList.remove(\"active\");\n          }\n        });\n      }\n      if (openAllBtn !== \"\") {\n        const openBtn = document.querySelector(openAllBtn);\n        if (openBtn) {\n          openBtn.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            openBtn.classList.toggle(\"active\");\n            const hideBoxes = document.querySelectorAll(selectorHideBox);\n            if (openBtn.classList.contains(\"active\")) {\n              openBtn.textContent = \"\\u0421\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C \\u0432\\u0441\\u0435\";\n              let hideBoxHeight;\n              for (const hideBox of hideBoxes) {\n                if (data) {\n                  hideBoxHeight = hideBox.getAttribute(\"height-content\");\n                } else {\n                  hideBoxHeight = hideBox.querySelector(`${selectorHideBox} > *`).offsetHeight;\n                }\n                hideBox.setAttribute(\n                  \"style\",\n                  `height: ${Number(hideBoxHeight) + Number(paddingTop) + Number(paddingBottom)}px; padding-bottom: ${paddingTop}px; padding-top: ${paddingBottom}px`\n                );\n                hideBox.classList.add(\"active\");\n              }\n              for (const btn of accordionBtns) {\n                btn.classList.add(\"active\");\n              }\n            } else {\n              openBtn.textContent = \"\\u0420\\u0430\\u0441\\u043A\\u0440\\u044B\\u0442\\u044C \\u0432\\u0441\\u0451\";\n              for (const hideBox of hideBoxes) {\n                hideBox.setAttribute(\"style\", `height: 0; padding-top: 0; padding-bottom: 0;`);\n                hideBox.classList.remove(\"active\");\n              }\n              const allSelectors = document.querySelectorAll(selectorBtn);\n              for (const selector of allSelectors) {\n                selector.classList.remove(\"active\");\n              }\n            }\n          });\n        }\n      }\n    }\n  }\n  function getFinalScrollPosition(scrollTarget) {\n    const currentScroll = window.pageYOffset || document.documentElement.scrollTop;\n    const elementPositionInWindow = scrollTarget.getBoundingClientRect().top;\n    const targetPosition = elementPositionInWindow + currentScroll;\n    const htmlCss = getComputedStyle(document.documentElement);\n    const headerHeight = parseFloat(htmlCss.getPropertyValue(\"--re-page-header-height\"));\n    const headerFormHeight = parseFloat(htmlCss.getPropertyValue(\"--re-page-header-form-height\"));\n    const margin = 16 * 2;\n    const navEl = document.querySelector(\".main-content2__nav-btns\") || document.querySelector(\".main-content2__column+.blog-nav\");\n    const navElHeight = navEl ? navEl.offsetHeight : 0;\n    const addedSize = window.innerWidth < 1e3 && targetPosition < currentScroll ? headerHeight : 0;\n    const finalScrollPosition = elementPositionInWindow - headerFormHeight - addedSize - navElHeight - margin;\n    return finalScrollPosition;\n  }\n  document.querySelectorAll('a[href^=\"#\"').forEach((link) => {\n    if (link.getAttribute(\"href\").length > 1) {\n      link.addEventListener(\"click\", function(e) {\n        e.preventDefault();\n        scrollToElement(this.getAttribute(\"href\").substring(1));\n      });\n    }\n  });\n  function scrollToElement(href) {\n    const scrollTarget = document.getElementById(href);\n    if (scrollTarget) {\n      const finalScrollPosition = getFinalScrollPosition(scrollTarget);\n      window.scrollBy({ top: finalScrollPosition, behavior: \"smooth\" });\n      if (scrollTarget.closest(\".tabs-menu\") || scrollTarget.closest(\".btns_new\"))\n        setTimeout(() => {\n          scrollTarget.click();\n        }, 1);\n    }\n  }\n  if (location.hash.length > 1) {\n    scrollToElement(location.hash.substring(1));\n  }\n  if (document.querySelector(\".filter-bar3.js-scroll-results\") && document.querySelector(\".tours-in2__list-header\")) {\n    scrollToElement(\"tours-list-header\");\n  }\n  addChilds();\n  function addChilds() {\n    const inputsChilds = $(\".input-number__input--child\");\n    const inputsBtns = $(\".input-number__btn\");\n    $.each(inputsBtns, function(index, inputsBtn) {\n      $(inputsBtn).click(function() {\n        let thisInput = $(this).closest(\".input-number\").find(\".input-number__input--child\");\n        if (thisInput.length > 0) {\n          const childRows = $(this).closest(\".members\").find(\".members__row\");\n          const childRowsWrapper = $(this).closest(\".members\").find(\".members__add\");\n          childRowsWrapper.attr(\"style\", `height: ${childRowsWrapper.find(\".members__add-inner\").height()}px`);\n          let countChild = Number($(thisInput).val());\n          let count = 0;\n          $.each(childRows, function(index2, childRow) {\n            $(childRow).addClass(\"d-none\");\n          });\n          while (count < countChild) {\n            $(childRows[count]).removeClass(\"d-none\");\n            count++;\n          }\n          childRowsWrapper.attr(\"style\", `overflow: hidden; height: ${childRowsWrapper.find(\".members__add-inner\").height()}px`);\n          setTimeout(() => {\n            childRowsWrapper.attr(\"style\", `overflow: unset; height: ${childRowsWrapper.find(\".members__add-inner\").height()}px`);\n          }, 1e3);\n        }\n      });\n    });\n  }\n  chengeHowManyPeople();\n  function chengeHowManyPeople() {\n    const inputsBtns = $(\".input-number__btn\");\n    if (inputsBtns.length > 0) {\n      let change = function(btn) {\n        const howManyInput = $(btn).closest(\".form-item\").find(\".form-item__input\");\n        const howManyPeopleInputs = $(btn).closest(\".form-item\").find(\".input-number__input\");\n        let summ = 0;\n        $.each(howManyPeopleInputs, function(index, input) {\n          summ += Number($(input).val());\n        });\n        const lastNumber = summ.toString().slice(-1);\n        let word;\n        if ((lastNumber == 4 || lastNumber == 3 || lastNumber == 2) && !(summ == 11 || summ == 12 || summ == 13 || summ == 14)) {\n          word = \"\\u0447\\u0435\\u043B\\u043E\\u0432\\u0435\\u043A\\u0430\";\n        } else {\n          word = \"\\u0447\\u0435\\u043B\\u043E\\u0432\\u0435\\u043A\";\n        }\n        $(howManyInput).val(summ + \" \" + word);\n      };\n      $.each(inputsBtns, function(index, btn) {\n        change(btn);\n        $(btn).click(function() {\n          change(this);\n        });\n      });\n    }\n  }\n  setTimeout(function() {\n    $(\"input[data-default]\").each(function() {\n      if (this.value != this.dataset[\"default\"]) this.value = this.dataset[\"default\"];\n    });\n  }, 10);\n  $(\".js-excursions-form-block form\").on(\"submit\", function(e) {\n    e.preventDefault();\n    var $this = $(this), params = [], val = $this.find('input[name=\"resort_id\"]').attr(\"data-value\");\n    if (val) params.push(\"resort_id=\" + val);\n    val = $this.find('input[name=\"type_id\"]').attr(\"data-value\");\n    if (val) params.push(\"type_id=\" + val);\n    location.href = val = $this.find('input[name=\"country\"]').attr(\"data-url\") + (params.length ? \"?\" + params.join(\"&\") : \"\");\n    return false;\n  });\n  $(\".reviews-list__btn-row\").on(\"click\", function() {\n    let btn = this, hidebox = btn.closest(\".js-btn-hidebox\");\n    $.ajax({\n      url: $(btn).data(\"url\"),\n      data: {\n        page: $(btn).data(\"page\") + 1\n      },\n      cache: false,\n      dataType: \"html\",\n      type: \"post\",\n      error: function(xhr, status, err) {\n        alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n        btn.classList.remove(\"btn--load-loading\");\n      },\n      success: function(data) {\n        var page = parseInt($(btn).data(\"page\")) + 1;\n        if (page >= parseInt($(btn).data(\"pages\"))) {\n          $(btn).addClass(\"btn-row--hide\");\n          if (hidebox) $(hidebox).addClass(\"hidden\");\n        } else {\n          $(btn).removeClass(\"btn-row--hide\").data(\"page\", page);\n          if (hidebox) $(hidebox).removeClass(\"hidden\");\n        }\n        $(data).appendTo(\".reviews-list__inner\");\n        btn.classList.remove(\"btn--load-loading\");\n      }\n    });\n  });\n  $(\".news-list-section__btn\").on(\"click\", function() {\n    let btn = this, hidebox = btn.closest(\".js-btn-hidebox\");\n    $.ajax({\n      url: $(btn).data(\"url\"),\n      data: {\n        page: $(btn).data(\"page\") + 1\n      },\n      cache: false,\n      dataType: \"html\",\n      type: \"get\",\n      error: function(xhr, status, err) {\n        alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n        btn.classList.remove(\"btn--load-loading\");\n      },\n      success: function(data) {\n        var page = parseInt($(btn).data(\"page\")) + 1;\n        if (page >= parseInt($(btn).data(\"pages\"))) {\n          $(btn).addClass(\"btn-row--hide\");\n          if (hidebox) $(hidebox).addClass(\"hidden\");\n        } else {\n          $(btn).removeClass(\"btn-row--hide\").data(\"page\", page);\n          if (hidebox) $(hidebox).removeClass(\"hidden\");\n        }\n        $(data).appendTo(\".news3 .news3__list\");\n        btn.classList.remove(\"btn--load-loading\");\n      }\n    });\n  });\n  if ($(\".page--press\").length) {\n    $(window).on(\"popstate\", function(e) {\n      let $btn = $('.btn--press[href=\"' + document.location.href + '\"]');\n      $btn = $btn.length ? $btn : $('.press-header__back[href=\"' + document.location.href + '\"]');\n      if (!$btn.length && document.location.href.substr(0, 4) === \"http\") {\n        $btn = $('.btn--press[href=\"' + document.location.href.substr(document.location.href.indexOf(\"/\", 8)) + '\"]');\n        $btn = $btn.length ? $btn : $('.press-header__back[href=\"' + document.location.href.substr(document.location.href.indexOf(\"/\", 8)) + '\"]');\n      }\n      if ($btn.length) pressLink($btn, true);\n    });\n  }\n  $(\".page--press\").on(\"click\", \".btn--press, .press-header__back\", function(e) {\n    e.preventDefault();\n    pressLink($(this));\n    return false;\n  });\n  function pressLink($btn, no_history) {\n    const loadingBar = document.querySelector(\".loading-bar\");\n    $.ajax({\n      url: $btn.prop(\"href\"),\n      data: { init_load: true },\n      cache: false,\n      dataType: \"json\",\n      type: \"post\",\n      async: true,\n      xhr: function() {\n        var xhr = $.ajaxSettings.xhr();\n        xhr.upload.onprogress = function(event) {\n          initLoadingBar(loadingBar, 100 * event.loaded / event.total);\n        };\n        return xhr;\n      },\n      error: function(xhr, status, err) {\n        alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n        hideLoadingBar(loadingBar);\n      },\n      success: function(data) {\n        let $block = $(\".main-content--press > .main-content__block\"), $nav = $(\".btns--press-nav\").closest(\".main-content__block-header\");\n        if (!$block.length) $block = $(\".main-content--press-post > .main-content__block\");\n        $block.children().not(\":first\").remove();\n        $btn.closest(\".btns__list\").find(\".active\").removeClass(\"active\");\n        $btn.addClass(\"active\");\n        if ($nav.is(\":hidden\")) {\n          $nav.show();\n          $(\".main-content.main-content--press-post\").removeClass(\"main-content--press-post\").addClass(\"main-content--press\");\n        }\n        $(\".press-header__part-back\").hide();\n        $(data[\"content\"]).appendTo($block);\n        if ($block.find(\".slider-simple__inner\").length) initSwiperSimple();\n        $(\".press-header__title.h1\").text(\"\\u041F\\u0440\\u0435\\u0441\\u0441-\\u0446\\u0435\\u043D\\u0442\\u0440\");\n        $(\"aside.main__aside\").hide();\n        $(\"main\").removeClass(\"main--press-post\");\n        document.querySelector(\"title\").textContent = data[\"title\"];\n        $(\"html, body\").animate(\n          {\n            scrollTop: $(\".press-header\").offset().top\n          },\n          500\n        );\n        if (!no_history) window.history.pushState({}, null, $btn.prop(\"href\"));\n        hideLoadingBar(loadingBar);\n      }\n    });\n  }\n  $(\".main-content--press\").on(\"click\", \".news-list__link, .card-news3__inner\", function(e) {\n    return;\n    // removed by dead control flow\n\n    // removed by dead control flow\n\n    // removed by dead control flow\n\n    // removed by dead control flow\n\n    // removed by dead control flow\n\n  });\n  $(\".main-content--press\").on(\"click\", \".press-releases-list-section__btn, .filter-bar2-filterable-more-btn\", function(e) {\n    e.preventDefault();\n    let $btn = $(this);\n    const loadingBar = document.querySelector(\".loading-bar\");\n    $btn.addClass(\"btn-row--load\").prop(\"disabled\", true);\n    let params = getMediaListQuery();\n    params[\"offset\"] = $btn.data(\"offset\");\n    if ($btn.hasClass(\"filter-bar2-filterable-more-btn\")) {\n      params[\"is_show_more\"] = 1;\n    }\n    $.ajax({\n      url: $btn.data(\"url\"),\n      data: params,\n      cache: false,\n      dataType: \"json\",\n      type: \"get\",\n      async: true,\n      xhr: function() {\n        var xhr = $.ajaxSettings.xhr();\n        xhr.upload.onprogress = function(event) {\n          initLoadingBar(loadingBar, 100 * event.loaded / event.total);\n        };\n        return xhr;\n      },\n      error: function(xhr, status, err) {\n        alert(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\");\n        $btn.removeClass(\"btn-row--load\").prop(\"disabled\", false);\n        hideLoadingBar(loadingBar);\n      },\n      success: function(data) {\n        var offset = parseInt(data[\"offset\"]);\n        $(data[\"content\"]).appendTo($btn.parents(\".main-content__block\").find(\"ul.content-ul\"));\n        $btn.data(\"offset\", offset);\n        if (offset >= parseInt($btn.data(\"total\"))) {\n          $btn.hide();\n        } else {\n          $btn.removeClass(\"btn-row--load\").prop(\"disabled\", false);\n          if ($btn.is(\":hidden\")) {\n            $btn.show();\n          }\n        }\n        hideLoadingBar(loadingBar);\n      }\n    });\n  });\n  $(\".currency__choice-link\").on(\"click\", function(e) {\n    e.preventDefault();\n    $(\".currency__list .currency__item\").removeClass(function(index, className) {\n      return (className.match(/(^|\\s)currency__item--\\S+/g) || []).join(\" \");\n    });\n    let curr = {\n      usd: $('.currency__value[data-currency=\"usd\"]'),\n      eur: $('.currency__value[data-currency=\"eur\"]'),\n      rub: $('.currency__value[data-currency=\"rub\"]')\n    };\n    curr[\"usd\"].html($(this).data(\"usd\"));\n    curr[\"usd\"].closest(\"li\").addClass($(this).data(\"usd-class\"));\n    curr[\"eur\"].html($(this).data(\"eur\"));\n    curr[\"eur\"].closest(\"li\").addClass($(this).data(\"eur-class\"));\n    curr[\"rub\"].html($(this).data(\"rub\"));\n    curr[\"rub\"].closest(\"li\").addClass($(this).data(\"rub-class\"));\n    curr[\"rub\"].siblings(\".currency__name\").html($(this).data(\"h3\"));\n    let currency_choice = $(this).text().substr(0, 3), expires = /* @__PURE__ */ new Date();\n    expires.setTime(expires.getTime() + 10 * 24 * 60 * 60 * 1e3);\n    document.cookie = \"currency_choice=\" + currency_choice + \"; expires=\" + expires.toUTCString() + \"; path=/\";\n    $(\".currency__choice .currency__choice-on\").text(currency_choice);\n    $(\".currency__choice-btn.active\").click();\n  });\n  var $mobile_menu = $(\"#mobile_page_menu\");\n  if ($mobile_menu.length) {\n    $mobile_menu.find(\".tours-popup__title\").text($(\".main-content h1\").text());\n    $mobile_menu.find(\".tours-popup__aside-list.aside-list--popup\").html($(\".main__aside .aside-list\").html());\n    $mobile_menu.find(\".tours-popup__aside-links.aside-links\").html($(\".main__aside .aside-links\").html());\n  }\n  accardionOn(\".aside-list__link--menu\", \"li\", \".aside-list__hide-box\", \"\", \"\", \"\", false, true);\n  accardionOn(\".currency__choice-btn\", \".currency__choice\", \".currency__hide-box\");\n  accardionOn(\".header-form__formclose-btn\", \".header-form__wrapper\", \".header-form__container\");\n  const scrollToBlock = (e) => {\n    var _a2;\n    const innerBlockPosition = (_a2 = document.querySelector(\n      '.drop-country2__group-title[data-worldpart_id=\"' + e.currentTarget.dataset.worldpart_id + '\"]'\n    )) == null ? void 0 : _a2.offsetTop;\n    if (!innerBlockPosition) return;\n    let scrollBlock = e.currentTarget.closest(\".header__main\");\n    if (!scrollBlock) scrollBlock = e.currentTarget.closest(\".nav-item__container\");\n    if (!scrollBlock) return;\n    scrollBlock.scrollTo({ top: innerBlockPosition, behavior: \"smooth\" });\n  };\n  (_a = document.querySelectorAll(\".drop-country2 .btn[data-worldpart_id]\")) == null ? void 0 : _a.forEach((btn) => btn.addEventListener(\"click\", scrollToBlock));\n  $(\".tours-in2 button[data-total]\").on(\"click\", function(e) {\n    $(\".tours-in2__list .tours-in2__item.hidden\").slice(0, $(this).data(\"limit\")).removeClass(\"hidden\");\n    if (!$(\".tours-in2__list .tours-in2__item.hidden\").length) $(this).parent().remove();\n  });\n});\nfunction throttle(func, delay = 1e3) {\n  if (typeof func != \"function\") return;\n  let canRun = true;\n  return function() {\n    if (!canRun) return;\n    canRun = false;\n    setTimeout(() => {\n      func();\n      canRun = true;\n    }, delay);\n  };\n}\nfunction fixIosImgSrcCopy(img) {\n  function isIOS() {\n    return /iP(hone|od|ad)/.test(navigator.platform) || navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document;\n  }\n}\nfunction moveElement(element, targetContainer, position = \"append\") {\n  if (!element || !targetContainer) {\n    return;\n  }\n  switch (position) {\n    case \"append\":\n      targetContainer.appendChild(element);\n      break;\n    case \"prepend\":\n      targetContainer.insertBefore(element, targetContainer.firstChild);\n      break;\n    case \"before\":\n      targetContainer.parentNode.insertBefore(element, targetContainer);\n      break;\n    case \"after\":\n      targetContainer.parentNode.insertBefore(element, targetContainer.nextSibling);\n      break;\n    default:\n  }\n}\n\n\n//# sourceURL=webpack:///./o.js?\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./o.js"](0,__webpack_exports__,__webpack_require__);
/******/ 	
/******/ })()
;